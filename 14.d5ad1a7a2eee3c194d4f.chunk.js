(window.webpackJsonp=window.webpackJsonp||[]).push([[14,6],{"04ff8c05da014e6eacb1":function(t,e,n){t.exports=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var o=document.createEvent("Event");o.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var r,a=2;a<t.length;a++)r=t[a],o[r]=i[r]||e[a];o.buttons=i.buttons||0;var s=0;return s=void 0!==i.pressure&&o.buttons?i.pressure:o.buttons?.5:0,o.x=o.clientX,o.y=o.clientY,o.pointerId=i.pointerId||0,o.width=i.width||1,o.height=i.height||1,o.pressure=s,o.tiltX=i.tiltX||0,o.tiltY=i.tiltY||0,o.twist=i.twist||0,o.tangentialPressure=i.tangentialPressure||0,o.pointerType=i.pointerType||"",o.hwTimestamp=i.hwTimestamp||0,o.isPrimary=i.isPrimary||!1,o.detail=0,o}var i=window.Map&&window.Map.prototype.forEach?Map:o;function o(){this.array=[],this.size=0}o.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}};var r=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!==typeof SVGElementInstance,u={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,i=n.events;i&&(i.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=new n(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),i=0;i<r.length;i++)n[e=r[i]]=t[e]||a[i],!l||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var i=t.target,o=[];null!=i&&i!==document&&!i.contains(t.relatedTarget);)if(o.push(i),!(i=i.parentNode))return;n&&o.reverse(),o.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,i){this.captureInfo[t]&&this.releaseCapture(t,i),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var o=new n("gotpointercapture",{bubbles:!0});o.pointerId=t,o._target=e,i||this.asyncDispatchEvent(o)},releaseCapture:function(t,e){var i=this.captureInfo[t];if(i){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var o=new n("lostpointercapture",{bubbles:!0});o.pointerId=t,o._target=i,e||this.asyncDispatchEvent(o)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};u.boundHandler=u.eventHandler.bind(u);var c={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var i,o,r=t.elementFromPoint(e,n);for(o=this.targetingShadow(r);o;){if(i=o.elementFromPoint(e,n)){var a=this.targetingShadow(i);return this.searchRoot(a,e,n)||i}o=this.olderShadow(o)}return r}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,i=this.owner(t.target);return i.elementFromPoint(e,n)||(i=document),this.searchRoot(i,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),f=Array.prototype.slice.call.bind(Array.prototype.slice),d=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function _(t,e,n,i){this.addCallback=t.bind(i),this.removeCallback=e.bind(i),this.changedCallback=n.bind(i),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function y(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}_.prototype={watchSubtree:function(t){this.observer&&c.canTarget(t)&&this.observer.observe(t,v)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(f(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=p(t,this.findElements,this);return e.push(d(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var m=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],x="",b=window.PointerEvent||window.MSPointerEvent,E=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,w=u.pointermap,S=[1,4,2,8,16],C=!1;try{C=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var O,T={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,o=t.clientY,r=0,a=n.length;r<a&&(e=n[r]);r++){var s=Math.abs(i-e.x),l=Math.abs(o-e.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(t){var e=u.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=w.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=w.get(this.POINTER_ID),n=this.prepareEvent(t);C||(n.buttons=S[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),w.set(this.POINTER_ID,t),e&&0!==e.buttons?u.move(n):u.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);C||this.prepareButtonsForMove(e,t),e.button=-1,w.set(this.POINTER_ID,t),u.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=w.get(this.POINTER_ID),n=this.prepareEvent(t);if(!C){var i=S[n.button];n.buttons=e?e.buttons&~i:0,t.buttons=n.buttons}w.set(this.POINTER_ID,t),n.buttons&=~S[n.button],0===n.buttons?u.up(n):u.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);C||this.prepareButtonsForMove(e,t),e.button=-1,w.set(this.POINTER_ID,t),u.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);C||this.prepareButtonsForMove(e,t),e.button=-1,u.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);u.cancel(e),this.deactivateMouse()},deactivateMouse:function(){w.delete(this.POINTER_ID)}},I=u.captureInfo,R=c.findTarget.bind(c),P=c.allShadows.bind(c),M=u.pointermap,L={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){O.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"===typeof n&&(t._scrollType=n,u.listen(t,this.events),P(t).forEach(function(t){t._scrollType=n,u.listen(t,this.events)},this))},elementRemoved:function(t){if(M.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,u.unlisten(t,e)})}else t._scrollType=void 0,u.unlisten(t,this.events);P(t).forEach(function(t){t._scrollType=void 0,u.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),i=this.touchActionToScrollType(n),o=this.touchActionToScrollType(e);"number"===typeof i&&"number"===typeof o?(t._scrollType=i,P(t).forEach(function(t){t._scrollType=i},this)):"number"===typeof o?this.elementRemoved(t):"number"===typeof i&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===M.size||1===M.size&&M.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=u.cloneEvent(t),i=n.pointerId=t.identifier+2;if(n.target=I[i]||R(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var o=Math.tan(t.altitudeAngle),r=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/o)*r,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/o)*r}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var i,o=0;o<n.length;o++)i=n[o],e.call(this,this.touchToPointer(i))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var i=t.changedTouches[0],o=i.clientY-this.firstXY.Y,r=Math.abs(o),a=i.clientX-this.firstXY.X,s=Math.abs(a),l=1&n,u=2&n,c=4&n,h=8&n;c&&h?e=s>r:c?e=s>r&&a>0:h&&(e=s>r&&a<0),e||(l&&u?e=s<r:l?e=s<r&&o>0:u&&(e=s<r&&o<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,i=0,o=t.length;i<o&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(M.size>=e.length){var n=[];M.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var o=t.out;n.push(o)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){M.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),u.enterOver(t),u.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=M.get(e.pointerId);if(n){var i=n.out,o=n.outTarget;u.move(e),i&&o!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=o,i.target=o,e.target?(u.leaveOut(i),u.enterOver(e)):(e.target=o,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(u.up(t),u.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){u.cancel(t),u.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){M.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=T.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var o=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(o,2500)}}};O=new _(L.elementAdded,L.elementRemoved,L.elementChanged,L);var F,A,D,k=u.pointermap,z=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,j={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return z&&((e=u.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){k.delete(t)},MSPointerDown:function(t){k.set(t.pointerId,t);var e=this.prepareEvent(t);u.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);u.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);u.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);u.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);u.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);u.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=u.makeEvent("lostpointercapture",t);u.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=u.makeEvent("gotpointercapture",t);u.dispatchEvent(e)}};function N(t){if(!u.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function G(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function Y(t){var e=u.pointermap.get(t);return 0!==e.buttons}return window.navigator.msPointerEnabled?(F=function(t){N(t),G(this),Y(t)&&(u.setCapture(t,this,!0),this.msSetPointerCapture(t))},A=function(t){N(t),u.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(F=function(t){N(t),G(this),Y(t)&&u.setCapture(t,this)},A=function(t){N(t),u.releaseCapture(t)}),D=function(t){return!!u.captureInfo[t]},function(){if(b){m.forEach(function(t){x+=t.selector+y(t.value)+"\n",E&&(x+="body /shadow-deep/ "+t.selector+y(t.value)+"\n")});var t=document.createElement("style");t.textContent=x,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),u.registerSource("ms",j)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",T),void 0!==window.ontouchstart&&u.registerSource("touch",L);u.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:F},releasePointerCapture:{value:A},hasPointerCapture:{value:D}}),{dispatcher:u,Installer:_,PointerEvent:n,PointerMap:i,targetFinding:c}}()},"064ca696732477a7857b":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.84153' d='m13.105 12.427a0.84162 0.84162 0 0 0 -0.68375 0.84153v5.0492a0.84162 0.84162 0 0 0 0 0.07889v1.8672c0.84153-0.67323 1.8514-1.1045 2.9454-1.1045 2.5246 0 4.6284 2.1038 4.6284 4.6284v0.42077h3.7869c-0.25895 0.34961-0.42077 0.78515-0.42077 1.2623 0 1.1781 0.92569 2.1038 2.1038 2.1038s2.1038-0.92569 2.1038-2.1038c0-0.55373-0.21318-1.0478-0.55226-1.4201 0.49718-0.2262 0.85521-0.67323 0.97302-1.2623l0.42077-2.7087c0.08415-0.42077-0.33661-0.92043-0.84153-0.92043l-7.1267-0.78894-1.3149-5.3122a0.84162 0.84162 0 0 0 -0.81524 -0.63115h-5.0492a0.84162 0.84162 0 0 0 -0.07889 0 0.84162 0.84162 0 0 0 -0.07889 0zm0.99932 1.6831h3.5502l1.0256 4.0499-4.5758-0.49966v-3.5502zm10.098 0v3.6291l1.6831 0.23668v-3.8658h-1.6831zm-8.8361 5.8907c-2.1038 0-3.7869 1.6831-3.7869 3.7869s1.6831 3.7869 3.7869 3.7869 3.7869-1.6831 3.7869-3.7869-1.6831-3.7869-3.7869-3.7869zm0 1.2623c1.4306 0 2.5246 1.094 2.5246 2.5246s-1.094 2.5246-2.5246 2.5246-2.5246-1.094-2.5246-2.5246 1.094-2.5246 2.5246-2.5246zm10.098 3.3661c0.50492 0 0.84154 0.33661 0.84154 0.84154 0 0.50492-0.33661 0.84153-0.84154 0.84153-0.50492 0-0.84153-0.33661-0.84153-0.84153s0.33661-0.84154 0.84153-0.84154z'/%3E %3C/g%3E %3C/svg%3E"},"0b8eb3e35929778b339a":function(t,e,n){"use strict";n.r(e);var i,o=n("8af190b70a6bc55c6f1b"),r=n.n(o),a=n("7aa8db87e3c9e814f06d"),s=n("fc43733ec9d3f066c334"),l=n("8a2d1b95e05b6a321e74"),u=n.n(l),c=n("0a81c721557e72a0975d"),h=n("1f7eb4558e149d7a2535"),p=n("71d2f9a0d515b86993c4"),f=n("7c819471f8086f26a136"),d=n("721170d9c04e3d2551ec"),g=n.n(d),v=n("ef4865002b343d63dc0c"),_=n("ecad9051054967dddd1d"),y=n("5967b2c4674ec19411e2"),m=n("d8682765e772da6a405c"),x=n("8fdd8041225f426c1db2"),b=n.n(x),E=n("73c491490691b18f8f8a"),w=n("fdae765a9a200f4374cf"),S=n("ea78a4d6077b4ce99010"),C=n.n(S),O=n("b5b7bafeb7add2b1fc09"),T=n("9095151026da8c51dd60"),I=n.n(T),R=n("ab039aecd4a1d4fedc0e"),P="app.components.Header",M=Object(R.defineMessages)({header:{id:"".concat(P,".header"),defaultMessage:"This is the Header component!"},search:{id:"".concat(P,".search"),defaultMessage:"Search"},following:{id:"".concat(P,".following"),defaultMessage:"Following"},logout:{id:"".concat(P,".logout"),defaultMessage:"Logout"}});function L(t,e,n,o){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),e&&r)for(var s in r)void 0===e[s]&&(e[s]=r[s]);else e||(e=r||{});if(1===a)e.children=o;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];e.children=l}return{$$typeof:i,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=Object(s.a)(function(t){return{paper:{margin:"5px 5px",padding:"2px 4px",display:"flex",alignItems:"center",minWidth:306,maxWidth:358,zIndex:1,position:"absolute"},input:{marginLeft:t.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},list:{minWidth:306,maxWidth:358}}}),D=L(C.a,{}),k=L(I.a,{}),z=L(b.a,{}),j=L(y.a,{},void 0,L(g.a,{}));var N=Object(o.memo)(function(t){var e=t.onLiveRoute,n=t.onSearch,i=t.searchPhrase,o=A(),a=function(t){return n(t.target.value)},s=F(r.a.useState(!1),2),l=s[0],u=s[1];return r.a.createElement(r.a.Fragment,null,L(O.a,{className:o.paper},void 0,L(E.a,{className:o.iconButton,"aria-label":"menu",onClick:function(){return u(!0)}},void 0,D),r.a.createElement(R.FormattedMessage,M.search,function(t){return L(w.a,{className:o.input,placeholder:t,onChange:a,value:i})}),L(E.a,{className:o.iconButton,"arial-label":r.a.createElement(R.FormattedMessage,M.search)},void 0,k),L(p.a,{className:o.divider,orientation:"vertical"}),L(E.a,{className:o.iconButton,"aria-label":r.a.createElement(R.FormattedMessage,M.following),onClick:e},void 0,z)),L(f.a,{anchor:"left",open:l,onClose:function(){return u(!1)}},void 0,L("div",{className:o.list,role:"presentation"},void 0,L(v.a,{},void 0,L(_.a,{button:!0,onClick:function(){return u(!1)}},"logout",j,L(m.a,{primary:r.a.createElement(R.FormattedMessage,M.logout)}))))))}),G=n("7cf11b681aa7b74d9725"),Y=n("dd5b2b46ceaa05102c8a"),X=n("7e93ed78f45371ed48a5"),W=n("398fee01cee86d8d3bfd"),q=n("85b71a27cbcf93ff4854"),U=n("14407cc432f2bf4f958e"),B=n("a28fc3c963a1d4d1a2e5"),K=n("96100616be21446d392a"),Z=n.n(K),V=n("f1c990499b5bad8f3731"),H=n("238fef99c154a7dfd239"),J=n("9ae32c517479bfbc8a70"),$=n("8e0d8d60b701f2c2a59e"),Q=(n("eafcfe49e6bd3eeab38b"),"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function tt(t){cancelAnimationFrame(t.id)}function et(t,e){var n=Q();var i={id:requestAnimationFrame(function o(){Q()-n>=e?t.call(null):i.id=requestAnimationFrame(o)})};return i}var nt=null;function it(t){if(void 0===t&&(t=!1),null===nt||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),o=i.style;return o.width="100px",o.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?nt="positive-descending":(e.scrollLeft=1,nt=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),nt}return nt}var ot=150,rt=function(t,e){return t};function at(t){var e,n,i=t.getItemOffset,r=t.getEstimatedTotalSize,a=t.getItemSize,s=t.getOffsetForIndexAndAlignment,l=t.getStartIndexForOffset,u=t.getStopIndexForStartIndex,c=t.initInstanceProps,h=t.shouldResetStyleCacheOnItemSizeChange,p=t.validateProps;return n=e=function(t){function e(e){var n;return(n=t.call(this,e)||this)._instanceProps=c(n.props,Object(J.a)(Object(J.a)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(J.a)(Object(J.a)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object($.a)(function(t,e,i,o){return n.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:i,visibleStopIndex:o})}),n._callOnScroll=void 0,n._callOnScroll=Object($.a)(function(t,e,i){return n.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:i})}),n._getItemStyle=void 0,n._getItemStyle=function(t){var e,o=n.props,r=o.direction,s=o.itemSize,l=o.layout,u=n._getItemStyleCache(h&&s,h&&l,h&&r);if(u.hasOwnProperty(t))e=u[t];else{var c,p=i(n.props,t,n._instanceProps),f=a(n.props,t,n._instanceProps),d="horizontal"===r||"horizontal"===l;u[t]=((c={position:"absolute"})["rtl"===r?"right":"left"]=d?p:0,c.top=d?0:p,c.height=d?"100%":f,c.width=d?f:"100%",e=c)}return e},n._getItemStyleCache=void 0,n._getItemStyleCache=Object($.a)(function(t,e,n){return{}}),n._onScrollHorizontal=function(t){var e=t.currentTarget,i=e.clientWidth,o=e.scrollLeft,r=e.scrollWidth;n.setState(function(t){if(t.scrollOffset===o)return null;var e=n.props.direction,a=o;if("rtl"===e)switch(it()){case"negative":a=-o;break;case"positive-descending":a=r-i-o}return a=Math.max(0,Math.min(a,r-i)),{isScrolling:!0,scrollDirection:t.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._onScrollVertical=function(t){var e=t.currentTarget,i=e.clientHeight,o=e.scrollHeight,r=e.scrollTop;n.setState(function(t){if(t.scrollOffset===r)return null;var e=Math.max(0,Math.min(r,o-i));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._outerRefSetter=function(t){var e=n.props.outerRef;n._outerRef=t,"function"===typeof e?e(t):null!=e&&"object"===typeof e&&e.hasOwnProperty("current")&&(e.current=t)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&tt(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=et(n._resetIsScrolling,ot)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},function(){n._getItemStyleCache(-1,null)})},n}Object(H.a)(e,t),e.getDerivedStateFromProps=function(t,e){return st(t,e),p(t),null};var n=e.prototype;return n.scrollTo=function(t){t=Math.max(0,t),this.setState(function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},n.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props.itemCount,i=this.state.scrollOffset;t=Math.max(0,Math.min(t,n-1)),this.scrollTo(s(this.props,t,e,i,this._instanceProps))},n.componentDidMount=function(){var t=this.props,e=t.direction,n=t.initialScrollOffset,i=t.layout;if("number"===typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===e||"horizontal"===i?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var t=this.props,e=t.direction,n=t.layout,i=this.state,o=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var r=this._outerRef;if("horizontal"===e||"horizontal"===n)if("rtl"===e)switch(it()){case"negative":r.scrollLeft=-o;break;case"positive-ascending":r.scrollLeft=o;break;default:var a=r.clientWidth,s=r.scrollWidth;r.scrollLeft=s-a-o}else r.scrollLeft=o;else r.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&tt(this._resetIsScrollingTimeoutId)},n.render=function(){var t=this.props,e=t.children,n=t.className,i=t.direction,a=t.height,s=t.innerRef,l=t.innerElementType,u=t.innerTagName,c=t.itemCount,h=t.itemData,p=t.itemKey,f=void 0===p?rt:p,d=t.layout,g=t.outerElementType,v=t.outerTagName,_=t.style,y=t.useIsScrolling,m=t.width,x=this.state.isScrolling,b="horizontal"===i||"horizontal"===d,E=b?this._onScrollHorizontal:this._onScrollVertical,w=this._getRangeToRender(),S=w[0],C=w[1],O=[];if(c>0)for(var T=S;T<=C;T++)O.push(Object(o.createElement)(e,{data:h,key:f(T,h),index:T,isScrolling:y?x:void 0,style:this._getItemStyle(T)}));var I=r(this.props,this._instanceProps);return Object(o.createElement)(g||v||"div",{className:n,onScroll:E,ref:this._outerRefSetter,style:Object(V.a)({position:"relative",height:a,width:m,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},_)},Object(o.createElement)(l||u||"div",{children:O,ref:s,style:{height:b?"100%":I,pointerEvents:x?"none":void 0,width:b?I:"100%"}}))},n._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],i=t[2],o=t[3];this._callOnItemsRendered(e,n,i,o)}if("function"===typeof this.props.onScroll){var r=this.state,a=r.scrollDirection,s=r.scrollOffset,l=r.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},n._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,i=this.state,o=i.isScrolling,r=i.scrollDirection,a=i.scrollOffset;if(0===e)return[0,0,0,0];var s=l(this.props,a,this._instanceProps),c=u(this.props,s,a,this._instanceProps),h=o&&"backward"!==r?1:Math.max(1,n),p=o&&"forward"!==r?1:Math.max(1,n);return[Math.max(0,s-h),Math.max(0,Math.min(e-1,c+p)),s,c]},e}(o.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var st=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},lt=function(t,e,n){var i=t.itemSize,o=n.itemMetadataMap,r=n.lastMeasuredIndex;if(e>r){var a=0;if(r>=0){var s=o[r];a=s.offset+s.size}for(var l=r+1;l<=e;l++){var u=i(l);o[l]={offset:a,size:u},a+=u}n.lastMeasuredIndex=e}return o[e]},ut=function(t,e,n,i,o){for(;i<=n;){var r=i+Math.floor((n-i)/2),a=lt(t,r,e).offset;if(a===o)return r;a<o?i=r+1:a>o&&(n=r-1)}return i>0?i-1:0},ct=function(t,e,n,i){for(var o=t.itemCount,r=1;n<o&&lt(t,n,e).offset<i;)n+=r,r*=2;return ut(t,e,Math.min(n,o-1),Math.floor(n/2),i)},ht=function(t,e){var n=t.itemCount,i=e.itemMetadataMap,o=e.estimatedItemSize,r=e.lastMeasuredIndex,a=0;if(r>=n&&(r=n-1),r>=0){var s=i[r];a=s.offset+s.size}return a+(n-r-1)*o},pt=at({getItemOffset:function(t,e,n){return lt(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:ht,getOffsetForIndexAndAlignment:function(t,e,n,i,o){var r=t.direction,a=t.height,s=t.layout,l=t.width,u="horizontal"===r||"horizontal"===s?l:a,c=lt(t,e,o),h=ht(t,o),p=Math.max(0,Math.min(h-u,c.offset)),f=Math.max(0,c.offset-u+c.size);switch("smart"===n&&(n=i>=f-u&&i<=p+u?"auto":"center"),n){case"start":return p;case"end":return f;case"center":return Math.round(f+(p-f)/2);case"auto":default:return i>=f&&i<=p?i:i<f?f:p}},getStartIndexForOffset:function(t,e,n){return function(t,e,n){var i=e.itemMetadataMap,o=e.lastMeasuredIndex;return(o>0?i[o].offset:0)>=n?ut(t,e,o,0,n):ct(t,e,Math.max(0,o),n)}(t,n,e)},getStopIndexForStartIndex:function(t,e,n,i){for(var o=t.direction,r=t.height,a=t.itemCount,s=t.layout,l=t.width,u="horizontal"===o||"horizontal"===s?l:r,c=lt(t,e,i),h=n+u,p=c.offset+c.size,f=e;f<a-1&&p<h;)p+=lt(t,++f,i).size;return f},initInstanceProps:function(t,e){var n={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,i){void 0===i&&(i=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),i&&e.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});var ft=n("3dde4251a4e36fb3d2d7"),dt=n.n(ft),gt=n("bc52778aa4babd5538cf"),vt=n("2f3d4de668fb4d70ea9c"),_t=n.n(vt),yt=n("0b25eed4e425475e9ff9"),mt=n("8113359511cd270e25e9"),xt=n("52b94d0fd50d848aba95"),bt=n("f8c4cc511a2da4f715ef"),Et=n("cfab155c45befb529f46"),wt=n("80e80f602055becd595c"),St=n.n(wt),Ct=n("a804b82c14c8fd248b2b"),Ot=n.n(Ct),Tt="app.components.FleetList",It=Object(R.defineMessages)({battery:{id:"".concat(Tt,".battery"),defaultMessage:"Battery"},course:{id:"".concat(Tt,".course"),defaultMessage:"Point"},deviceTime:{id:"".concat(Tt,".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat(Tt,".distance"),defaultMessage:"Distance"},ignition:{id:"".concat(Tt,".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat(Tt,".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat(Tt,".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat(Tt,".motion"),defaultMessage:"Motion"},no:{id:"".concat(Tt,".no"),defaultMessage:"No"},operator:{id:"".concat(Tt,".operator"),defaultMessage:"Operator"},outdated:{id:"".concat(Tt,".outdated"),defaultMessage:"Outedated"},power:{id:"".concat(Tt,".power"),defaultMessage:"Power"},protocol:{id:"".concat(Tt,".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat(Tt,".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat(Tt,".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat(Tt,".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat(Tt,".valid"),defaultMessage:"Valid"},yes:{id:"".concat(Tt,".yes"),defaultMessage:"Yes"}}),Rt=n("3f3a0914a8688311fc1b"),Pt=n.n(Rt),Mt=n("f2a0a9b443783f48e935"),Lt=n.n(Mt),Ft=n("3cfaddbc49b3b4520d9c"),At=n.n(Ft),Dt={kn:{name:"\u06af\u0631\u0647",factor:1},kmh:{name:"km/h",factor:1.852},mph:{name:"mph",factor:1.15078}};function kt(t,e){return(Dt[e||"kmh"].factor*(t||0)).toFixed(0)}function zt(t,e){return"".concat(kt(t,e)," ").concat(Dt[e||"kmh"].name)}var jt,Nt={43211:"MCI",43235:"Irancell",43220:"RighTel",43221:"RighTel"},Gt={deviceTime:{format:function(t){return _t()(t).format("HH:mm:ss jYYYY-jMM-jDD")}},valid:{format:Yt},outdated:{format:Yt},sat:{format:function(t){return t}},latitude:{format:function(t){return t}},longitude:{format:function(t){return t}},course:{format:function(t){var e=t;if(e<=0||e>360||"undefined"===typeof e)return"\u2608";var n={north:"\u2191 N",north_east:"\u2197 NE",east:"\u2192 E",south_east:"\u2198 SE",south:"\u2193 S",south_west:"\u2199 SW",west:"\u2190 W",north_west:"\u2196 NW"},i=Object.keys(n),o=360/i.length;e+=o/2;for(var r=0;r<i.length;r+=1)if(e>=r*o&&e<(r+1)*o)return n[i[r]];return n.north}},ignition:{format:Yt},motion:{format:Yt},power:{format:function(t){return t.toFixed(2)}},battery:{format:function(t){return t.toFixed(2)}},operator:{format:function(t){return Nt[t]||t}},rssi:{format:function(t){return t}},distance:{format:function(t){return t}},totalDistance:{format:function(t){return t}},protocol:{format:function(t){return t}}};function Yt(t){return r.a.createElement(R.FormattedMessage,It[t?"yes":"no"])}function Xt(t,e,n,i){jt||(jt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:jt,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ut={offline:"red",online:"green",unknown:"orang",ignitionOn:"orange"},Bt=Object(s.a)(function(t){return{enginIcon:{color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?Ut.ignitionOn:"inherit"}},row:{padding:"5px 5px 5px",backgroundColor:function(t){return t.isSelected?"whitesmoke":"white"}},fleetName:{fontSize:"0.8rem",fontWeight:"bold"},lastUpdate:{fontSize:"0.6rem",fontWeight:"bold",color:"rgba(0, 0, 0, 0.54)",margin:"-4px 0 0 0"},title:{whiteSpace:"nowrap"},icon:{textAlign:"center"},speed:{textAlign:"center",fontSize:"0.7rem",color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?"inherit":"lightgray"},direction:"rtl"},status:{color:function(t){return Ut[t.status]},fontSize:"small"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130}}}),Kt=Object(W.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(Et.a),Zt=Xt(St.a,{}),Vt=function(t){var e=t.data,n=t.index,i=t.style,o=e.fleets,a=e.expandedIndex,s=e.onClick,l=e.onExpand,u=e.selectedDevice===o[n].uniqueId,c=Bt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){qt(t,e,n[e])})}return t}({isSelected:u},o[n])),h=Wt(r.a.useState(!1),2),p=h[0],f=h[1];r.a.useEffect(function(){a!==n?f(!1):p||f(!0)});var d,g,v=o[n];return r.a.createElement(r.a.Fragment,null,Xt("div",{className:c.row,onClick:function(){return s(o[n].uniqueId)},style:i},void 0,Xt(mt.a,{alignItems:"center",direction:"row",justify:"space-between",container:!0},void 0,Xt(mt.a,{className:c.title,item:!0,xs:7},void 0,Xt("span",{className:c.fleetName},void 0,v.name),Xt("p",{className:c.lastUpdate},void 0,_t()(v.lastUpdate).fromNow())),Xt(mt.a,{className:c.speed,item:!0,xs:2},void 0,v.formattedSpeed||"-"),Xt(mt.a,{className:c.icon,item:!0,xs:1},void 0,Xt("span",{className:"icon ico-engin ".concat(c.enginIcon)})),Xt(mt.a,{className:c.icon,item:!0,xs:1},void 0,Xt(Ot.a,{className:c.status})),Xt(mt.a,{className:c.icon,item:!0,xs:1},void 0,Xt(E.a,{className:Object(gt.a)(c.expand,qt({},c.expandOpen,p)),onClick:function(){f(!p),l(p?null:n)},size:"small","aria-expanded":p,"aria-label":"show more"},void 0,Zt))),v.positions&&v.positions.length&&Xt(yt.a,{in:p,timeout:"auto",unmountOnExit:!0},void 0,p&&Xt(xt.a,{cellHeight:40,className:c.gridList,cols:2},void 0,dt()((d=v.positions.slice(-1)[0],g={},At()(Gt,function(t,e){Lt()(d[e])&&Lt()(d.attributes[e])||(g[e]=t.format(d[e]||d.attributes[e]))}),Pt()(g,d.attributes,function(t,e){return t||e})),function(t,e){return Xt(bt.a,{cols:1},e,Xt(Kt,{title:It[e]?r.a.createElement(R.FormattedMessage,It[e]):e,subtitle:t||"--"}))})))))};function Ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jt=Object(s.a)(function(){return{paper:{bottom:0,display:function(t){return t.isVisible?"inherit":"none"},minWidth:306,maxWidth:400,margin:0,padding:"2px 6px",position:"absolute",top:55,width:"100%",height:"80vh",zIndex:1}}});var $t=function(t){var e=t.fleets,n=void 0===e?[]:e,i=t.isVisible,a=void 0!==i&&i,s=t.onClick,l=t.selectedDevice,u=Jt({isVisible:a}),c=Object(o.createRef)(),h=Object(o.createRef)(),p=Ht(Object(o.useState)(0),2),f=p[0],d=p[1],g=Ht(Object(o.useState)(null),2),v=g[0],_=g[1],y=function(t){h.current.resetAfterIndex(v,!1),_(t)};return Object(o.useEffect)(function(){a&&f!==c.current.clientHeight&&d(c.current.clientHeight)}),Object(o.useEffect)(function(){if(a&&l){var t=Z()(n,{uniqueId:l});h.current.scrollToItem(t,"smart"),t!==v&&y(null)}},[a,l]),r.a.createElement("div",{className:u.paper,ref:c},a&&r.a.createElement(pt,{direction:"rtl",id:"feet-list",itemCount:n.length,itemData:{fleets:n,expandedIndex:v,onClick:s,onExpand:y,selectedDevice:l},itemKey:function(t,e){return e.fleets[t].uniqueId},itemSize:function(t){return t===v?180:50},height:f-10,ref:h,width:"100%"},Vt))},Qt=n("adc20f99e57c573c589c"),te=n("d95b0cf107403b178365"),ee="app/FleetsDrawer/FETCH_DEVICES_FAIL",ne="app/FleetsDrawer/FETCH_DEVICES_REQUEST",ie="app/FleetsDrawer/FETCH_DEVICES_SUCCESS",oe="app/FleetsDrawer/SOCKET_CONNECTION_FAIL",re="app/FleetsDrawer/SOCKET_MESSAGE_RECEIVE",ae="app/FleetsDrawer/SOCKET_CONNECTION_REQUEST",se="app/FleetsDrawer/SOCKET_CONNECTION_SUCCESS",le="app/FleetDrawer/UPDATE_FLEET_PANEL_STATE",ue="app/FleetDrawer/UPDATE_FILTER_PANEL_STATE",ce="app/FleetsDrawer/SELECT_DEVICE_IN_LIST",he="app/FleetsDrawer/SET_SEARCH_PHRASE",pe="app/FleetsDrawer/TOGGLE_LIVE_ROUTE";function fe(t){return{type:ee,payload:t}}function de(t){return{type:ce,payload:t}}function ge(t){return{type:oe,payload:t}}function ve(){return{type:ae}}function _e(t,e){return{type:re,payload:t,server:e}}var ye=Object(R.defineMessages)({devices:{id:"".concat("app.containers.FleetsDrawer",".devices"),defaultMessage:"Devices"}}),me=n("7edf83707012a871cdfb"),xe=n("98f11010eed1f30a67e8"),be=n.n(xe),Ee=n("5ad5fa305fb9d8886d1b"),we=n.n(Ee);function Se(t){var e=decodeURIComponent(t).replace("data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ","");return(new DOMParser).parseFromString(e,"image/svg+xml")}var Ce=n("34d538758fadc195d9b0"),Oe=n.n(Ce),Te=n("38a5cf7bd4a34adb836d"),Ie=n.n(Te),Re=n("774b962f7f8ee233d0d8"),Pe=n.n(Re),Me=n("8e5ff0d18795eecbe193"),Le=n.n(Me),Fe=n("cc9cb34247c192a15852"),Ae=n.n(Fe),De=n("a7e9ffa2c081a2fb5ea5"),ke=n.n(De),ze=n("e35698e68d1df72089c6"),je=n.n(ze),Ne=n("9f8408bc240279d0b00a"),Ge=n.n(Ne),Ye=n("0cd3c73b0976507cb4f5"),Xe=n.n(Ye),We=n("fb27460172bd4593ba8b"),qe=n.n(We),Ue=n("37b9a59b1709fe27f5f8"),Be=n.n(Ue),Ke=n("e0e8ac40fdfb7ae1c907"),Ze=n.n(Ke),Ve=n("d00ca599655a685685b3"),He=n.n(Ve),Je=n("911f6b041ac8efd77294"),$e=n.n(Je),Qe=n("4061d78159b3c8762e5a"),tn=n.n(Qe),en=n("49f4067ee71e74f7bfe5"),nn=n.n(en),on=n("064ca696732477a7857b"),rn=n.n(on),an=n("ca58d6a6a484c1aaa883"),sn=n.n(an),ln=n("ab0f7027a5d5d72ab9da"),un=n.n(ln),cn=n("f1d2accb1cb5589a1510"),hn=n.n(cn),pn=n("dfd42df999446333fe96"),fn=n.n(pn),dn=n("dd8173cc67fa36d7ff4a"),gn=n.n(dn),vn={animal:Se(Oe.a),arrow:Se(Ie.a),bicycle:Se(Pe.a),boat:Se(Le.a),bus:Se(Ae.a),car:Se(ke.a),crane:Se(je.a),default:Se(Ge.a),helicopter:Se(Xe.a),motorcycle:Se(qe.a),offroad:Se(Be.a),person:Se(Ze.a),pickup:Se(He.a),plane:Se($e.a),scooter:Se(tn.a),ship:Se(nn.a),tractor:Se(rn.a),train:Se(sn.a),tram:Se(un.a),trolleybus:Se(hn.a),truck:Se(fn.a),van:Se(gn.a)};function _n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yn(t,e){return"offline"===t.status?"rgba(255, 162, 173, 1.0)":"online"===t.status&&e&&(e.attributes.motion||e.attributes.ignition)?"rgba(77, 250, 144, 1.0)":"rgba(250, 190, 77, 1.0)"}function mn(t,e){return dt()(t,function(t){return t&&t.positions&&function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){_n(t,e,n[e])})}return t}({uniqueId:t.uniqueId,category:t.category||"default",color:yn(t,t.positions.slice(-1)[0]),height:t.icon.height,icon:t.icon.source,name:t.name,width:t.icon.width,isSelected:e===t.uniqueId},t.positions.slice(-1)[0])}).filter(function(t){return!!t})}function xn(t){return"data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ".concat(encodeURIComponent((new XMLSerializer).serializeToString(t.documentElement)))}function bn(t,e,n,i,o){var r=t,a=parseFloat(r.documentElement.getAttribute("width")),s=parseFloat(r.documentElement.getAttribute("height"));r.getElementById(i).style.fill=e;var l="rotate(".concat(n," ").concat(a/2," ").concat(s/2,")");return r.getElementById(o).setAttribute("transform",l),{height:s,source:xn(r),width:a}}var En={error:null,fleets:[],isFleetPanelOpen:!0,isFilterPanelOpen:!1,isLiveRouteEnabled:!1,selectedDeviceUniqueId:null,searchPhrase:null,showLoader:!1},wn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,e=arguments.length>1?arguments[1]:void 0;return Object(me.a)(t,function(t){switch(e.type){case ee:t.fleets=[],t.error=e.payload,t.showLoader=!1;break;case ne:t.fleets=[],t.showLoader=!0,t.error=null;break;case ie:t.fleets=e.payload,t.showLoader=!1,t.error=null;break;case ce:t.selectedDeviceUniqueId=e.payload;break;case he:t.searchPhrase=e.payload||null;break;case re:e.payload.devices?t.fleets=(n=t.fleets,i=e.payload.devices,o=e.server,i.forEach(function(t){var e=Z()(n,["id",t.id]),i=n[e].positions?n[e].positions.slice(-1)[0]:null,r=kt(i?i.speed:0,o.attributes.speedUnit),a=zt(i?i.speed:0,o.attributes.speedUnit),s=n[e].icon;n[e].status!==t.status&&(s=bn(vn[t.category||"default"],yn(t,i),i?i.course:0,"arrow"===t.category?"arrow":"background","arrow"===t.category?"arrow":"background")),e>-1?we()(n[e],t,{icon:s,speed:r,formattedSpeed:a}):n.push(we()(t,{icon:s,speed:r,formattedSpeed:a}))}),n):e.payload.positions&&(t.fleets=function(t,e,n){var i=t;return e.forEach(function(t){var e=Z()(i,["id",t.deviceId]);if(e>-1){var o=i[e];if(o.positions=i[e].positions||[],o.positions.length>0&&o.positions.slice(-1)[0].id===t.id)return;o.positions.push(t),o.speed=kt(t.speed,n.attributes.speedUnit),o.formattedSpeed=zt(t.speed,n.attributes.speedUnit),o.icon=bn(vn[o.category||"default"],yn(o,t),t.course,"arrow"===o.category?"arrow":"background","arrow"===o.category?"arrow":"background"),i[e].positions.length>10&&i[e].positions.shift()}}),i}(t.fleets,e.payload.positions,e.server));break;case pe:t.isLiveRouteEnabled=!t.isLiveRouteEnabled;break;case ue:t.isFilterPanelOpen=!t.isFilterPanelOpen;break;case le:t.isFleetPanelOpen=!t.isFleetPanelOpen}var n,i,o})},Sn=function(t){return t.fleetsDrawer||En},Cn=function(){return Object(B.a)(Sn,function(t){return e=t.fleets,(n=t.searchPhrase)?be()(e,function(t){return t.name.indexOf(n)>-1||t.uniqueId.toString().indexOf(n)>-1}):e;var e,n})},On=function(){return Object(B.a)(Sn,function(t){return t.selectedDeviceUniqueId})},Tn=n("124b48bac274890c1fae"),In=n("2cb3248ea08cdbff4a37"),Rn=n("6542cd13fd5dd1bcffd4"),Pn=n("f363639bc5c3c97af546"),Mn=n("f8070c2fe09c11722ab2");function Ln(t){return new Promise(function(e,n){var i=new WebSocket(t);i.onopen=function(){return e(i)},i.onerror=function(t){return n(t)}})}function Fn(t){var e=t;return Object(Mn.c)(function(t){e.onmessage=function(e){return t(e.data)},e.onclose=function(){return t(Mn.a)};return function(){e.onmessage=null}})}var An,Dn=regeneratorRuntime.mark(jn),kn=regeneratorRuntime.mark(Nn),zn=regeneratorRuntime.mark(Gn);function jn(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Tn.b)(Pn.a,"".concat(In.a,"/devices"));case 3:return t=e.sent,e.next=6,Object(Tn.d)({type:ie,payload:t});case 6:return e.next=8,Object(Tn.d)(ve());case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(Tn.d)(fe(e.t0));case 14:case"end":return e.stop()}},Dn,null,[[0,10]])}function Nn(){var t,e,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Tn.b)(Ln,In.b);case 3:return t=o.sent,o.next=6,Object(Tn.b)(Fn,t);case 6:return e=o.sent,o.next=9,Object(Tn.e)({type:se});case 9:return o.next=12,Object(Tn.g)(e);case 12:return n=o.sent,o.next=15,Object(Tn.f)(Rn.d);case 15:return i=o.sent,o.next=18,Object(Tn.e)(_e(JSON.parse(n),i.server));case 18:o.next=9;break;case 20:o.next=27;break;case 22:return o.prev=22,o.t0=o.catch(0),console.log(o.t0),o.next=27,Object(Tn.e)(ge(o.t0));case 27:return o.prev=27,o.next=30,Object(Tn.c)();case 30:if(!o.sent){o.next=35;break}e&&e.close(),t&&t.close(),o.next=37;break;case 35:return o.next=37,Object(Tn.e)(ge("WebSocket disconnected!"));case 37:return o.next=39,Object(Tn.d)(ve());case 39:return o.finish(27);case 40:case"end":return o.stop()}},kn,null,[[0,22,27,40]])}function Gn(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Tn.a)([Object(Tn.h)(ne,jn),Object(Tn.h)(ae,Nn)]);case 2:case"end":return t.stop()}},zn)}function Yn(t,e,n,i){An||(An="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:An,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Xn=Object(W.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",borderRadius:"4px",boxShadow:"none",margin:"5px 5px",minWidth:306,maxWidth:358,top:55,zIndex:1,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"5px 5px"}},expanded:{}})(G.a),Wn=Object(W.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:0,minHeight:30,"&$expanded":{minHeight:30}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Y.a),qn=Object(W.a)(function(){return{root:{padding:0,bottom:0,height:"80vh"}}})(X.a),Un=Object(W.a)(function(){return{root:{width:"80%"}}})(U.a),Bn=Yn(Un,{}),Kn=Yn(Un,{animation:!1}),Zn=Yn(Un,{animation:"wave"});var Vn=Object(B.b)({error:Object(B.a)(Sn,function(t){return t.error}),fleets:Cn(),isFilterPanelOpen:Object(B.a)(Sn,function(t){return t.isFilterPanelOpen}),isFleetPanelOpen:Object(B.a)(Sn,function(t){return t.isFleetPanelOpen}),selectedDeviceUniqueId:On(),showLoader:Object(B.a)(Sn,function(t){return t.showLoader})});var Hn=Object(c.c)(Vn,function(t){return{getFleets:function(){return t({type:ne})},setFilterPanelState:function(){return t({type:ue})},setFleetPanelState:function(){return t({type:le})},selectDeviceFromList:function(e){return t(de(e))}}}),Jn=Object(h.d)(Hn)(function(t){t.error;var e=t.fleets,n=t.isFleetPanelOpen,i=t.getFleets,a=t.setFleetPanelState,s=t.selectDeviceFromList,l=t.selectedDeviceUniqueId;return t.showLoader,Object(te.a)({key:"fleetsDrawer",reducer:wn}),Object(Qt.a)({key:"fleetsDrawer",saga:Gn}),Object(o.useEffect)(function(){i()},[]),Yn(Xn,{square:!0,expanded:n,onChange:a},void 0,Yn(Wn,{"aria-controls":"panel1d-content",id:"panel1d-header"},void 0,Yn(q.a,{},void 0,r.a.createElement(R.FormattedMessage,ye.devices))),Yn(qn,{},void 0,e&&e.length?Yn($t,{fleets:e,isVisible:n,onClick:s,selectedDevice:l}):Yn("div",{style:{width:"100%",display:"flex",flexFlow:"column",alignItems:"center"}},void 0,Bn,Kn,Zn)))});function $n(t,e,n){return Math.min(Math.max(t,e),n)}var Qn="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function ti(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=o,i=r):l>0&&(n+=a*l,i+=s*l)}return ei(t,e,n,i)}function ei(t,e,n,i){var o=n-t,r=i-e;return o*o+r*r}function ni(t){return t*Math.PI/180}function ii(t,e){var n=t%e;return n*e<0?n+e:n}function oi(t,e,n){return t+n*(e-t)}var ri={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ai=6371008.8;function si(t,e,n){var i=n||ai,o=ni(t[1]),r=ni(e[1]),a=(r-o)/2,s=ni(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function li(){return function(){throw new Error("Unimplemented abstract method.")}()}var ui=0;function ci(t){return t.ol_uid||(t.ol_uid=String(++ui))}var hi,pi="6.1.1",fi=(hi=function(t,e){return(hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),di=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===pi?pi:"v"+pi.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return fi(e,t),e}(Error);function gi(t,e){if(!t)throw new di(e)}var vi={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},_i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function yi(t){for(var e=Oi(),n=0,i=t.length;n<i;++n)Mi(e,t[n]);return e}function mi(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function xi(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function bi(t,e,n){var i,o;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function Ei(t,e){return Si(t,e[0],e[1])}function wi(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Si(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Ci(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=_i.UNKNOWN;return a<n?l|=_i.LEFT:a>o&&(l|=_i.RIGHT),s<i?l|=_i.BELOW:s>r&&(l|=_i.ABOVE),l===_i.UNKNOWN&&(l=_i.INTERSECTING),l}function Oi(){return[1/0,1/0,-1/0,-1/0]}function Ti(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function Ii(t){return Ti(1/0,1/0,-1/0,-1/0,t)}function Ri(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Pi(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Mi(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Li(t,e){for(var n=0,i=e.length;n<i;++n)Mi(t,e[n]);return t}function Fi(t,e,n,i,o){for(;n<i;n+=o)Ai(t,e[n],e[n+1]);return t}function Ai(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Di(t){var e=0;return Ki(t)||(e=Ui(t)*Yi(t)),e}function ki(t){return[t[0],t[1]]}function zi(t){return[t[2],t[1]]}function ji(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Ni(t,e){var n;return e===vi.BOTTOM_LEFT?n=ki(t):e===vi.BOTTOM_RIGHT?n=zi(t):e===vi.TOP_LEFT?n=Wi(t):e===vi.TOP_RIGHT?n=qi(t):gi(!1,13),n}function Gi(t,e,n,i,o){var r=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=r*s,c=r*l,h=a*s,p=a*l,f=t[0],d=t[1],g=f-u+p,v=f-u-p,_=f+u-p,y=f+u+p,m=d-c-h,x=d-c+h,b=d+c+h,E=d+c-h;return Ti(Math.min(g,v,_,y),Math.min(m,x,b,E),Math.max(g,v,_,y),Math.max(m,x,b,E),o)}function Yi(t){return t[3]-t[1]}function Xi(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return Bi(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Ii(i),i}function Wi(t){return[t[0],t[3]]}function qi(t){return[t[2],t[3]]}function Ui(t){return t[2]-t[0]}function Bi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ki(t){return t[2]<t[0]||t[3]<t[1]}function Zi(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return Ti(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}var Vi={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Hi={};Hi[Vi.DEGREES]=2*Math.PI*6370997/360,Hi[Vi.FEET]=.3048,Hi[Vi.METERS]=1,Hi[Vi.USFEET]=1200/3937;var Ji=Vi,$i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Hi[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Qi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),to=6378137,eo=Math.PI*to,no=[-eo,-eo,eo,eo],io=[-180,-85,180,85],oo=function(t){function e(e){return t.call(this,{code:e,units:Ji.METERS,extent:no,global:!0,worldExtent:io,getPointResolution:function(t,e){return t/Qn(e[1]/to)}})||this}return Qi(e,t),e}($i),ro=[new oo("EPSG:3857"),new oo("EPSG:102100"),new oo("EPSG:102113"),new oo("EPSG:900913"),new oo("urn:ogc:def:crs:EPSG:6.18:3:3857"),new oo("urn:ogc:def:crs:EPSG::3857"),new oo("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ao(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=eo,s=0;s<i;s+=o){r[s]=a*t[s]/180;var l=to*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),r[s+1]=l}return r}function so(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=0;a<i;a+=o)r[a]=180*t[a]/eo,r[a+1]=360*Math.atan(Math.exp(t[a+1]/to))/Math.PI-90;return r}var lo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uo=[-180,-90,180,90],co=6378137*Math.PI/180,ho=function(t){function e(e,n){return t.call(this,{code:e,units:Ji.DEGREES,extent:uo,axisOrientation:n,global:!0,metersPerUnit:co,worldExtent:uo})||this}return lo(e,t),e}($i),po=[new ho("CRS:84"),new ho("EPSG:4326","neu"),new ho("urn:ogc:def:crs:EPSG::4326","neu"),new ho("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ho("urn:ogc:def:crs:OGC:1.3:CRS84"),new ho("urn:ogc:def:crs:OGC:2:84"),new ho("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ho("urn:x-ogc:def:crs:EPSG:4326","neu")],fo="function"===typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function go(t){for(var e in t)delete t[e]}var vo="function"===typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function _o(t){var e;for(e in t)return!1;return!e}var yo={};function mo(t,e,n){var i=t.getCode(),o=e.getCode();i in yo||(yo[i]={}),yo[i][o]=n}var xo={};function bo(t,e,n){var i;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];i=e}else i=t.slice();return i}function Eo(t,e,n){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function wo(t){!function(t,e){xo[t]=e}(t.getCode(),t),mo(t,t,bo)}function So(t){return"string"===typeof t?xo[t]||null:t||null}function Co(t,e,n,i){var o,r=(t=So(t)).getPointResolutionFunc();if(r)o=r(e,n),i&&i!==t.getUnits()&&(a=t.getMetersPerUnit())&&(o=o*a/Hi[i]);else if(t.getUnits()==Ji.DEGREES&&!i||i==Ji.DEGREES)o=e;else{var a,s=Po(t,So("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(si((l=s(l,l,2)).slice(0,2),l.slice(2,4))+si(l.slice(4,6),l.slice(6,8)))/2,void 0!==(a=i?Hi[i]:t.getMetersPerUnit())&&(o/=a)}return o}function Oo(t){!function(t){t.forEach(wo)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&mo(e,t,bo)})})}function To(t,e){return t?"string"===typeof t?So(t):t:So(e)}function Io(t,e){return Lo(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Ro(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Po(t,e)===bo&&n}function Po(t,e){var n=function(t,e){var n;return t in yo&&e in yo[t]&&(n=yo[t][e]),n}(t.getCode(),e.getCode());return n||(n=Eo),n}function Mo(t,e){return Po(So(t),So(e))}function Lo(t,e,n){return Mo(e,n)(t,void 0,t.length)}function Fo(t,e,n){return Zi(t,Mo(e,n))}var Ao,Do,ko,zo=null;function jo(){return zo}function No(t,e){return zo?Lo(t,e,zo):t}function Go(t,e){return zo?Lo(t,zo,e):t}function Yo(t,e){return zo?Fo(t,e,zo):t}function Xo(t,e){return zo?Fo(t,zo,e):t}Oo(ro),Oo(po),Ao=ro,Do=ao,ko=so,po.forEach(function(t){Ao.forEach(function(e){mo(t,e,Do),mo(e,t,ko)})});var Wo=function(t){return r.a.createElement(r.a.Fragment,null,t.children)};Wo.propTypes={children:u.a.node};var qo=Wo;function Uo(t,e,n,i,o){if(i&&i!==t&&(n=n.bind(i)),o){var r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function Bo(t,e,n,i){return Uo(t,e,n,i,!0)}function Ko(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),go(t))}var Zo={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"},Vo="propertychange",Ho=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Jo(t,e){return t>e?1:t<e?-1:0}function $o(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var o=void 0;if(n>0){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return i-1}function Qo(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function tr(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,o=0;o<i;o++)t[t.length]=n[o]}function er(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function nr(){return!0}function ir(){return!1}function or(){}var rr=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),ar=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return ar(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=[],this.listeners_[t]=n),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new rr(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var r=0,a=o.length;r<a;++r)if(!1===o[r].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,or);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){go(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(t in this.pendingRemovals_?(n[i]=or,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(Ho),lr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var ur=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return lr(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Zo.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Uo(this,t[o],e);return i}return Uo(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Bo(this,t[o],e);return i}return Bo(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(sr),cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hr=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.key=n,o.oldValue=i,o}return cr(e,t),e}(rr),pr=function(t){function e(e){var n=t.call(this)||this;return ci(n),n.values_={},void 0!==e&&n.setProperties(e),n}return cr(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return fo({},this.values_)},e.prototype.notify=function(t,e){var n;n=dr(t),this.dispatchEvent(new hr(n,t,e)),n=Vo,this.dispatchEvent(new hr(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(ur),fr={};function dr(t){return fr.hasOwnProperty(t)?fr[t]:fr[t]="change:"+t}var gr=pr,vr={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},_r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yr=function(t){function e(e){var n=t.call(this)||this,i=fo({},e);return i[vr.OPACITY]=void 0!==e.opacity?e.opacity:1,gi("number"===typeof i[vr.OPACITY],64),i[vr.VISIBLE]=void 0===e.visible||e.visible,i[vr.Z_INDEX]=e.zIndex,i[vr.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[vr.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,i[vr.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,i[vr.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return _r(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=$n(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return li()},e.prototype.getLayerStatesArray=function(t){return li()},e.prototype.getExtent=function(){return this.get(vr.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(vr.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(vr.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(vr.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(vr.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(vr.OPACITY)},e.prototype.getSourceState=function(){return li()},e.prototype.getVisible=function(){return this.get(vr.VISIBLE)},e.prototype.getZIndex=function(){return this.get(vr.Z_INDEX)},e.prototype.setExtent=function(t){this.set(vr.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(vr.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(vr.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(vr.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(vr.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){gi("number"===typeof t,64),this.set(vr.OPACITY,t)},e.prototype.setVisible=function(t){this.set(vr.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(vr.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(gr),mr="prerender",xr="postrender",br="precompose",Er="postcompose",wr="rendercomplete",Sr={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Or(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}var Tr=function(t){function e(e){var n=this,i=fo({},e);delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(dr(vr.SOURCE),n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return Cr(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(vr.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Sr.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Ko(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Uo(t,Zo.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Ko(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Ko(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Uo(t,br,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Uo(this,Zo.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(vr.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(yr),Ir="preload",Rr="useInterimTilesOnError",Pr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mr=function(t){function e(e){var n=this,i=e||{},o=fo({},i);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return Pr(e,t),e.prototype.getPreload=function(){return this.get(Ir)},e.prototype.setPreload=function(t){this.set(Ir,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Rr)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Rr,t)},e}(Tr),Lr=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Fr(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new Lr(t,e,n,i)}var Ar=Lr,Dr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function kr(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function zr(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function jr(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var Nr,Gr,Yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xr=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=i,r.context=o,r}return Yr(e,t),e}(rr),Wr="ol-hidden",qr="ol-unselectable",Ur="ol-control",Br="ol-collapsed",Kr=(Gr={},function(t){if(Nr||(Nr=document.createElement("div").style),!(t in Gr)){Nr.font=t;var e=Nr.fontFamily,n=Nr.fontWeight,i=Nr.fontStyle;if(Nr.font="",!e)return null;var o=e.split(/,\s?/);Gr[t]={families:o,weight:n,style:i}}return Gr[t]});new Array(6);function Zr(t,e,n,i,o,r,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=a,t}function Vr(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Hr(t,e,n,i,o,r,a,s){var l=Math.sin(r),u=Math.cos(r);return t[0]=i*u,t[1]=o*l,t[2]=-i*l,t[3]=o*u,t[4]=a*i*u-s*i*l+e,t[5]=a*o*l+s*o*u+n,t}function Jr(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];gi(0!==i,32);var o=e[0],r=e[1],a=e[2],s=e[3],l=e[4],u=e[5];return t[0]=s/i,t[1]=-r/i,t[2]=-a/i,t[3]=o/i,t[4]=(a*u-s*l)/i,t[5]=-(o*u-r*l)/i,t}function $r(t){return"matrix("+t.join(", ")+")"}var Qr,ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ea=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return ta(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(Zo.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return gi(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return gi(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){gi(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(sr),na=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ia=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return na(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var i=t.prototype.get.call(this,e),o=ci(n);return o in this.consumers||(this.consumers[o]={}),this.consumers[o][e]=!0,i},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=0,n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[ci(t)]},e}(ea),oa=[],ra=[0,0,0,0],aa=new ia,sa={},la=null,ua={},ca=function(){var t,e,n=100,i=sa,o="32px ",r=["monospace","serif"],a=r.length,s="wmytzilWMYTZIL@#/&?$%10\uf013";function l(t,n,i){for(var l=ha(),u=!0,c=0;c<a;++c){var h=r[c];if(l.font=t+" "+n+" "+o+h,e=l.measureText(s).width,i!=h){l.font=t+" "+n+" "+o+i+","+h;var p=l.measureText(s).width;u=u&&p!=e}}return!!u}function u(){var e=!0;for(var o in i)i[o]<n&&(l.apply(this,o.split("\n"))?(i[o]=n,go(ua),la=null,Qr=void 0,aa.getCount()&&aa.clear()):(++i[o],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Kr(e);if(o)for(var r=o.families,a=0,s=r.length;a<s;++a){var c=r[a],h=o.style+"\n"+o.weight+"\n"+c;h in i||(i[h]=n,l(o.style,o.weight,c)||(i[h]=0,void 0===t&&(t=setInterval(u,32))))}}}();function ha(){return la||(la=kr(1,1)),la}var pa,fa,da=(fa=ua,function(t){var e=fa[t];return void 0==e&&(pa||((pa=document.createElement("div")).innerHTML="M",pa.style.margin="0 !important",pa.style.padding="0 !important",pa.style.position="absolute !important",pa.style.left="-99999px !important"),pa.style.font=t,document.body.appendChild(pa),e=pa.offsetHeight,fa[t]=e,document.body.removeChild(pa)),e});function ga(t,e){var n=ha();return t!=Qr&&(n.font=t,Qr=n.font),n.measureText(e).width}function va(t,e,n){if(e in n)return n[e];var i=ga(t,e);return n[e]=i,i}function _a(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var ya=[1,0,0,1,0,0];function ma(t,e,n,i,o,r,a,s,l,u,c){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,o,r,a,s,l,u,a*c,s*c),1!=n&&(t.globalAlpha=h),e&&t.setTransform.apply(t,ya)}var xa={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},ba=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ea=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return ba(e,t),e.prototype.getFeatures=function(t){return li()},e.prototype.prepareFrame=function(t){return li()},e.prototype.renderFrame=function(t,e){return li()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,o){var r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){},e.prototype.getDataAtPixel=function(t,e,n){return li()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===xa.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=xa.LOADED&&e!=xa.ERROR&&t.addEventListener(Zo.CHANGE,this.boundHandleImageChange_),e==xa.IDLE&&(t.load(),e=t.getState()),e==xa.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Sr.READY&&t.changed()},e}(ur),wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sa=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=kr(1,1).canvas,n}return wa(e,t),e.prototype.useContainer=function(t,e,n){var i,o,r=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===r&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(o=s.getContext("2d")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement("div")).className=r;var a=i.style;a.position="absolute",a.width="100%",a.height="100%";var s=(o=kr()).canvas;i.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=i,this.context=o}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,o=e.size[0]*i/2,r=e.size[1]*i/2,a=e.viewState.rotation,s=Wi(n),l=qi(n),u=zi(n),c=ki(n);Vr(e.coordinateToPixelTransform,s),Vr(e.coordinateToPixelTransform,l),Vr(e.coordinateToPixelTransform,u),Vr(e.coordinateToPixelTransform,c),t.save(),_a(t,-a,o,r),t.beginPath(),t.moveTo(s[0]*i,s[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),_a(t,a,o,r)},e.prototype.clipUnrotated=function(t,e,n){var i=Wi(n),o=qi(n),r=zi(n),a=ki(n);Vr(e.coordinateToPixelTransform,i),Vr(e.coordinateToPixelTransform,o),Vr(e.coordinateToPixelTransform,r),Vr(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;Vr(s,i),Vr(s,o),Vr(s,r),Vr(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var o=new Xr(t,this.inversePixelTransform,n,e);i.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(mr,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(xr,t,e)},e.prototype.getRenderTransform=function(t,e,n,i,o,r,a){var s=o/2,l=r/2,u=i/e,c=-u,h=-t[0]+a,p=-t[1];return Hr(this.tempTransform_,s,l,u,c,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var i,o=Vr(this.inversePixelTransform,t.slice()),r=this.context;try{i=r.getImageData(Math.round(o[0]),Math.round(o[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:i}return 0===i[3]?null:i},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=$r(t),this.createTransformStringCanvas_.style.transform},e}(Ea),Ca=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oa=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Ar(0,0,0,0),n}return Ca(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==Dr.LOADED||n==Dr.EMPTY||n==Dr.ERROR&&!i},e.prototype.getTile=function(t,e,n,i){var o=i.pixelRatio,r=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,o,r);return s.getState()==Dr.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(Dr.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,o=i.projection,r=i.resolution,a=i.center,s=i.rotation,l=t.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),p=c.getTileGridForProjection(o),f=p.getZForResolution(r,c.zDirection),d=p.getResolution(f),g=t.extent,v=n.extent&&Xo(n.extent,o);v&&(g=Xi(g,Xo(n.extent,o)));var _=c.getTilePixelRatio(l),y=Math.round(t.size[0]*_),m=Math.round(t.size[1]*_);if(s){var x=Math.round(Math.sqrt(y*y+m*m));y=x,m=x}var b=d*y/2/_,E=d*m/2/_,w=[a[0]-b,a[1]-E,a[0]+b,a[1]+E],S=p.getTileRangeForExtentAndZ(g,f),C={};C[f]={};var O=this.createLoadedTileFinder(c,o,C),T=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var R=S.minX;R<=S.maxX;++R)for(var P=S.minY;P<=S.maxY;++P){var M=this.getTile(f,R,P,t);if(this.isDrawableTile(M)){var L=ci(this);if(M.getState()==Dr.LOADED){C[f][M.tileCoord.toString()]=M;var F=M.inTransition(L);this.newTiles_||!F&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(L,t.time))continue}var A=p.getTileCoordChildTileRange(M.tileCoord,I,T),D=!1;A&&(D=O(f+1,A)),D||p.forEachTileCoordParentTileRange(M.tileCoord,O,I,T)}var k=d/r;Hr(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/_,1/_,s,-y/2,-m/2);var z=this.createTransformString(this.pixelTransform);this.useContainer(e,z,n.opacity);var j=this.context,N=j.canvas;Jr(this.inversePixelTransform,this.pixelTransform),Hr(this.tempTransform_,y/2,m/2,k,k,0,-y/2,-m/2),N.width!=y||N.height!=m?(N.width=y,N.height=m):this.containerReused||j.clearRect(0,0,y,m),v&&this.clipUnrotated(j,t,v),this.preRender(j,t),this.renderedTiles.length=0;var G,Y,X,W=Object.keys(C).map(Number);W.sort(Jo),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(G=[],Y=[]):W=W.reverse();for(var q=W.length-1;q>=0;--q){var U=W[q],B=c.getTilePixelSize(U,l,o),K=p.getResolution(U)/d,Z=B[0]*K*k,V=B[1]*K*k,H=p.getTileCoordForCoordAndZ(Wi(w),U),J=p.getTileCoordExtent(H),$=Vr(this.tempTransform_,[_*(J[0]-w[0])/d,_*(w[3]-J[3])/d]),Q=_*c.getGutterForProjection(o),tt=C[U];for(var et in tt){var nt=(M=tt[et]).tileCoord,it=$[0]-(H[1]-nt[1])*Z,ot=Math.round(it+Z),rt=$[1]-(H[2]-nt[2])*V,at=Math.round(rt+V),st=ot-(R=Math.round(it)),lt=at-(P=Math.round(rt)),ut=f===U;if(!(F=ut&&1!==M.getAlpha(ci(this),t.time)))if(G){j.save(),X=[R,P,R+st,P,R+st,P+lt,R,P+lt];for(var ct=0,ht=G.length;ct<ht;++ct)if(f!==U&&U<Y[ct]){var pt=G[ct];j.beginPath(),j.moveTo(X[0],X[1]),j.lineTo(X[2],X[3]),j.lineTo(X[4],X[5]),j.lineTo(X[6],X[7]),j.moveTo(pt[6],pt[7]),j.lineTo(pt[4],pt[5]),j.lineTo(pt[2],pt[3]),j.lineTo(pt[0],pt[1]),j.clip()}G.push(X),Y.push(U)}else j.clearRect(R,P,st,lt);this.drawTileImage(M,t,R,P,st,lt,Q,ut,n.opacity),G&&!F&&j.restore(),this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,c,M)}}return this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Ri(this.renderedExtent_,w),this.renderedExtent_=w,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(t,c,p,l,o,g,f,u.getPreload()),this.updateCacheSize_(t,c),this.scheduleExpireCache(t,c),this.postRender(j,t),n.extent&&j.restore(),z!==N.style.transform&&(N.style.transform=z),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,r,a,s,l){var u=this.getTileImage(t);if(u){var c=ci(this),h=s?t.getAlpha(c,e.time):1,p=l*h,f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,i,o,r),f&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=ci(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=ci(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=ci(e),i=0;n in t.usedTiles&&(i+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(i+=Object.keys(t.wantedTiles[n]).length);var o=e.tileCache;o.highWaterMark<i&&(o.highWaterMark=i)},e.prototype.manageTilePyramid=function(t,e,n,i,o,r,a,s,l){var u=ci(e);u in t.wantedTiles||(t.wantedTiles[u]={});var c,h,p,f,d,g,v=t.wantedTiles[u],_=t.tileQueue;for(g=n.getMinZoom();g<=a;++g)for(h=n.getTileRangeForExtentAndZ(r,g,h),p=n.getResolution(g),f=h.minX;f<=h.maxX;++f)for(d=h.minY;d<=h.maxY;++d)a-g<=s?((c=e.getTile(g,f,d,i,o)).getState()==Dr.IDLE&&(v[c.getKey()]=!0,_.isKeyQueued(c.getKey())||_.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),p])),void 0!==l&&l(c)):e.useTile(g,f,d,o)},e}(Sa);Oa.prototype.getLayer;var Ta=Oa,Ia=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ra=function(t){function e(e){return t.call(this,e)||this}return Ia(e,t),e.prototype.createRenderer=function(){return new Ta(this)},e}(Mr),Pa=.5;function Ma(t){return Math.pow(t,3)}function La(t){return 1-Ma(1-t)}function Fa(t){return 3*t*t-2*t*t*t}function Aa(t){return t}var Da=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ka=function(t){function e(e,n,i){var o=t.call(this)||this,r=i||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o}return Da(e,t),e.prototype.changed=function(){this.dispatchEvent(Zo.CHANGE)},e.prototype.disposeInternal=function(){this.setState(Dr.ABORT)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Dr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Dr.LOADED){t.interimTile=null;break}t.getState()==Dr.LOADING?e=t:t.getState()==Dr.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Dr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){li()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Ma(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(sr),za=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ja=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=i,r.resolution=n,r.state=o,r}return za(e,t),e.prototype.changed=function(){this.dispatchEvent(Zo.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return li()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){li()},e}(sr),Na="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Ga=-1!==Na.indexOf("firefox"),Ya=(-1!==Na.indexOf("safari")&&Na.indexOf("chrom"),-1!==Na.indexOf("webkit")&&-1==Na.indexOf("edge")),Xa=-1!==Na.indexOf("macintosh"),Wa=window.devicePixelRatio||1,qa="undefined"!==typeof Image&&Image.prototype.decode,Ua=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ba(t,e,n){var i=t;if(i.src&&qa){var o=i.decode(),r=!0;return o.then(function(){r&&e()}).catch(function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){r=!1}}var a=[Bo(i,Zo.LOAD,e),Bo(i,Zo.ERROR,n)];return function(){a.forEach(Ko)}}!function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,i,xa.IDLE)||this;return s.src_=o,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.state=xa.IDLE,s.imageLoadFunction_=a,s}Ua(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=xa.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Yi(this.extent)/this.image_.height),this.state=xa.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=xa.IDLE&&this.state!=xa.ERROR||(this.state=xa.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ba(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(ja);var Ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Za(){var t=kr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var Va=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=r,s}return Ka(e,t),e.prototype.disposeInternal=function(){this.state==Dr.LOADING&&(this.unlistenImage_(),this.image_=Za()),this.interimTile&&this.interimTile.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=Dr.ERROR,this.unlistenImage_(),this.image_=Za(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Dr.LOADED:this.state=Dr.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Dr.ERROR&&(this.state=Dr.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Dr.IDLE&&(this.state=Dr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ba(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ka);function Ha(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Ja(t,e,n){return t+"/"+e+"/"+n}function $a(t){return Ja(t[0],t[1],t[2])}var Qa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ts=function(t){function e(e){return t.call(this,e)||this}return Qa(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove($a(e.tileCoord)),e.dispose())}.bind(this))}},e}(ea);function es(t,e,n,i){var o=n-t,r=i-e,a=Math.sqrt(o*o+r*r);return[Math.round(n+o/a),Math.round(i+r/a)]}function ns(t,e,n,i,o,r,a,s,l,u,c){var h=kr(Math.round(n*t),Math.round(n*e));if(0===l.length)return h.canvas;h.scale(n,n);var p=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){Pi(p,t.extent)});var f=Ui(p),d=Yi(p),g=kr(Math.round(n*f/i),Math.round(n*d/i)),v=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-p[0],o=-(t.extent[3]-p[3]),r=Ui(t.extent),a=Yi(t.extent);g.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*v,o*v,r*v,a*v)});var _=Wi(a);return s.getTriangles().forEach(function(t,e,o){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],c=a[1][0],f=a[1][1],d=a[2][0],v=a[2][1],y=(s[0][0]-_[0])/r,m=-(s[0][1]-_[1])/r,x=(s[1][0]-_[0])/r,b=-(s[1][1]-_[1])/r,E=(s[2][0]-_[0])/r,w=-(s[2][1]-_[1])/r,S=l,C=u;l=0,u=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,o=Math.abs(t[n][n]),r=n+1;r<e;r++){var a=Math.abs(t[r][n]);a>o&&(o=a,i=r)}if(0===o)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}([[c-=S,f-=C,0,0,x-y],[d-=S,v-=C,0,0,E-y],[0,0,c,f,b-m],[0,0,d,v,w-m]]);if(O){h.save(),h.beginPath();var T=(y+x+E)/3,I=(m+b+w)/3,R=es(T,I,y,m),P=es(T,I,x,b),M=es(T,I,E,w);h.moveTo(P[0],P[1]),h.lineTo(R[0],R[1]),h.lineTo(M[0],M[1]),h.clip(),h.transform(O[0],O[2],O[1],O[3],y,m),h.translate(p[0]-S,p[3]-C),h.scale(i/n,-i/n),h.drawImage(g.canvas,0,0),h.restore()}}),c&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var i=t.target,o=(i[0][0]-_[0])/r,a=-(i[0][1]-_[1])/r,s=(i[1][0]-_[0])/r,l=-(i[1][1]-_[1])/r,u=(i[2][0]-_[0])/r,c=-(i[2][1]-_[1])/r;h.beginPath(),h.moveTo(s,l),h.lineTo(o,a),h.lineTo(u,c),h.closePath(),h.stroke()}),h.restore()),h.canvas}var is=10,os=function(){function t(t,e,n,i,o){this.sourceProj_=t,this.targetProj_=e;var r={},a=Mo(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Ui(i)==Ui(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ui(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ui(this.targetProj_.getExtent()):null;var s=Wi(n),l=qi(n),u=zi(n),c=ki(n),h=this.transformInv_(s),p=this.transformInv_(l),f=this.transformInv_(u),d=this.transformInv_(c);if(this.addQuad_(s,l,u,c,h,p,f,d,is),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}r={}}return t.prototype.addTriangle_=function(t,e,n,i,o,r){this.triangles_.push({source:[i,o,r],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,o,r,a,s,l){var u=yi([o,r,a,s]),c=this.sourceWorldWidth_?Ui(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)f=Ui(yi([t,e,n,i]))/this.targetWorldWidth_>.25||f;!p&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)}if(f||!this.maxSourceExtent_||Bi(u,this.maxSourceExtent_)){if(!f&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1]))){if(!(l>0))return;f=!0}if(l>0){if(!f){var d=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(d),v=void 0;if(p)v=(ii(o[0],h)+ii(a[0],h))/2-ii(g[0],h);else v=(o[0]+a[0])/2-g[0];var _=(o[1]+a[1])/2-g[1];f=v*v+_*_>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this.transformInv_(y),x=[(i[0]+t[0])/2,(i[1]+t[1])/2],b=this.transformInv_(x);this.addQuad_(t,e,y,x,o,r,m,b,l-1),this.addQuad_(x,y,n,i,b,m,a,s,l-1)}else{var E=[(t[0]+e[0])/2,(t[1]+e[1])/2],w=this.transformInv_(E),S=[(n[0]+i[0])/2,(n[1]+i[1])/2],C=this.transformInv_(S);this.addQuad_(t,E,S,i,o,w,C,s,l-1),this.addQuad_(E,e,n,S,w,r,a,C,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,o,a,s),this.addTriangle_(t,e,n,o,r,a)}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var o=e.source;Mi(t,o[0]),Mi(t,o[1]),Mi(t,o[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),as=function(t){function e(e,n,i,o,r,a,s,l,u,c,h){var p=t.call(this,r,Dr.IDLE)||this;p.renderEdges_=void 0!==h&&h,p.pixelRatio_=s,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=o,p.wrappedTileCoord_=a||r,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=o.getTileCoordExtent(p.wrappedTileCoord_),d=p.targetTileGrid_.getExtent(),g=p.sourceTileGrid_.getExtent(),v=d?Xi(f,d):f;if(0===Di(v))return p.state=Dr.EMPTY,p;var _=e.getExtent();_&&(g=g?Xi(g,_):_);var y=o.getResolution(p.wrappedTileCoord_[0]),m=function(t,e,n,i){var o=Lo(n,e,t),r=Co(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(r*=a);var s=t.getMetersPerUnit();void 0!==s&&(r/=s);var l=t.getExtent();if(!l||Ei(l,o)){var u=Co(t,r,o)/r;isFinite(u)&&u>0&&(r/=u)}return r}(e,i,ji(v),y);if(!isFinite(m)||m<=0)return p.state=Dr.EMPTY,p;var x=void 0!==c?c:Pa;if(p.triangulation_=new os(e,i,v,g,m*x),0===p.triangulation_.getTriangles().length)return p.state=Dr.EMPTY,p;p.sourceZ_=n.getZForResolution(m);var b=p.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(b[1]=$n(b[1],g[1],g[3]),b[3]=$n(b[3],g[1],g[3])):b=Xi(b,g)),Di(b)){for(var E=n.getTileRangeForExtentAndZ(b,p.sourceZ_),w=E.minX;w<=E.maxX;w++)for(var S=E.minY;S<=E.maxY;S++){var C=u(p.sourceZ_,w,S,s);C&&p.sourceTiles_.push(C)}0===p.sourceTiles_.length&&(p.state=Dr.EMPTY)}else p.state=Dr.EMPTY;return p}return rs(e,t),e.prototype.disposeInternal=function(){this.state==Dr.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==Dr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=Dr.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],o="number"===typeof n?n:n[1],r=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ns(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),r,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=Dr.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Dr.IDLE){this.state=Dr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var o=e.getState();if(o==Dr.IDLE||o==Dr.LOADING){t++;var r=Uo(e,Zo.CHANGE,function(n){var i=e.getState();i!=Dr.LOADED&&i!=Dr.ERROR&&i!=Dr.EMPTY||(Ko(r),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==Dr.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Ko),this.sourcesListenerKeys_=null},e}(ka);function ss(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(o,a[2].toString()).replace(r,function(){var t=a[0],n=e.getFullTileRange(t);return gi(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function ls(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=ss(t[o],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),r=ii(o,t.length);return t[r](e,n,i)}}}(i)}function us(t,e,n){}function cs(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var hs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ps(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var fs=function(t){function e(e){var n=t.call(this)||this;return n.projection_=So(e.projection),n.attributions_=ps(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Sr.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return hs(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return li()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=ps(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(gr),ds=42,gs=256,vs=[0,0,0],_s=function(){function t(t){var e,n,i,o;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,gi((e=this.resolutions_,n=!0,i=function(t,e){return e-t}||Jo,e.every(function(t,o){if(0===o)return!0;var r=i(e[o-1],t);return!(r>0||n&&0===r)})),17),!t.origins)for(var r=0,a=this.resolutions_.length-1;r<a;++r)if(o){if(this.resolutions_[r]/this.resolutions_[r+1]!==o){o=void 0;break}}else o=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=o,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,gi(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=Wi(s)),gi(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,gi(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:gs,gi(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Ar(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),o=i.minX,r=i.maxX;o<=r;++o)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var o,r,a=null,s=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):a=this.getTileCoordExtent(t,i);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Fr(o=Math.floor(o/2),o,r=Math.floor(r/2),r,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],o=2*t[2];return Fr(i,i+1,o,o+1,e)}var r=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),o=this.getResolution(t),r=cs(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*r[0]*o,s=i[0]+(e.maxX+1)*r[0]*o;return Ti(a,i[1]+e.minY*r[1]*o,s,i[1]+(e.maxY+1)*r[1]*o,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=vs;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var o=i[1],r=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),Fr(o,i[1],r,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=cs(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=cs(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*o[0]*i,a=n[1]-(t[2]+1)*o[1]*i;return Ti(r,a,r+o[0]*i,a+o[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var r=this.getZForResolution(n),a=n/this.getResolution(r),s=this.getOrigin(r),l=cs(this.getTileSize(r),this.tmpSize_),u=i?.5:0,c=i?.5:0,h=Math.floor((t-s[0])/n+u),p=Math.floor((s[1]-e)/n+c),f=a*h/l[0],d=a*p/l[1];return i?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),Ha(r,f,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var r=this.getOrigin(n),a=this.getResolution(n),s=cs(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?.5:0,c=Math.floor((t-r[0])/a+l),h=Math.floor((r[1]-e)/a+u),p=c/s[0],f=h/s[1];return i?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),Ha(n,p,f,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){return $n($o(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();function ys(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var o=void 0!==i?i:vi.TOP_LEFT,r=ms(t,e,n);return new _s({extent:t,origin:Ni(t,o),resolutions:r,tileSize:n})}(xs(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function ms(t,e,n){for(var i=void 0!==e?e:ds,o=Yi(t),r=Ui(t),a=cs(void 0!==n?n:gs),s=Math.max(r/a[0],o/a[1]),l=i+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u}function xs(t){var e=(t=So(t)).getExtent();if(!e){var n=180*Hi[Ji.DEGREES]/t.getMetersPerUnit();e=Ti(-n,-n,n,n)}return e}var bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Es=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.cacheSize;if(void 0===i){var o=[256,256],r=e.tileGrid;r&&cs(r.getTileSize(r.getMinZoom()),o);var a="undefined"!==typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;i=4*Math.ceil(s/o[0])*Math.ceil(l/o[1])}return n.tileCache=new ts(i),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return bs(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,a,s,l=!0,u=n.minX;u<=n.maxX;++u)for(var c=n.minY;c<=n.maxY;++c)a=Ja(e,u,c),s=!1,o.containsKey(a)&&(s=(r=o.get(a)).getState()===Dr.LOADED)&&(s=!1!==i(r)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return li()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:ys(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Ro(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,o,r,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=cs(a.getTileSize(t),this.tmpSize);return 1==s?l:(i=l,o=s,void 0===(r=this.tmpSize)&&(r=[0,0]),r[0]=i[0]*o+.5|0,r[1]=i[1]*o+.5|0,r)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],o=t.getTileCoordCenter(e),r=xs(n);if(Ei(r,o))return e;var a=Ui(r),s=Math.ceil((r[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var r,a=e.getExtent();return!(r=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||r.containsXY(i,o)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,i){},e}(fs),ws=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return bs(e,t),e}(rr),Ss=Es,Cs="tileloadstart",Os="tileloadend",Ts="tileloaderror",Is=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rs=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):us,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return Is(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=ci(n),o=n.getState();o==Dr.LOADING?(this.tileLoadingKeys_[i]=!0,e=Cs):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=o==Dr.ERROR?Ts:o==Dr.LOADED||o==Dr.ABORT?Os:void 0),void 0!=e&&this.dispatchEvent(new ws(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),o=n[2].charCodeAt(0),r=void 0;for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(ls(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=Ja(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(Ss),Ps=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ms(t,e){t.getImage().src=e}var Ls=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ms,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Va,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Ps(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ro(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ro(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ro(e,t)){var n=ci(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ys(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ro(e,t))return this.tileCache;var n=ci(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new ts(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,o,r){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,o),l=s?this.tileUrlFunction(s,i,o):void 0,u=new this.tileClass(a,void 0!==l?Dr.IDLE:Dr.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=r,u.addEventListener(Zo.CHANGE,this.handleTileChange.bind(this)),u},e.prototype.getTile=function(t,e,n,i,o){var r=this.getProjection();if(r&&o&&!Ro(r,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],l=void 0,u=$a(s);a.containsKey(u)&&(l=a.get(u));var c=this.getKey();if(l&&l.key==c)return l;var h=this.getTileGridForProjection(r),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(s,o),d=new as(r,h,o,p,s,f,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=c,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(u,d)):a.set(u,d),d}return this.getTileInternal(t,e,n,i,r||o)},e.prototype.getTileInternal=function(t,e,n,i,o){var r=null,a=Ja(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((r=this.tileCache.get(a)).key!=s){var l=r;r=this.createTile_(t,e,n,i,o,s),l.getState()==Dr.IDLE?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(a,r)}}else r=this.createTile_(t,e,n,i,o,s),this.tileCache.set(a,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=So(t);if(n){var i=ci(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(Rs),Fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),As=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||So("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:ms(n,e.maxZoom,e.tileSize)};return new _s(i)}({extent:xs(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return Fs(e,t),e}(Ls),Ds=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ks='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',zs=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[ks];var o=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",r=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:o,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:r,wrapX:i.wrapX,attributionsCollapsible:!1})||this}return Ds(e,t),e}(As),js=r.a.createContext({}),Ns=js.Provider,Gs=(js.Consumer,js),Ys=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Xs=/^([a-z]*)$|^hsla?\(.*\)$/i;function Ws(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var qs=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var o=0;for(var r in t)0===(3&o++)&&(delete t[r],--e)}i=function(t){var e,n,i,o,r;Xs.exec(t)&&(t=Ws(t));if(Ys.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),o=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(o=(o<<4)+o)),r=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?Bs(r=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((r=t.slice(4,-1).split(",").map(Number)).push(1),Bs(r)):gi(!1,14);return r}(n),t[n]=i,++e}return i}}();function Us(t){return Array.isArray(t)?t:qs(t)}function Bs(t){return t[0]=$n(t[0]+.5|0,0,255),t[1]=$n(t[1]+.5|0,0,255),t[2]=$n(t[2]+.5|0,0,255),t[3]=$n(t[3],0,1),t}function Ks(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}var Zs={FRACTION:"fraction",PIXELS:"pixels"},Vs=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=Hs(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=Hs(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function Hs(t,e,n){return e+":"+t+":"+(n?function(t){return"string"===typeof t?t:Ks(t)}(n):"null")}var Js=new Vs,$s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qs=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=r,s.size_=i,s.src_=n,s.tainted_,s}return $s(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===xa.LOADED){this.tainted_=!1;var t=kr(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Zo.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=xa.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=xa.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=kr(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==xa.IDLE){this.imageState_=xa.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ba(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,o=this.color_[1]/255,r=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=o,n[a+2]*=r;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(sr);var tl={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},el=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return li()},t.prototype.getImage=function(t){return li()},t.prototype.getHitDetectionImage=function(t){return li()},t.prototype.getImageState=function(){return li()},t.prototype.getImageSize=function(){return li()},t.prototype.getHitDetectionImageSize=function(){return li()},t.prototype.getOrigin=function(){return li()},t.prototype.getSize=function(){return li()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){li()},t.prototype.load=function(){li()},t.prototype.unlistenImageChange=function(t){li()},t}(),nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),il=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.opacity?i.opacity:1,r=void 0!==i.rotation?i.rotation:0,a=void 0!==i.scale?i.scale:1,s=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:o,rotation:r,scale:a,rotateWithView:s})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:tl.TOP_LEFT,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:Zs.FRACTION,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:Zs.FRACTION,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,u=void 0!==i.imgSize?i.imgSize:null,c=i.src;gi(!(void 0!==c&&l),4),gi(!l||l&&u,5),void 0!==c&&0!==c.length||!l||(c=l.src||ci(l)),gi(void 0!==c&&c.length>0,6);var h=void 0!==i.src?xa.IDLE:xa.LOADED;return n.color_=void 0!==i.color?Us(i.color):null,n.iconImage_=function(t,e,n,i,o,r){var a=Js.get(e,i,r);return a||(a=new Qs(t,e,n,i,o,r),Js.set(e,i,r,a)),a}(l,c,u,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:tl.TOP_LEFT,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return nl(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Zs.FRACTION||this.anchorYUnits_==Zs.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Zs.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Zs.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=tl.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=tl.TOP_RIGHT&&this.anchorOrigin_!=tl.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=tl.BOTTOM_LEFT&&this.anchorOrigin_!=tl.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=tl.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=tl.TOP_RIGHT&&this.offsetOrigin_!=tl.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=tl.BOTTOM_LEFT&&this.offsetOrigin_!=tl.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Zo.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Zo.CHANGE,t)},e}(el);function ol(t){return Array.isArray(t)?Ks(t):t}var rl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),al=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return rl(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return xa.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e="round",n="round",i=0,o=null,r=0,a=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=ol(t),void 0===(a=this.stroke_.getWidth())&&(a=1),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(i=this.stroke_.getMiterLimit())&&(i=10));var s=2*(this.radius_+a)+1,l={strokeStyle:t,strokeWidth:a,size:s,lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:n,miterLimit:i},u=kr(s,s);this.canvas_=u.canvas;var c=s=this.canvas_.width;this.draw_(l,u,0,0),this.createHitDetectionCanvas_(l),this.anchor_=[s/2,s/2],this.size_=[s,s],this.imageSize_=[c,c]},e.prototype.draw_=function(t,e,n,i){var o,r,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),o=0;o<=s;o++)r=2*o*Math.PI/s-Math.PI/2+this.angle_,a=o%2===0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(r),t.size/2+a*Math.sin(r))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u="#000"),e.fillStyle=ol(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"===typeof e&&(e=Us(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=kr(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var r=void 0!==this.radius2_?this.radius2_:this.radius_;r!==this.radius_&&(o*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=o;a++)l=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2===0?this.radius_:r,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(el),sl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ll=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return sl(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(al),ul=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),cl=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),hl=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=dl,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=dl,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var pl=null;function fl(t,e){if(!pl){var n=new ul({color:"rgba(255,255,255,0.4)"}),i=new cl({color:"#3399CC",width:1.25});pl=[new hl({image:new ll({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return pl}function dl(t){return t.getGeometry()}var gl=hl,vl={POINT:"point",LINE:"line"},_l="#333",yl=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new ul({color:_l}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:vl.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();function ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xl(t,e){var n={};Object.keys(t).forEach(function(t){var e;n[(e=t,"on".concat(e.replace(/(:[a-z])/g,function(t){return t.toUpperCase()}).replace(/^[a-z]/,function(t){return t.toUpperCase()}).replace(":","")))]=t});var i={};return Object.keys(e).forEach(function(t){var o=n[t],r=e[t];"undefined"!==typeof r&&t.match(/^on[A-Z]/)&&o&&(i[o]=r)}),i}function bl(t){var e={};return Object.keys(t).forEach(function(n){"children"===n||"undefined"===typeof t[n]||n.match(/^on[A-Z]/)||(e[n]=t[n])}),e}function El(t,e){for(var n,i=r.a.Children.toArray(t),o=0;o<i.length;o+=1){var a=i[o];if(a.type.name===e){n=a;break}}return n}function wl(t,e,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=function(t,e,n,i,o,r){var a=new il({imgSize:[r,n],src:i,scale:o?1.5:1});return a.fill=t,a.angle=e,a}(t,e,n,i,o,r);return new gl(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){ml(t,e,n[e])})}return t}({image:s,text:new yl({textBaseline:"bottom",fill:new ul({color:"rgba(255, 255, 255, 1.0)"}),stroke:new cl({color:"rgba(50, 50, 50, 1.0)",width:5}),offsetY:-s.getSize()[1]/2-2,font:"bold 12px IRAN-Sans"}),zIndex:o?99999999:void 0},a))}function Sl(t){return(Sl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ol(t,e){return!e||"object"!==Sl(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Il(t,e){return(Il=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rl=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ol(this,Tl(e).call(this,t))).layer=null,n.options={zIndex:void 0,opacity:void 0,preload:void 0,source:void 0,visible:void 0,extent:void 0,minResolution:void 0,maxResolution:void 0,useInterimTilesOnError:void 0},n.events={change:void 0,"change:extent":void 0,"change:maxResolution":void 0,"change:minResolution":void 0,"change:opacity":void 0,"change:preload":void 0,"change:source":void 0,"change:useInterimTilesOnError":void 0,"change:visible":void 0,"change:zIndex":void 0,postcompose:void 0,precompose:void 0,propertychange:void 0,render:void 0},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Il(t,e)}(e,r.a.Component),n=e,(i=[{key:"componentDidMount",value:function(){var t=this,e=bl(Object.assign(this.options,this.props));e.source=e.source||new zs,this.layer=new Ra(e),this.props.zIndex&&this.layer.setZIndex(this.props.zIndex),this.context.layers.push(this.layer);var n=xl(this.events,this.props);Object.keys(n).forEach(function(e){t.layer.on(e,n[e])})}},{key:"render",value:function(){return null}}])&&Cl(n.prototype,i),o&&Cl(n,o),e}();Rl.contextType=Gs;var Pl=Rl,Ml=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ll="renderOrder",Fl=function(t){function e(e){var n=this,i=e||{},o=fo({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return Ml(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Ll)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(Ll,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:fl,this.styleFunction_=null===t?void 0:function(t){var e;if("function"===typeof t)e=t;else{var n;Array.isArray(t)?n=t:(gi("function"===typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(Tr),Al=0,Dl=1;function kl(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=e;s<n;s+=i)r[a++]=t.slice(s,s+i);return r.length=a,r}function zl(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];r[a++]=kl(t,e,u,i,r[a]),e=u}return r.length=a,r}function jl(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];r[a++]=zl(t,e,u,i,r[a]),e=u[u.length-1]}return r.length=a,r}var Nl=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),Gl={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Yl=[Gl.FILL],Xl=[Gl.STROKE],Wl=[Gl.BEGIN_PATH],ql=[Gl.CLOSE_PATH],Ul=Gl,Bl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kl=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=n,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Bl(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,o,r){var a=this.coordinates.length,s=this.getBufferedMaxExtent();r&&(e+=i);var l,u,c,h=t[e],p=t[e+1],f=this.tmpCoordinate_,d=!0;for(l=e+i;l<n;l+=i)f[0]=t[l],f[1]=t[l+1],(c=Ci(s,f))!==u?(d&&(this.coordinates[a++]=h,this.coordinates[a++]=p),this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):c===_i.INTERSECTING?(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):d=!0,h=f[0],p=f[1],u=c;return(o&&d||l===e+i)&&(this.coordinates[a++]=h,this.coordinates[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);o.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,o,r,a,s,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==ri.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,f=h.length;p<f;++p){var d=[];s=this.drawCustomCoordinates_(i,s,h[p],u,d),a.push(d)}this.instructions.push([Ul.CUSTOM,c,a,t,n,jl])}else l==ri.POLYGON||l==ri.MULTI_LINE_STRING?(r=[],i=l==ri.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),u,r),this.instructions.push([Ul.CUSTOM,c,r,t,n,zl])):l==ri.LINE_STRING||l==ri.MULTI_POINT?(i=t.getFlatCoordinates(),o=this.appendFlatCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([Ul.CUSTOM,c,o,t,n,kl])):l==ri.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([Ul.CUSTOM,c,o,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[Ul.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ul.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,r=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==Ul.END_GEOMETRY?r=t:i==Ul.BEGIN_GEOMETRY&&(n[2]=t,Qo(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=ol(i||"#000")}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=ol(o||"#000");var r=e.getLineCap();n.lineCap=void 0!==r?r:"round";var a=e.getLineDash();n.lineDash=a?a.slice():oa;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Ul.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ul.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,r=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!er(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ul.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=xi(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;mi(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Nl),Zl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vl=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.declutterGroups_=null,r.hitDetectionImage_=null,r.image_=null,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r}return Zl(e,t),e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Ul.DRAW_IMAGE,o,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Ul.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Ul.DRAW_IMAGE,o,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Ul.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),o=t.getHitDetectionImage(1),r=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=o,this.image_=r,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(Kl),Hl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jl=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Hl(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var o=this.coordinates.length,r=this.appendFlatCoordinates(t,e,n,i,!1,!1),a=[Ul.MOVE_TO_LINE_TO,o,r];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Wl);var r=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(r,0,r.length,a),this.hitDetectionInstructions.push(Xl),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Wl);for(var r=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,u=0,c=r.length;u<c;++u)l=this.drawFlatCoordinates_(a,l,r[u],s);this.hitDetectionInstructions.push(Xl),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Xl),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Xl),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Wl)},e}(Kl);function $l(t,e,n,i,o,r,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,n-i],c=0;u.length>0;){for(var h=u.pop(),p=u.pop(),f=0,d=t[p],g=t[p+1],v=t[h],_=t[h+1],y=p+i;y<h;y+=i){var m=ti(t[y],t[y+1],d,g,v,_);m>f&&(c=y,f=m)}f>o&&(l[(c-e)/i]=1,p+i<c&&u.push(p,c),c+i<h&&u.push(c,h))}for(y=0;y<s;++y)l[y]&&(r[a++]=t[e+y*i],r[a++]=t[e+y*i+1]);return a}function Ql(t,e){return e*Math.round(t/e)}function tu(t,e,n,i,o,r,a){if(e==n)return a;var s,l,u=Ql(t[e],o),c=Ql(t[e+1],o);e+=i,r[a++]=u,r[a++]=c;do{if(s=Ql(t[e],o),l=Ql(t[e+1],o),(e+=i)==n)return r[a++]=s,r[a++]=l,a}while(s==u&&l==c);for(;e<n;){var h=Ql(t[e],o),p=Ql(t[e+1],o);if(e+=i,h!=s||p!=l){var f=s-u,d=l-c,g=h-u,v=p-c;f*v==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&v<d||d==v||d>0&&v>d)?(s=h,l=p):(r[a++]=s,r[a++]=l,u=s,c=l,s=h,l=p)}}return r[a++]=s,r[a++]=l,a}function eu(t,e,n,i,o,r,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=tu(t,e,c,i,o,r,a),s.push(a),e=c}return a}var nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iu=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return nu(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var o=this.state,r=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(Wl),this.hitDetectionInstructions.push(Wl);for(var l=0;l<s;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatCoordinates(t,e,u,i,!0,!a),p=[Ul.MOVE_TO_LINE_TO,c,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(ql),this.hitDetectionInstructions.push(ql)),e=u}return r&&(this.instructions.push(Yl),this.hitDetectionInstructions.push(Yl)),a&&(this.instructions.push(Xl),this.hitDetectionInstructions.push(Xl)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ul.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(r,0,r.length,a,!1,!1);var l=[Ul.CIRCLE,s];this.instructions.push(Wl,l),this.hitDetectionInstructions.push(Wl,l),void 0!==n.fillStyle&&(this.instructions.push(Yl),this.hitDetectionInstructions.push(Yl)),void 0!==n.strokeStyle&&(this.instructions.push(Xl),this.hitDetectionInstructions.push(Xl)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ul.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,r,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ul.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,u=0,c=r.length;u<c;++u)l=this.drawFlatCoordinatess_(a,l,r[u],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=Ql(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Kl);function ou(t,e,n,i,o){var r,a,s,l,u,c,h,p,f,d=n,g=n,v=0,_=0,y=n;for(r=n;r<i;r+=o){var m=e[r],x=e[r+1];void 0!==l&&(p=m-l,f=x-u,s=Math.sqrt(p*p+f*f),void 0!==c&&(_+=a,Math.acos((c*p+h*f)/(a*s))>t&&(_>v&&(v=_,d=y,g=r),_=0,y=r-o)),a=s,c=p,h=f),l=m,u=x}return(_+=s)>v?[y,r]:[d,g]}var ru=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),au={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},su={Circle:iu,Default:Kl,Image:Vl,LineString:Jl,Polygon:iu,Text:function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.declutterGroups_,r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",aa.prune(),r}return ru(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||i)){var r,a,s=this.coordinates.length,l=t.getType(),u=null,c=2,h=2;if(o.placement===vl.LINE){if(!Bi(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(u=t.getFlatCoordinates(),h=t.getStride(),l==ri.LINE_STRING)p=[u.length];else if(l==ri.MULTI_LINE_STRING)p=t.getEnds();else if(l==ri.POLYGON)p=t.getEnds().slice(0,1);else if(l==ri.MULTI_POLYGON){var f=t.getEndss();for(p=[],r=0,a=f.length;r<a;++r)p.push(f[r][0])}this.beginGeometry(t,e);for(var d=o.textAlign,g=0,v=void 0,_=0,y=p.length;_<y;++_){if(void 0==d){var m=ou(o.maxAngle,u,g,p[_],h);g=m[0],v=m[1]}else v=p[_];for(r=g;r<v;r+=h)this.coordinates.push(u[r],u[r+1]);c=this.coordinates.length,g=p[_];var x=this.declutterGroups_?0===_?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(s,c,x),s=c}this.endGeometry(e)}else{var b=null;switch(o.overflow||(b=[]),l){case ri.POINT:case ri.MULTI_POINT:c=(u=t.getFlatCoordinates()).length;break;case ri.LINE_STRING:u=t.getFlatMidpoint();break;case ri.CIRCLE:u=t.getCenter();break;case ri.MULTI_LINE_STRING:c=(u=t.getFlatMidpoints()).length;break;case ri.POLYGON:u=t.getFlatInteriorPoint(),o.overflow||b.push(u[2]/this.resolution),h=3;break;case ri.MULTI_POLYGON:var E=t.getFlatInteriorPoints();for(u=[],r=0,a=E.length;r<a;r+=3)o.overflow||b.push(E[r+2]/this.resolution),u.push(E[r],E[r+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,h,!1,!1),this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var w=this.pixelRatio;this.instructions.push([Ul.DRAW_IMAGE,s,c,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,o.padding==ra?ra:o.padding.map(function(t){return t*w}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,b]),this.hitDetectionInstructions.push([Ul.DRAW_IMAGE,s,c,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,o.padding,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,b]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var r=this.fillKey_;n&&(r in this.fillStates||(this.fillStates[r]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,o=this.textState_,r=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,u=au[o.textBaseline],c=this.textOffsetY_*l,h=this.text_,p=o.scale,f=i?i.lineWidth*p/2:0;this.instructions.push([Ul.DRAW_CHARS,t,e,u,n,o.overflow,s,o.maxAngle,l,c,r,f*l,h,a,1]),this.hitDetectionInstructions.push([Ul.DRAW_CHARS,t,e,u,n,o.overflow,s,o.maxAngle,1,c,r,f,h,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,o;if(t){this.declutterGroups_=e;var r=t.getFill();r?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=ol(r.getColor()||"#000")):(i=null,this.textFillState_=i);var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();o.lineCap=a.getLineCap()||"round",o.lineDash=s?s.slice():oa,o.lineDashOffset=void 0===l?0:l,o.lineJoin=a.getLineJoin()||"round",o.lineWidth=void 0===u?1:u,o.miterLimit=void 0===c?10:c,o.strokeStyle=ol(a.getColor()||"#000")}else o=null,this.textStrokeState_=o;n=this.textState_;var h=t.getFont()||"10px sans-serif";ca(h);var p=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ra,n.scale=void 0===p?1:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===v?0:v,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:ci(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+ci(i.fillStyle):""}else this.text_=""},e}(Kl)},lu=function(){function t(t,e,n,i,o){this.declutter_=o,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[[1/0,1/0,-1/0,-1/0]],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var o=n[i].finish();t[e][i]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var o=i[e];void 0===o&&(o=new(0,su[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o);return o},t}();function uu(t,e,n,i,o,r){for(var a=r||[],s=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];a[s++]=o[0]*u+o[2]*c+o[4],a[s++]=o[1]*u+o[3]*c+o[5]}return r&&a.length!=s&&(a.length=s),a}var cu={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function hu(t,e,n,i){for(var o=t[e],r=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],u=t[s+1];a+=Math.sqrt((l-o)*(l-o)+(u-r)*(u-r)),o=l,r=u}return a}function pu(t,e,n,i,o,r,a,s,l,u,c){for(var h,p,f=[],d=t[e]>t[n-i],g=o.length,v=t[e],_=t[e+1],y=t[e+=i],m=t[e+1],x=0,b=Math.sqrt(Math.pow(y-v,2)+Math.pow(m-_,2)),E=!1,w=0;w<g;++w){for(var S=o[h=d?g-w-1:w],C=s*l(u,S,c),O=r+C/2;e<n-i&&x+b<O;)v=y,_=m,y=t[e+=i],m=t[e+1],x+=b,b=Math.sqrt(Math.pow(y-v,2)+Math.pow(m-_,2));var T=O-x,I=Math.atan2(m-_,y-v);if(d&&(I+=I>0?-Math.PI:Math.PI),void 0!==p){var R=I-p;if(E=E||0!==R,R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>a)return null}p=I;var P=T/b,M=oi(v,y,P),L=oi(_,m,P);f[h]=[M,L,C/2,I,S],r+=C}return E?f:[[f[0][0],f[0][1],f[0][2],f[0][3],o]]}var fu=n("1c98b5ebc0a1076f8a67"),du=n.n(fu),gu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vu=[1/0,1/0,-1/0,-1/0],_u=[1,0,0,1,0,0],yu=[],mu=[],xu=[],bu=[],Eu=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.overlaps=i,r.pixelRatio=n,r.resolution=e,r.alignFill_,r.declutterItems=[],r.instructions=o.instructions,r.coordinates=o.coordinates,r.coordinateCache_={},r.renderedTransform_=[1,0,0,1,0,0],r.hitDetectionInstructions=o.hitDetectionInstructions,r.pixelCoordinates_=null,r.viewRotation_=0,r.fillStates=o.fillStates||{},r.strokeStates=o.strokeStates||{},r.textStates=o.textStates||{},r.widths_={},r}return gu(e,t),e.prototype.disposeInternal=function(){aa.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,i){var o,r=i+e+t+n+this.pixelRatio;if(!aa.containsKey(r)){var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[e],u=this.pixelRatio,c=l.scale*u,h=au[l.textAlign||"center"],p=i&&a.lineWidth?a.lineWidth:0,f=t.split("\n"),d=f.length,g=[],v=function(t,e,n){for(var i=e.length,o=0,r=0;r<i;++r){var a=ga(t,e[r]);o=Math.max(o,a),n.push(a)}return o}(l.font,f,g),_=da(l.font),y=_*d,m=v+p,x=kr(Math.ceil((m+2)*c),Math.ceil((y+p)*c));o=x.canvas,aa.set(r,o),1!=c&&x.scale(c,c),x.font=l.font,i&&(x.strokeStyle=a.strokeStyle,x.lineWidth=p,x.lineCap=a.lineCap,x.lineJoin=a.lineJoin,x.miterLimit=a.miterLimit,x.setLineDash&&a.lineDash.length&&(x.setLineDash(a.lineDash),x.lineDashOffset=a.lineDashOffset)),n&&(x.fillStyle=s.fillStyle),x.textBaseline="middle",x.textAlign="center";var b=.5-h,E=h*m+b*p,w=void 0;if(i)for(w=0;w<d;++w)x.strokeText(f[w],E+b*g[w],.5*(p+_)+w*_);if(n)for(w=0;w<d;++w)x.fillText(f[w],E+b*g[w],.5*(p+_)+w*_)}return aa.get(r,this)},e.prototype.replayTextBackground_=function(t,e,n,i,o,r,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,o,r,a,s,l,u,c,h,p,f,d,g,v,_){var y=v||_;e-=o*=p,n-=r*=p;var m=d+u>i.width?i.width-u:d,x=s+c>i.height?i.height-c:s,b=g[3]+m*p+g[1],E=g[0]+x*p+g[2],w=e-g[3],S=n-g[0];(y||0!==h)&&(yu[0]=w,bu[0]=w,yu[1]=S,mu[1]=S,mu[0]=w+b,xu[0]=mu[0],xu[1]=S+E,bu[1]=xu[1]);var C=null;if(0!==h){var O=e+o,T=n+r;C=Hr(_u,O,T,1,1,h,-O,-T),Vr(_u,yu),Vr(_u,mu),Vr(_u,xu),Vr(_u,bu),Ti(Math.min(yu[0],mu[0],xu[0],bu[0]),Math.min(yu[1],mu[1],xu[1],bu[1]),Math.max(yu[0],mu[0],xu[0],bu[0]),Math.max(yu[1],mu[1],xu[1],bu[1]),vu)}else Ti(w,S,w+b,S+E,vu);var I=t.canvas,R=_?_[2]*p/2:0,P=vu[0]-R<=I.width&&vu[2]+R>=0&&vu[1]-R<=I.height&&vu[3]+R>=0;if(f&&(e=Math.round(e),n=Math.round(n)),a){if(!P&&1==a[4])return;Pi(a,vu);var M=P?[t,C?C.slice(0):null,l,i,u,c,m,x,e,n,p]:null;M&&(y&&M.push(v,_,yu,mu,xu,bu),a.push(M))}else P&&(y&&this.replayTextBackground_(t,yu,mu,xu,bu,v,_),ma(t,C,l,i,u,c,m,x,e,n,p))},e.prototype.fill_=function(t){if(this.alignFill_){var e=Vr(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,i){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(i||(i=new du.a(9)),!i.collides(r)){i.insert(r);for(var a=5,s=t.length;a<s;++a){var l=t[a],u=l[0],c=u.globalAlpha;c!==n&&(u.globalAlpha=n),l.length>11&&this.replayTextBackground_(l[0],l[13],l[14],l[15],l[16],l[11],l[12]),ma.apply(void 0,l),c!==n&&(u.globalAlpha=c)}}t.length=5,Ii(t)}}return i},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,i){var o=this.textStates[e],r=this.getTextImage(t,e,i,n),a=this.strokeStates[n],s=this.pixelRatio,l=au[o.textAlign||"center"],u=au[o.textBaseline||"middle"],c=a&&a.lineWidth?a.lineWidth:0;return{label:r,anchorX:l*(r.width/s-2*o.scale)+2*(.5-l)*c,anchorY:u*r.height/s+2*(.5-u)*c}},e.prototype.execute_=function(t,e,n,i,o,r){var a,s,l;this.declutterItems.length=0,this.pixelCoordinates_&&er(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=uu(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),s=this.renderedTransform_,l=e,s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5]);for(var u,c,h,p,f,d,g,v,_,y,m,x,b,E,w,S,C,O=0,T=n.length,I=0,R=0,P=0,M=null,L=null,F=this.coordinateCache_,A=this.viewRotation_,D=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},z=this.instructions!=n||this.overlaps?0:200;O<T;){var j=n[O];switch(j[0]){case Ul.BEGIN_GEOMETRY:(w=j[1]).getGeometry()?void 0===r||Bi(r,j[3])?++O:O=j[2]+1:O=j[2];break;case Ul.BEGIN_PATH:R>z&&(this.fill_(t),R=0),P>z&&(t.stroke(),P=0),R||P||(t.beginPath(),p=NaN,f=NaN),++O;break;case Ul.CIRCLE:var N=a[I=j[1]],G=a[I+1],Y=a[I+2]-N,X=a[I+3]-G,W=Math.sqrt(Y*Y+X*X);t.moveTo(N+W,G),t.arc(N,G,W,0,2*Math.PI,!0),++O;break;case Ul.CLOSE_PATH:t.closePath(),++O;break;case Ul.CUSTOM:I=j[1],u=j[2];var q=j[3],U=j[4],B=6==j.length?j[5]:void 0;k.geometry=q,k.feature=w,O in F||(F[O]=[]);var K=F[O];B?B(a,I,u,2,K):(K[0]=a[I],K[1]=a[I+1],K.length=2),U(K,k),++O;break;case Ul.DRAW_IMAGE:I=j[1],u=j[2],y=j[3],c=j[4],h=j[5],_=o?null:j[6];var Z=j[7],V=j[8],H=j[9],J=j[10],$=j[11],Q=j[12],tt=j[13],et=j[14];if(!y&&j.length>=19){m=j[18],x=j[19],b=j[20],E=j[21];var nt=this.drawTextImageWithPointPlacement_(m,x,b,E);y=nt.label,j[3]=y;var it=j[22];c=(nt.anchorX-it)*this.pixelRatio,j[4]=c;var ot=j[23];h=(nt.anchorY-ot)*this.pixelRatio,j[5]=h,Z=y.height,j[7]=Z,et=y.width,j[14]=et}var rt=void 0;j.length>24&&(rt=j[24]);var at=void 0,st=void 0,lt=void 0;j.length>16?(at=j[15],st=j[16],lt=j[17]):(at=ra,st=!1,lt=!1),$&&D?Q+=A:$||D||(Q-=A);for(var ut=0,ct=0;I<u;I+=2)if(!(rt&&rt[ut++]<et/this.pixelRatio)){if(_){var ht=Math.floor(ct);_.length<ht+1&&((v=[1/0,1/0,-1/0,-1/0]).push(_[0][4]),_.push(v)),v=_[ht]}this.replayImage_(t,a[I],a[I+1],y,c,h,v,Z,V,H,J,Q,tt,i,et,at,st?M:null,lt?L:null),v&&(ct===Math.floor(ct)&&this.declutterItems.push(this,v,w),ct+=1/v[4])}++O;break;case Ul.DRAW_CHARS:var pt=j[1],ft=j[2],dt=j[3];v=o?null:j[4];var gt=j[5];E=j[6];var vt=j[7],_t=j[8],yt=j[9];b=j[10];var mt=j[11];m=j[12],x=j[13];var xt=j[14],bt=this.textStates[x],Et=bt.font,wt=bt.scale*_t,St=void 0;Et in this.widths_?St=this.widths_[Et]:(St={},this.widths_[Et]=St);var Ct=hu(a,pt,ft,2),Ot=wt*va(Et,m,St);if(gt||Ot<=Ct){var Tt=this.textStates[x].textAlign,It=pu(a,pt,ft,2,m,(Ct-Ot)*au[Tt],vt,wt,va,Et,St);if(It){var Rt=void 0,Pt=void 0,Mt=void 0,Lt=void 0,Ft=void 0;if(b)for(Rt=0,Pt=It.length;Rt<Pt;++Rt)Mt=(Ft=It[Rt])[4],Lt=this.getTextImage(Mt,x,"",b),c=Ft[2]+mt,h=dt*Lt.height+2*(.5-dt)*mt-yt,this.replayImage_(t,Ft[0],Ft[1],Lt,c,h,v,Lt.height,1,0,0,Ft[3],xt,!1,Lt.width,ra,null,null);if(E)for(Rt=0,Pt=It.length;Rt<Pt;++Rt)Mt=(Ft=It[Rt])[4],Lt=this.getTextImage(Mt,x,E,""),c=Ft[2],h=dt*Lt.height-yt,this.replayImage_(t,Ft[0],Ft[1],Lt,c,h,v,Lt.height,1,0,0,Ft[3],xt,!1,Lt.width,ra,null,null)}}this.declutterItems.push(this,v,w),++O;break;case Ul.END_GEOMETRY:if(void 0!==o){var At=o(w=j[1]);if(At)return At}++O;break;case Ul.FILL:z?R++:this.fill_(t),++O;break;case Ul.MOVE_TO_LINE_TO:for(I=j[1],u=j[2],S=a[I],g=(C=a[I+1])+.5|0,(d=S+.5|0)===p&&g===f||(t.moveTo(S,C),p=d,f=g),I+=2;I<u;I+=2)d=(S=a[I])+.5|0,g=(C=a[I+1])+.5|0,I!=u-2&&d===p&&g===f||(t.lineTo(S,C),p=d,f=g);++O;break;case Ul.SET_FILL_STYLE:M=j,this.alignFill_=j[2],R&&(this.fill_(t),R=0,P&&(t.stroke(),P=0)),t.fillStyle=j[1],++O;break;case Ul.SET_STROKE_STYLE:L=j,P&&(t.stroke(),P=0),this.setStrokeStyle_(t,j),++O;break;case Ul.STROKE:z?P++:t.stroke(),++O;break;default:++O}}R&&this.fill_(t),P&&t.stroke()},e.prototype.execute=function(t,e,n,i){this.viewRotation_=n,this.execute_(t,e,this.instructions,i,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,i,o){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,i,o)},e}(Ho),wu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Su=[cu.POLYGON,cu.CIRCLE,cu.LINE_STRING,cu.IMAGE,cu.TEXT,cu.DEFAULT],Cu=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=o,s.pixelRatio_=i,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=[1,0,0,1,0,0],s.createExecutors_(r),s}return wu(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e];for(var o in i){var r=i[o];n[o]=new Eu(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var i in n)n[i].disposeInternal()}if(this.hitDetectionContext_){var o=this.hitDetectionContext_.canvas;o.width=0,o.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,o=t.length;i<o;++i)if(t[i]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r){var a=2*(i=Math.round(i))+1,s=Hr(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=kr(a,a));var l,u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):u.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(Mi(l=[1/0,1/0,-1/0,-1/0],t),mi(l,e*(this.renderBuffer_+i),l));var c,h=function(t){if(void 0!==Ou[t])return Ou[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var o=t,r=0,a=0;for(;o>=r;)Tu(n,t+o,t+r),Tu(n,t+r,t+o),Tu(n,t-r,t+o),Tu(n,t-o,t+r),Tu(n,t-o,t-r),Tu(n,t-r,t-o),Tu(n,t+r,t-o),Tu(n,t+o,t-r),2*((a+=1+2*++r)-o)+1>0&&(a+=1-2*(o-=1));return Ou[t]=n,n}(i);function p(t){for(var e=u.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var i=0;i<a;i++)if(h[n][i]&&e[4*(i*a+n)+3]>0){var s=void 0;return(!r||c!=cu.IMAGE&&c!=cu.TEXT||-1!==r.indexOf(t))&&(s=o(t)),s||void u.clearRect(0,0,a,a)}}var f,d,g,v,_,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(Jo),f=y.length-1;f>=0;--f){var m=y[f].toString();for(g=this.executorsByZIndex_[m],d=Su.length-1;d>=0;--d)if(void 0!==(v=g[c=Su[d]])&&(_=v.executeHitDetection(u,s,n,p,l)))return _}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],o=e[2],r=e[3],a=[n,i,n,r,o,r,o,i];return uu(a,0,8,2,t,a),a},e.prototype.isEmpty=function(){return _o(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,i,o,r){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(Jo),this.maxExtent_&&(t.save(),this.clip(t,e));var s,l,u,c,h,p,f=o||Su;for(s=0,l=a.length;s<l;++s){var d=a[s].toString();for(h=this.executorsByZIndex_[d],u=0,c=f.length;u<c;++u){var g=f[u];if(void 0!==(p=h[g]))if(!r||g!=cu.IMAGE&&g!=cu.TEXT)p.execute(t,e,n,i);else{var v=r[d];v?v.push(p,e.slice(0)):r[d]=[p,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(Ho),Ou={0:[[!0]]};function Tu(t,e,n){var i,o=Math.floor(t.length/2);if(e>=o)for(i=o;i<e;i++)t[i][n]=!0;else if(e<o)for(i=e+1;i<o;i++)t[i][n]=!0}var Iu=Cu,Ru=.5,Pu={Point:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=xa.LOADED)return;var r=t.getBuilder(n.getZIndex(),cu.IMAGE);r.setImageStyle(o,t.addDeclutter(!1)),r.drawPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),cu.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,i)}},LineString:function(t,e,n,i){var o=n.getStroke();if(o){var r=t.getBuilder(n.getZIndex(),cu.LINE_STRING);r.setFillStrokeStyle(null,o),r.drawLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),cu.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},Polygon:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),cu.POLYGON);a.setFillStrokeStyle(o,r),a.drawPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),cu.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=xa.LOADED)return;var r=t.getBuilder(n.getZIndex(),cu.IMAGE);r.setImageStyle(o,t.addDeclutter(!1)),r.drawMultiPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),cu.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,i)}},MultiLineString:function(t,e,n,i){var o=n.getStroke();if(o){var r=t.getBuilder(n.getZIndex(),cu.LINE_STRING);r.setFillStrokeStyle(null,o),r.drawMultiLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),cu.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(r||o){var a=t.getBuilder(n.getZIndex(),cu.POLYGON);a.setFillStrokeStyle(o,r),a.drawMultiPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),cu.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var o,r,a=e.getGeometriesArray();for(o=0,r=a.length;o<r;++o){var s=Pu[a[o].getType()];s(t,a[o],n,i)}},Circle:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),cu.CIRCLE);a.setFillStrokeStyle(o,r),a.drawCircle(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),cu.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}};function Mu(t,e){return parseInt(ci(t),10)-parseInt(ci(e),10)}function Lu(t,e){var n=Fu(t,e);return n*n}function Fu(t,e){return Ru*t/e}function Au(t,e,n,i,o,r){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==xa.LOADED||l==xa.ERROR?s.unlistenImageChange(o):(l==xa.IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(o),a=!0)}return function(t,e,n,i,o){var r=n.getGeometryFunction()(e);if(!r)return;var a=r.simplifyTransformed(i,o);if(n.getRenderer())!function t(e,n,i,o){if(n.getType()==ri.GEOMETRY_COLLECTION){for(var r=n.getGeometries(),a=0,s=r.length;a<s;++a)t(e,r[a],i,o);return}var l=e.getBuilder(i.getZIndex(),cu.DEFAULT);l.drawCustom(n,o,i.getRenderer())}(t,a,n,e);else{var s=Pu[a.getType()];s(t,a,n,e)}}(t,e,n,i,r),a}var Du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ku=[1,0,0,1,0,0],zu=function(t){function e(){var e,n,i,o,r,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},r=!1,function(){var t=Array.prototype.slice.call(arguments);return r&&this===o&&er(t,i)||(r=!0,o=this,i=t,n=e.apply(this,arguments)),n}),a}return Du(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return li()},e.prototype.closestPointXY=function(t,e,n,i){return li()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return li()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){li()},e.prototype.scale=function(t,e,n){li()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return li()},e.prototype.getType=function(){return li()},e.prototype.applyTransform=function(t){li()},e.prototype.intersectsExtent=function(t){return li()},e.prototype.translate=function(t,e){li()},e.prototype.transform=function(t,e){var n=So(t),i=n.getUnits()==Ji.TILE_PIXELS?function(t,i,o){var r=n.getExtent(),a=n.getWorldExtent(),s=Yi(a)/Yi(r);return Hr(ku,a[0],a[3],s,-s,0,0,0),uu(t,0,t.length,o,ku,i),Mo(n,e)(t,i,o)}:Mo(n,e);return this.applyTransform(i),this},e}(gr),ju={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},Nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Gu(t){var e;return t==ju.XY?e=2:t==ju.XYZ||t==ju.XYM?e=3:t==ju.XYZM&&(e=4),e}var Yu=function(t){function e(){var e=t.call(this)||this;return e.layout=ju.XY,e.stride=2,e.flatCoordinates=null,e}return Nu(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=0,i=this.flatCoordinates.length,o=this.stride,Fi(Ii(t),e,n,i,o);var e,n,i,o},e.prototype.getCoordinates=function(){return li()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Gu(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){li()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=Gu(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=ju.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=ju.XY:3==t?e=ju.XYZ:4==t&&(e=ju.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],l=Math.cos(o),u=Math.sin(o),c=r[0],h=r[1],p=0,f=e;f<n;f+=i){var d=t[f]-c,g=t[f+1]-h;s[p++]=c+d*l-g*u,s[p++]=h+d*u+g*l;for(var v=f+2;v<f+i;++v)s[p++]=t[v]}a&&s.length!=p&&(s.length=p)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=ji(this.getExtent()));var r=this.getFlatCoordinates();if(r){var a=this.getStride();!function(t,e,n,i,o,r,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,p=e;p<n;p+=i){var f=t[p]-u,d=t[p+1]-c;l[h++]=u+o*f,l[h++]=c+r*d;for(var g=p+2;g<p+i;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(r,0,r.length,a,t,i,o,r),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],l=0,u=e;u<n;u+=i){s[l++]=t[u]+o,s[l++]=t[u+1]+r;for(var c=u+2;c<u+i;++c)s[l++]=t[c]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(zu),Xu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wu=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=o,l.viewRotation_=r,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return Xu(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=uu(t,e,n,2,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=o.length;u<c;u+=2){var h=o[u]-this.imageAnchorX_,p=o[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;Hr(a,f,d,this.imageScale_,this.imageScale_,l,-f,-d),r.setTransform.apply(r,a)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=uu(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Hr(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);r.setTransform.apply(r,u)}this.textStrokeState_&&r.strokeText(this.text_,s,l),this.textFillState_&&r.fillText(this.text_,s,l)}0===a&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,a=uu(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)r.lineTo(a[l],a[l+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(Bi(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var o=t.getStride();return uu(i,0,i.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case ri.POINT:this.drawPoint(t);break;case ri.LINE_STRING:this.drawLineString(t);break;case ri.POLYGON:this.drawPolygon(t);break;case ri.MULTI_POINT:this.drawMultiPoint(t);break;case ri.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case ri.MULTI_POLYGON:this.drawMultiPolygon(t);break;case ri.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case ri.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Bi(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Bi(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=r.length;s<l;++s)o=this.moveToLineTo_(i,o,r[s],a,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];i=this.drawRings_(n,i,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(er(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:ol(n||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:r||oa,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==u?u:10,strokeStyle:ol(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:ol(n||"#000")}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:"round",lineDash:a||oa,lineDashOffset:s||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==u?u:1,miterLimit:void 0!==c?c:10,strokeStyle:ol(o||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),_=t.getText(),y=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==m?m:"middle"},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(Nl);function qu(t,e,n){var i=[];if(n){var o=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),r=n.data[o],a=n.data[o+1],s=n.data[o+2]+256*(a+256*r),l=Math.ceil(16777216/e.length);s%l===0&&i.push(e[s/l])}return i}var Uu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bu=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return Uu(e,t),e.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){Zr(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),Jr(this.inversePixelTransform,this.pixelTransform);var o=$r(this.pixelTransform);this.useContainer(e,o,i.opacity);var r=this.context,a=r.canvas,s=this.replayGroup_;if(!s||s.isEmpty())return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);a.width!=l||a.height!=u?(a.width=l,a.height=u,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||r.clearRect(0,0,l,u),this.preRender(r,t);var c=t.extent,h=t.viewState,p=h.center,f=h.resolution,d=h.projection,g=h.rotation,v=d.getExtent(),_=this.getLayer().getSource(),y=!1;if(i.extent){var m=Xo(i.extent,d);(y=!wi(m,t.extent)&&Bi(m,t.extent))&&this.clip(r,t,m)}var x=t.viewHints,b=!(x[Al]||x[Dl]),E=this.getRenderTransform(p,f,g,n,l,u,0),w=this.getLayer().getDeclutter()?{}:null;if(s.execute(r,E,g,b,void 0,w),_.getWrapX()&&d.canWrapX()&&!wi(v,c)){for(var S=c[0],C=Ui(v),O=0,T=void 0;S<v[0];){T=C*--O;var I=this.getRenderTransform(p,f,g,n,l,u,T);s.execute(r,I,g,b,void 0,w),S+=C}for(O=0,S=c[2];S>v[2];){T=C*++O;var R=this.getRenderTransform(p,f,g,n,l,u,T);s.execute(r,R,g,b,void 0,w),S-=C}}if(w){var P=t.viewHints;!function(t,e,n,i,o,r){for(var a=Object.keys(t).map(Number).sort(Jo),s=0,l=a.length;s<l;++s)for(var u=t[a[s].toString()],c=void 0,h=0,p=u.length;h<p;){var f=u[h++];f!==c&&(c=f,r.push({items:f.declutterItems,opacity:i}));var d=u[h++];f.execute(e,d,n,o)}}(w,r,g,1,!(P[Al]||P[Dl]),t.declutterItems)}y&&r.restore(),this.postRender(r,t);var M=i.opacity,L=this.container;return M!==parseFloat(L.style.opacity)&&(L.style.opacity=1===M?"":M),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){this.hitDetectionImageData_||this.animatingOrInteracting_?e(qu(t,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];Vr(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,r=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,l=this.getLayer(),u=[],c=n[0]/2,h=n[1]/2;u.push(this.getRenderTransform(i,o,r,.5,c,h,0).slice());var p=l.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!wi(f,s)){for(var d=s[0],g=Ui(f),v=0,_=void 0;d<f[0];)_=g*--v,u.push(this.getRenderTransform(i,o,r,.5,c,h,_).slice()),d+=g;for(v=0,d=s[2];d>f[2];)_=g*++v,u.push(this.getRenderTransform(i,o,r,.5,c,h,_).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,i,o,r,a){var s=kr(t[0]/2,t[1]/2);s.imageSmoothingEnabled=!1;for(var l=s.canvas,u=new Wu(s,.5,o,null,a),c=n.length,h=Math.ceil(16777216/c),p={},f=0;f<c;++f){var d=n[f],g=d.getStyleFunction()||i;if(i){var v=g(d,r);Array.isArray(v)||(v=[v]);for(var _="#"+("000000"+(f*h).toString(16)).slice(-6),y=0,m=v.length;y<m;++y){var x=v[y],b=x.clone(),E=b.getFill();E&&E.setColor(_);var w=b.getStroke();w&&w.setColor(_),b.setText(void 0);var S=x.getImage();if(S){var C=S.getImageSize(),O=document.createElement("canvas");O.width=C[0],O.height=C[1];var T=O.getContext("2d",{alpha:!1});T.fillStyle=_;var I=T.canvas;T.fillRect(0,0,I.width,I.height),kr(C?C[0]:I.width,C?C[1]:I.height).drawImage(I,0,0),b.setImage(new il({img:I,imgSize:C,anchor:S.getAnchor(),anchorXUnits:Zs.PIXELS,anchorYUnits:Zs.PIXELS,offset:S.getOrigin(),size:S.getSize(),opacity:S.getOpacity(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var R=Number(b.getZIndex());(F=p[R])||(F={},p[R]=F,F[ri.POLYGON]=[],F[ri.CIRCLE]=[],F[ri.LINE_STRING]=[],F[ri.POINT]=[]);var P=b.getGeometryFunction()(d);P&&Bi(o,P.getExtent())&&F[P.getType().replace("Multi","")].push(P,b)}}}for(var M=Object.keys(p).map(Number).sort(Jo),L=(f=0,M.length);f<L;++f){var F=p[M[f]];for(var A in F){var D=F[A];for(y=0,m=D.length;y<m;y+=2){u.setStyle(D[y+1]);for(var k=0,z=e.length;k<z;++k)u.setTransform(e[k]),u.drawGeometry(D[y])}}}return s.getImageData(0,0,l.width,l.height)}(n,u,this.renderedFeatures_,l.getStyleFunction(),s,o,r),e(qu(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var r=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,r,a,n,function(t){var e=ci(t);if(!(e in l))return l[e]=!0,i(t,s)},s.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),i=t.viewHints[Al],o=t.viewHints[Dl],r=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!r&&i||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,u=l.projection,c=l.resolution,h=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Mu);var g=l.center.slice(),v=mi(s,f*c),_=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!wi(_,t.extent)){var y=Ui(_),m=Math.max(Ui(v)/2,y);v[0]=_[0]-m,v[2]=_[2]+m;var x=Math.floor((g[0]-_[0])/y);g[0]-=x*y}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&wi(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var b,E=new lu(Fu(c,h),v,c,h,e.getDeclutter()),w=jo();w?(n.loadFeatures(Yo(v,u),c,w),b=Po(w,u)):n.loadFeatures(v,c,u);var S=Lu(c,h),C=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,c)),n){var o=this.renderFeature(t,S,n,E,b);this.dirty_=this.dirty_||o}}.bind(this),O=Yo(v,u),T=n.getFeaturesInExtent(O);d&&T.sort(d);for(var I=0,R=T.length;I<R;++I)C(T[I]);this.renderedFeatures_=T;var P=E.finish(),M=new Iu(v,c,h,n.getOverlaps(),P,e.getRenderBuffer());return this.renderedResolution_=c,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=v,this.renderedRotation_=l.rotation,this.renderedCenter_=g,this.renderedProjection_=u,this.replayGroup_=M,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,o){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)r=Au(i,t,n[a],e,this.boundHandleStyleImageChange_,o)||r;else r=Au(i,t,n,e,this.boundHandleStyleImageChange_,o);return r},e}(Sa),Ku=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zu=function(t){function e(e){return t.call(this,e)||this}return Ku(e,t),e.prototype.createRenderer=function(){return new Bu(this)},e}(Fl),Vu={ADD:"add",REMOVE:"remove"},Hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ju="length",$u=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.element=n,o.index=i,o}return Hu(e,t),e}(rr),Qu=function(t){function e(e,n){var i=t.call(this)||this,o=n||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var r=0,a=i.array_.length;r<a;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return Hu(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Ju)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new $u(Vu.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new $u(Vu.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new $u(Vu.REMOVE,i,t)),this.dispatchEvent(new $u(Vu.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Ju,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new di(58)},e}(gr),tc={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},ec=!1;function nc(t,e){return function(t,e,n,i){return function(o,r,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(o,r,a):t,!0),e.getType()==tc.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=ec,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),l=void 0;r==tc.JSON||r==tc.TEXT?l=s.responseText:r==tc.XML?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==tc.ARRAY_BUFFER&&(l=s.response),l?n.call(this,e.readFeatures(l,{extent:o,featureProjection:a}),e.readProjection(l)):i.call(this)}else i.call(this)}.bind(this),s.onerror=function(){i.call(this)}.bind(this),s.send()}}(t,e,function(t,e){"function"===typeof this.addFeatures&&this.addFeatures(t)},or)}function ic(t,e){return[[-1/0,-1/0,1/0,1/0]]}var oc,rc="addfeature",ac="changefeature",sc="clear",lc="removefeature",uc=function(){function t(t){this.rbush_=new du.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[ci(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],a=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:a};n[i]=s,this.items_[ci(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=ci(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[ci(e)];Ri([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return _o(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Ti(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),cc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hc=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return cc(e,t),e}(rr),pc=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:Sr.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=or,n.format_=i.format,n.overlaps_=void 0==i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(gi(n.format_,7),n.loader_=nc(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:ic;var o,r,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new uc:null,n.loadedExtentsRtree_=new uc,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(o=i.features).getArray()),a||void 0!==o||(o=new Qu(r)),void 0!==r&&n.addFeaturesInternal(r),void 0!==o&&n.bindFeaturesCollection_(o),n}return cc(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=ci(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new hc(rc,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Uo(e,Zo.CHANGE,this.handleFeatureChange_,this),Uo(e,Vo,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(gi(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,r=t.length;o<r;o++){var a=ci(l=t[o]);this.addToIndex_(a,l)&&n.push(l)}o=0;for(var s=n.length;o<s;o++){var l;a=ci(l=n[o]);this.setupChangeEvents_(a,l);var u=l.getGeometry();if(u){var c=u.getExtent();e.push(c),i.push(l)}else this.nullGeometryFeatures_[a]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i);o=0;for(var h=n.length;o<h;o++)this.dispatchEvent(new hc(rc,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(rc,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(lc,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Vu.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Vu.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(Ko)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new hc(sc);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),_o(this.nullGeometryFeatures_)||tr(t,vo(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],o=null,r=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||nr;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,i,r,a))<u){o=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=i-c,s[2]=n+c,s[3]=i+c}}}),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=ci(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var r=e.getId();if(void 0!==r){var a=r.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new hc(ac,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:ci(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&_o(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var r=function(t,r){var s=o[t];i.forEachInExtent(s,function(t){return wi(t.extent,s)})||(a.loader_.call(a,s,e,n),i.insert(s,{extent:s.slice()}),a.loading=a.loader_!==or)},a=this,s=0,l=o.length;s<l;++s)r(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Ri(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=ci(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=ci(t);this.featureChangeKeys_[e].forEach(Ko),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new hc(lc,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){gi(this.format_,7),this.setLoader(nc(t,this.format_))},e}(fs);function fc(t){return(fc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function gc(t,e){return!e||"object"!==fc(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vc(t){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _c(t,e){return(_c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yc=Object(o.createContext)(),mc=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=gc(this,vc(e).call(this,t))).features=[],n.vectorSource=null,n.layer=null,n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_c(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){this.vectorSource=new pc({features:this.features}),this.layer=new Zu({source:this.vectorSource}),this.context.layers.push(this.layer)}},{key:"componentWillUnmount",value:function(){console.log("Vector layer is unmount!")}},{key:"render",value:function(){return function(t,e,n,i){oc||(oc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:oc,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(yc.Provider,{value:this},void 0,this.props.children)}}])&&dc(n.prototype,i),o&&dc(n,o),e}();mc.contextType=Gs;var xc={Tile:Pl,Vector:mc},bc=qo;function Ec(t,e,n){return function(i,o,r,a){if(i){var s=e?0:r[0]*o,l=e?0:r[1]*o,u=t[0]+s/2,c=t[2]-s/2,h=t[1]+l/2,p=t[3]-l/2;u>c&&(c=u=(c+u)/2),h>p&&(p=h=(p+h)/2);var f=$n(i[0],u,c),d=$n(i[1],h,p),g=30*o;return a&&n&&(f+=-g*Math.log(1+Math.max(0,u-i[0])/g)+g*Math.log(1+Math.max(0,i[0]-c)/g),d+=-g*Math.log(1+Math.max(0,h-i[1])/g)+g*Math.log(1+Math.max(0,i[1]-p)/g)),[f,d]}}}function wc(t){return t}function Sc(t,e,n){var i=Ui(e)/n[0],o=Yi(e)/n[1];return Math.min(t,Math.min(i,o))}function Cc(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),$n(i,n/2,2*e)}function Oc(t,e,n,i){return function(o,r,a,s){if(void 0!==o){var l=i?Sc(t,i,a):t;return(void 0===n||n)&&s?Cc(o,l,e):$n(o,e,l)}}}function Tc(t){return void 0!==t?0:void 0}function Ic(t){return void 0!==t?t:void 0}var Rc="center",Pc="resolution",Mc="rotation";function Lc(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Fc(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}function Ac(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=a*s-r*l,r=s,a=l}return o/2}function Dc(t,e,n,i){for(var o=0,r=0,a=n.length;r<a;++r){var s=n[r];o+=Ac(t,e,s,i),e=s}return o}function kc(t,e,n,i,o,r,a){var s,l=t[e],u=t[e+1],c=t[n]-l,h=t[n+1]-u;if(0===c&&0===h)s=e;else{var p=((o-l)*c+(r-u)*h)/(c*c+h*h);if(p>1)s=n;else{if(p>0){for(var f=0;f<i;++f)a[f]=oi(t[e+f],t[n+f],p);return void(a.length=i)}s=e}}for(f=0;f<i;++f)a[f]=t[s+f];a.length=i}function zc(t,e,n,i,o){var r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],u=ei(r,a,s,l);u>o&&(o=u),r=s,a=l}return o}function jc(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];o=zc(t,e,s,i,o),e=s}return o}function Nc(t,e,n,i,o,r,a,s,l,u,c){if(e==n)return u;var h,p;if(0===o){if((p=ei(a,s,t[e],t[e+1]))<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,p}return u}for(var f=c||[NaN,NaN],d=e+i;d<n;)if(kc(t,d-i,d,i,a,s,f),(p=ei(a,s,f[0],f[1]))<u){for(u=p,h=0;h<i;++h)l[h]=f[h];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(u))/o|0,1);if(r&&(kc(t,n-i,e,i,a,s,f),(p=ei(a,s,f[0],f[1]))<u)){for(u=p,h=0;h<i;++h)l[h]=f[h];l.length=i}return u}function Gc(t,e,n,i,o,r,a,s,l,u,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];u=Nc(t,e,d,i,o,r,a,s,l,u,h),e=d}return u}function Yc(t,e,n,i){for(var o=0,r=n.length;o<r;++o)for(var a=n[o],s=0;s<i;++s)t[e++]=a[s];return e}function Xc(t,e,n,i,o){for(var r=o||[],a=0,s=0,l=n.length;s<l;++s){var u=Yc(t,e,n[s],i);r[a++]=u,e=u}return r.length=a,r}var Wc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qc=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Wc(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<bi(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Ac(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return kl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=$l(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,ju.XY)},e.prototype.getType=function(){return ri.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Yu),Uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bc=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return Uc(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=ei(t,e,o[0],o[1]);if(r<i){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,r}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=t,i=e[0],o=e[1],Ti(i,o,i,o,n);var e,n,i,o},e.prototype.getType=function(){return ri.POINT},e.prototype.intersectsExtent=function(t){return Si(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Yu);function Kc(t,e,n,i,o){return!function(t,e){var n;return(n=e(ki(t)))?n:(n=e(zi(t)))?n:(n=e(qi(t)))?n:(n=e(Wi(t)))||!1}(o,function(o){return!Zc(t,e,n,i,o[0],o[1])})}function Zc(t,e,n,i,o,r){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=r?c>r&&(u-s)*(r-l)-(o-s)*(c-l)>0&&a++:c<=r&&(u-s)*(r-l)-(o-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function Vc(t,e,n,i,o,r){if(0===n.length)return!1;if(!Zc(t,e,n[0],i,o,r))return!1;for(var a=1,s=n.length;a<s;++a)if(Zc(t,n[a-1],n[a],i,o,r))return!1;return!0}function Hc(t,e,n,i,o,r,a){for(var s,l,u,c,h,p,f,d=o[r+1],g=[],v=0,_=n.length;v<_;++v){var y=n[v];for(c=t[y-i],p=t[y-i+1],s=e;s<y;s+=i)h=t[s],f=t[s+1],(d<=p&&f<=d||p<=d&&d<=f)&&(u=(d-p)/(f-p)*(h-c)+c,g.push(u)),c=h,p=f}var m=NaN,x=-1/0;for(g.sort(Jo),c=g[0],s=1,l=g.length;s<l;++s){h=g[s];var b=Math.abs(h-c);b>x&&Vc(t,e,n,i,u=(c+h)/2,d)&&(m=u,x=b),c=h}return isNaN(m)&&(m=o[r]),a?(a.push(m,d,x),a):[m,d,x]}function Jc(t,e,n,i,o){for(var r,a=[t[e],t[e+1]],s=[];e+i<n;e+=i){if(s[0]=t[e+i],s[1]=t[e+i+1],r=o(a,s))return r;a[0]=s[0],a[1]=s[1]}return!1}function $c(t,e,n,i,o){var r=Fi([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Bi(o,r)&&(!!wi(o,r)||(r[0]>=o[0]&&r[2]<=o[2]||(r[1]>=o[1]&&r[3]<=o[3]||Jc(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,o=Ci(t,e),r=Ci(t,n);if(o===_i.INTERSECTING||r===_i.INTERSECTING)i=!0;else{var a=t[0],s=t[1],l=t[2],u=t[3],c=e[0],h=e[1],p=n[0],f=n[1],d=(f-h)/(p-c),g=void 0,v=void 0;r&_i.ABOVE&&!(o&_i.ABOVE)&&(i=(g=p-(f-u)/d)>=a&&g<=l),i||!(r&_i.RIGHT)||o&_i.RIGHT||(i=(v=f-(p-l)*d)>=s&&v<=u),i||!(r&_i.BELOW)||o&_i.BELOW||(i=(g=p-(f-s)/d)>=a&&g<=l),i||!(r&_i.LEFT)||o&_i.LEFT||(i=(v=f-(p-a)*d)>=s&&v<=u)}return i}(o,t,e)}))))}function Qc(t,e,n,i,o){if(!function(t,e,n,i,o){return!!$c(t,e,n,i,o)||!!Zc(t,e,n,i,o[0],o[1])||!!Zc(t,e,n,i,o[0],o[3])||!!Zc(t,e,n,i,o[2],o[1])||!!Zc(t,e,n,i,o[2],o[3])}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var r=1,a=n.length;r<a;++r)if(Kc(t,n[r-1],n[r],i,o)&&!$c(t,n[r-1],n[r],i,o))return!1;return!0}function th(t,e,n,i){for(;e<n-i;){for(var o=0;o<i;++o){var r=t[e+o];t[e+o]=t[n-i+o],t[n-i+o]=r}e+=i,n-=i}}function eh(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=(s-r)*(l+a),r=s,a=l}return o>0}function nh(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],u=eh(t,e,l,i);if(0===a){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=l}return!0}function ih(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],u=eh(t,e,l,i);(0===a?r&&u||!r&&!u:r&&!u||!r&&u)&&th(t,e,l,i),e=l}return e}var oh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rh=function(t){function e(e,n,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&i?(o.setFlatCoordinates(n,e),o.ends_=i):o.setCoordinates(e,n),o}return oh(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?tr(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<bi(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jc(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Gc(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Vc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Dc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ih(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,zl(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ji(this.getExtent());this.flatInteriorPoint_=Hc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Bc(this.getFlatInteriorPoint(),ju.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new qc(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],o=0,r=0,a=n.length;r<a;++r){var s=n[r],l=new qc(e.slice(o,s),t);i.push(l),o=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;nh(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ih(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=eu(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,ju.XY,i)},e.prototype.getType=function(){return ri.POLYGON},e.prototype.intersectsExtent=function(t){return Qc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Xc(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Yu),ah=rh;function sh(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=[e,n,e,o,i,o,i,n,e,n];return new rh(r,ju.XY,[r.length])}var lh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uh=0;function ch(t,e){setTimeout(function(){t(e)},0)}function hh(t){return!(t.sourceCenter&&t.targetCenter&&!Lc(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var ph=function(t){function e(e){var n=t.call(this)||this,i=fo({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=To(i.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,i.center&&(i.center=Go(i.center,n.projection_)),i.extent&&(i.extent=Xo(i.extent,n.projection_)),n.applyOptions_(i),n}return lh(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:uh,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=To(t.projection,"EPSG:3857"),c=u.getExtent(),h=t.constrainOnlyCenter,p=t.extent;s||p||!u.isGlobal()||(h=!1,p=c);if(void 0!==t.resolutions){var f=t.resolutions;n=f[o],i=void 0!==f[r]?f[r]:f[f.length-1],e=t.constrainResolution?function(t,e,n){return function(i,o,r,a){if(void 0!==i){var s=t[0],l=t[t.length-1],u=n?Sc(s,n,r):s;if(a)return void 0===e||e?Cc(i,u,l):$n(i,l,u);var c=Math.min(u,i),h=Math.floor($o(t,c,o));return t[h]>u&&h<t.length-1?t[h+1]:t[h]}}}(f,l,!h&&p):Oc(n,i,l,!h&&p)}else{var d=c?Math.max(Ui(c),Yi(c)):360*Hi[Ji.DEGREES]/u.getMetersPerUnit(),g=d/gs/Math.pow(2,uh),v=g/Math.pow(2,28-uh);void 0!==(n=t.maxResolution)?o=0:n=g/Math.pow(a,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):g/Math.pow(a,r):v),r=o+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,r-o),e=t.constrainResolution?function(t,e,n,i,o){return function(r,a,s,l){if(void 0!==r){var u=o?Sc(e,o,s):e,c=void 0!==n?n:0;if(l)return void 0===i||i?Cc(r,u,c):$n(r,c,u);var h=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),p=-a*(.5-1e-9)+.5,f=Math.min(u,r),d=Math.floor(Math.log(e/f)/Math.log(t)+p),g=Math.max(h,d);return $n(e/Math.pow(t,g),c,u)}}}(a,n,i,l,!h&&p):Oc(n,i,l,!h&&p)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Ec(t.extent,t.constrainOnlyCenter,e)}var n=To(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Ec(i,!1,!1)}return wc}(t),i=e.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=o||ni(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Ic:"number"===typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):Ic}return Tc;var n,i;var o,r}(t);this.constraints_={center:n,resolution:i,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=fo({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),fo({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=fo({},i)).center=Go(i.center,this.getProjection())),i.anchor&&((i=fo({},i)).anchor=Go(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&ch(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],u=0;u<n;++u){var c=arguments[u],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Fa,callback:e};if(c.center&&(h.sourceCenter=r,h.targetCenter=c.center.slice(),r=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var p=ii(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}hh(h)?h.complete=!0:o+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(Al,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Al]>0},e.prototype.getInteracting=function(){return this.hints_[Dl]>0},e.prototype.cancelAnimations=function(){this.setHint(Al,-this.hints_[Al]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&ch(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):o=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],f=h+c*(s.targetCenter[0]-h),d=p+c*(s.targetCenter[1]-p);this.targetCenter_=[f,d]}if(s.sourceResolution&&s.targetResolution){var g=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getSizeFromViewport_(this.getRotation()),_=this.constraints_.resolution(g,0,v,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var y=1===c?ii(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var m=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(m,s.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(Al,-1);var x=i[0].callback;x&&ch(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenterInternal();return void 0!==r&&(Fc(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(i=n)[0]+=+o[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),o=this.getResolution();void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+ci(this)+'"]',i=document.querySelector(n);if(i){var o=getComputedStyle(i);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var r=e[0],a=e[1];e[0]=Math.abs(r*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(r*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?No(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Rc)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Yo(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();gi(n,1);var i=this.getResolution();gi(void 0!==i,2);var o=this.getRotation();return gi(void 0!==o,3),Gi(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Pc)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Xo(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),i=Ui(t)/n[0],o=Yi(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(Mc)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/o}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=$o(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=$n(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,$n(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,i=fo({size:this.getSizeFromViewport_()},e||{});if(gi(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t))gi(!Ki(t),25),n=sh(o=Xo(t,this.getProjection()));else if(t.getType()===ri.CIRCLE){var o;(n=sh(o=Xo(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),ji(o))}else{var r=jo();n=r?n.clone().transform(r,this.getProjection()):t}this.fitInternal(n,i)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getSizeFromViewport_());var o,r=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),l=this.getRotation(),u=Math.cos(-l),c=Math.sin(-l),h=1/0,p=1/0,f=-1/0,d=-1/0,g=t.getStride(),v=0,_=s.length;v<_;v+=g){var y=s[v]*u-s[v+1]*c,m=s[v]*c+s[v+1]*u;h=Math.min(h,y),p=Math.min(p,m),f=Math.max(f,y),d=Math.max(d,m)}var x=this.getResolutionForExtentInternal([h,p,f,d],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);x=isNaN(x)?o:Math.max(x,o),x=this.getConstrainedResolution(x,a?0:1),c=-c;var b=(h+f)/2,E=(p+d)/2,w=[(b+=(r[1]-r[3])/2*x)*u-(E+=(r[0]-r[2])/2*x)*c,E*u+b*c],S=n.callback?n.callback:or;void 0!==n.duration?this.animateInternal({resolution:x,center:this.getConstrainedCenter(w,x),duration:n.duration,easing:n.easing},S):(this.targetResolution_=x,this.targetCenter_=w,this.applyTargetState_(!1,!0),ch(S,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Go(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var i=this.getRotation(),o=Math.cos(-i),r=Math.sin(-i),a=t[0]*o-t[1]*r,s=t[1]*o+t[0]*r,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*o-(s+=(n[1]-e[1]/2)*l)*(r=-r),c=s*o+a*r;this.setCenterInternal([u,c])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=No(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Go(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getSizeFromViewport_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Go(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Go(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getSizeFromViewport_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,r,o,n);this.get(Mc)!==i&&this.set(Mc,i),this.get(Pc)!==r&&this.set(Pc,r),this.get(Rc)&&Lc(this.get(Rc),a)||this.set(Rc,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(r),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===i)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&Lc(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:s,duration:i,easing:La,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Dl,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&Go(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(Dl,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(gr),fh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dh=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return fh(e,t),e}(rr),gh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vh=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return gh(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(dh),_h=(n("04ff8c05da014e6eacb1"),{SINGLECLICK:"singleclick",CLICK:Zo.CLICK,DBLCLICK:Zo.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}),yh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mh=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i,o,r)||this;return a.pointerEvent=i,a}return yh(e,t),e}(vh),xh={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eh=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*Wa:Wa,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Uo(o,xh.POINTERDOWN,i.handlePointerDown_,i),i.relayedListenerKey_=Uo(o,xh.POINTERMOVE,i.relayEvent_,i),i}return bh(e,t),e.prototype.emulateClick_=function(t){var e=new mh(_h.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new mh(_h.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new mh(_h.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==_h.POINTERUP||e.type==_h.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==_h.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new mh(_h.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Ko),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new mh(_h.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Uo(document,_h.POINTERMOVE,this.handlePointerMove_,this),Uo(document,_h.POINTERUP,this.handlePointerUp_,this),Uo(this.element_,_h.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new mh(_h.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new mh(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Ko(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Ko(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ko),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(sr),wh="postrender",Sh="movestart",Ch="moveend",Oh={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Th=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,go(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){gi(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=o,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>r))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=i(t=o[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,o[a++]=t);o.length=a,r.length=a,this.heapify_()},t}(),Ih=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rh=function(t){function e(e,n){var i=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Ih(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(Zo.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===Dr.LOADED||n===Dr.ERROR||n===Dr.EMPTY||n===Dr.ABORT){e.removeEventListener(Zo.CHANGE,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,r=0,a=!1;this.tilesLoading_<t&&r<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===Dr.ABORT?a=!0:n!==Dr.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,i.load());0===r&&a&&this.tileChangeCallback_()},e}(Th),Ph=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mh={LAYERS:"layers"},Lh=function(t){function e(e){var n=this,i=e||{},o=fo({},i);delete o.layers;var r=i.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(dr(Mh.LAYERS),n.handleLayersChanged_),r?Array.isArray(r)?r=new Qu(r.slice(),{unique:!0}):gi("function"===typeof r.getArray,43):r=new Qu(void 0,{unique:!0}),n.setLayers(r),n}return Ph(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ko),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Uo(t,Vu.ADD,this.handleLayersAdd_,this),Uo(t,Vu.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Ko);go(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var r=n[i];this.listenerKeys_[ci(r)]=[Uo(r,Vo,this.handleLayerChange_,this),Uo(r,Zo.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[ci(e)]=[Uo(e,Vo,this.handleLayerChange_,this),Uo(e,Zo.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=ci(t.element);this.listenerKeys_[e].forEach(Ko),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(Mh.LAYERS)},e.prototype.setLayers=function(t){this.set(Mh.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),o=n,r=e.length;o<r;o++){var a=e[o];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==a.extent?a.extent=Xi(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return Sr.READY},e}(yr),Fh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ah(t,e){t.style.msTouchAction=e,t.style.touchAction=e,t.setAttribute("touch-action",e)}var Dh=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,r={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Lh({layers:t.layers});r[Oh.LAYERGROUP]=a,r[Oh.TARGET]=t.target,r[Oh.VIEW]=void 0!==t.view?t.view:new ph,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Qu(t.controls.slice()):(gi("function"===typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Qu(t.interactions.slice()):(gi("function"===typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new Qu(t.overlays.slice()):(gi("function"===typeof t.overlays.getArray,49),o=t.overlays):o=new Qu;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:r}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Wa,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new Eh(n,e.moveTolerance);var o=n.handleMapBrowserEvent.bind(n);for(var r in _h)n.mapBrowserEventHandler_.addEventListener(_h[r],o);n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var a=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(Zo.CONTEXTMENU,a,!1),n.viewport_.addEventListener(Zo.WHEEL,a,!1),n.controls=i.controls||new Qu,n.interactions=i.interactions||new Qu,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new Rh(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(dr(Oh.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener(dr(Oh.VIEW),n.handleViewChanged_),n.addEventListener(dr(Oh.SIZE),n.handleSizeChanged_),n.addEventListener(dr(Oh.TARGET),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(Vu.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(Vu.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(Vu.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Vu.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(Vu.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(Vu.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return Fh(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(Zo.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Zo.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(Zo.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==n.layerFilter?n.layerFilter:nr,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},o=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=i.layerFilter||nr;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:nr,o=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Oh.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return No(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Vr(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Oh.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Go(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Vr(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Oh.SIZE)},e.prototype.getView=function(){return this.get(Oh.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var o=this.frameState_;if(!o||!(e in o.wantedTiles))return 1/0;if(!o.wantedTiles[e][t.getKey()])return 1/0;var r=o.viewState.center,a=n[0]-r[0],s=n[1]-r[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new vh(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=n.length-1;i>=0;i--){var o=n[i];if(o.getActive())if(!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[Al]||o[Dl]){var r=!qa&&Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(wr)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(wr,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.focusHandlerKeys_){for(var e=0,n=this.focusHandlerKeys_.length;e<n;++e)Ko(this.focusHandlerKeys_[e]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(e=0,n=this.keyHandlerKeys_.length;e<n;++e)Ko(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var i=!0;t.hasAttribute("tabindex")&&(i=document.activeElement===t,this.focusHandlerKeys_=[Uo(t,Zo.FOCUS,Ah.bind(this,this.viewport_,"none")),Uo(t,Zo.BLUR,Ah.bind(this,this.viewport_,"auto"))]),Ah(this.viewport_,i?"none":"auto");var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Uo(o,Zo.KEYDOWN,this.handleBrowserEvent,this),Uo(o,Zo.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(Zo.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),jr(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(Zo.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Ko(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ko(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",ci(t)),this.viewPropertyListenerKey_=Uo(t,Vo,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Uo(t,Zo.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ko),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Uo(t,Vo,this.render,this),Uo(t,Zo.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),i=this.frameState_,o=null;if(void 0!==e&&function(t){return t[0]>0&&t[1]>0}(e)&&n&&n.isDef()){var r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:i?i.declutterItems:[],extent:Gi(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:r,wantedTiles:{}}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!Ki(this.previousExtent_)&&!Ri(o.extent,this.previousExtent_))&&(this.dispatchEvent(new dh(Sh,this,i)),this.previousExtent_=Ii(this.previousExtent_));this.previousExtent_&&!o.viewHints[Al]&&!o.viewHints[Dl]&&!Ri(o.extent,this.previousExtent_)&&(this.dispatchEvent(new dh(Ch,this,o)),xi(o.extent,this.previousExtent_))}this.dispatchEvent(new dh(wh,this,o)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Oh.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Oh.SIZE,t)},e.prototype.setTarget=function(t){this.set(Oh.TARGET,t)},e.prototype.setView=function(t){this.set(Oh.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(gr),kh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zh=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:or,e.target&&n.setTarget(e.target),n}return kh(e,t),e.prototype.disposeInternal=function(){jr(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&jr(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Ko(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==or&&this.listenerKeys.push(Uo(t,wh,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(gr),jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Nh(t){this.updateElement_(t.frameState)}var Gh=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render||Nh,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"\xbb";"string"===typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==i.label?i.label:"i";"string"===typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var l=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=r,u.appendChild(l),u.addEventListener(Zo.CLICK,n.handleClick_.bind(n),!1);var c=o+" "+qr+" "+Ur+(n.collapsed_&&n.collapsible_?" "+Br:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=c,h.appendChild(n.ulElement_),h.appendChild(u),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return jh(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,o=0,r=i.length;o<r;++o){var a=i[o];if(Or(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var u=l(t);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var c=0,h=u.length;c<h;++c)u[c]in e||(n.push(u[c]),e[u[c]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!er(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Br),this.collapsed_?zr(this.collapseLabel_,this.label_):zr(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(zh),Yh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Xh(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(Wr);o||0!==n?o&&0!==n&&this.element.classList.remove(Wr):this.element.classList.add(Wr)}this.label_.style.transform=i}this.rotation_=n}}var Wh=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render||Xh,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"\u21e7";n.label_=null,"string"===typeof r?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=r):(n.label_=r,n.label_.classList.add("ol-compass"));var a=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=o+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener(Zo.CLICK,n.handleClick_.bind(n),!1);var l=o+" "+qr+" "+Ur,u=n.element;return u.className=l,u.appendChild(s),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Wr),n}return Yh(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:La}):t.setRotation(0))},e}(zh),qh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uh=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",l=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",u=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=o+"-in",c.setAttribute("type","button"),c.title=l,c.appendChild("string"===typeof a?document.createTextNode(a):a),c.addEventListener(Zo.CLICK,n.handleClick_.bind(n,r),!1);var h=document.createElement("button");h.className=o+"-out",h.setAttribute("type","button"),h.title=u,h.appendChild("string"===typeof s?document.createTextNode(s):s),h.addEventListener(Zo.CLICK,n.handleClick_.bind(n,-r),!1);var p=o+" "+qr+" "+Ur,f=n.element;return f.className=p,f.appendChild(c),f.appendChild(h),n.duration_=void 0!==i.duration?i.duration:250,n}return qh(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:La})):e.setZoom(i)}}},e}(zh);function Bh(t){var e=t||{},n=new Qu;return(void 0===e.zoom||e.zoom)&&n.push(new Uh(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Wh(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Gh(e.attributionOptions)),n}var Kh=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),Zh="active",Vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Hh(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:La})}}var Jh=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Vh(e,t),e.prototype.getActive=function(){return this.get(Zh)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Zh,t)},e.prototype.setMap=function(t){this.map_=t},e}(gr),$h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Qh(t){var e=!1;if(t.type==_h.DBLCLICK){var n=t.originalEvent,i=t.map,o=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;Hh(i.getView(),r,o,this.duration_),t.preventDefault(),e=!0}return!e}var tp=function(t){function e(e){var n=t.call(this,{handleEvent:Qh})||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return $h(e,t),e}(Jh),ep=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},np=function(t){return t.target.getTargetElement()===document.activeElement},ip=nr,op=function(t){var e=t.originalEvent;return 0==e.button&&!(Ya&&Xa&&e.ctrlKey)},rp=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},ap=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},sp=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},lp=function(t){var e=t.pointerEvent;return gi(void 0!==e,56),"mouse"==e.pointerType},up=function(t){var e=t.pointerEvent;return gi(void 0!==e,56),e.isPrimary&&0===e.button},cp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function hp(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}var pp=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return cp(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==_h.POINTERDRAG)this.handleDragEvent(t);else if(t.type==_h.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==_h.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==_h.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===_h.POINTERDOWN||e===_h.POINTERDRAG||e===_h.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==_h.POINTERUP?delete this.trackedPointers_[n]:t.type==_h.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=vo(this.trackedPointers_)}},e}(Jh),fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function dp(t){return rp(t)&&up(t)}var gp=function(t){function e(e){var n=t.call(this,{stopDown:ir})||this,i=e||{};return n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=i.condition?i.condition:dp,n.noKinetic_=!1,n}return fp(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,o=hp(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=t.map.getView();e=r,n=a.getResolution(),e[0]*=n,e[1]*=n,Fc(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:La})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(pp),vp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_p=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:ir})||this).condition_=i.condition?i.condition:ep,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return vp(e,t),e.prototype.handleDragEvent=function(t){if(lp(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Tc){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!lp(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!lp(t)&&(!(!op(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(pp),yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mp=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return yp(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new ah([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Ho),xp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bp="boxstart",Ep="boxdrag",wp="boxend",Sp=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return xp(e,t),e}(rr),Cp=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new mp(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,n.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:or,n.startPixel_=null,n.condition_=i.condition?i.condition:ip,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return xp(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){lp(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Sp(Ep,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!lp(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Sp(wp,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!lp(t)&&(!(!op(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Sp(bp,t.coordinate,t)),!0))},e}(pp),Op=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Tp(){var t,e,n=this.getMap(),i=n.getView(),o=n.getSize(),r=this.getGeometry().getExtent();if(this.out_){var a=i.calculateExtentInternal(o),s=(t=[n.getPixelFromCoordinateInternal(ki(r)),n.getPixelFromCoordinateInternal(qi(r))],Li(Ii(e),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(a,1/i.getResolutionForExtentInternal(s,o)),r=a}var l=i.getConstrainedResolution(i.getResolutionForExtentInternal(r,o)),u=i.getConstrainedCenter(ji(r),l);i.animateInternal({resolution:l,center:u,duration:this.duration_,easing:La})}var Ip=function(t){function e(e){var n=this,i=e||{},o=i.condition?i.condition:ap;return(n=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea,onBoxEnd:Tp})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return Op(e,t),e}(Cp),Rp={LEFT:37,UP:38,RIGHT:39,DOWN:40},Pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Mp(t){var e=!1;if(t.type==Zo.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Rp.DOWN||n==Rp.LEFT||n==Rp.RIGHT||n==Rp.UP)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,r=0,a=0;n==Rp.DOWN?a=-o:n==Rp.LEFT?r=-o:n==Rp.RIGHT?r=o:a=o;var s=[r,a];Fc(s,i.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var o=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Aa,center:t.getConstrainedCenter(o)})}}(i,s,this.duration_),t.preventDefault(),e=!0}}return!e}var Lp=function(t){function e(e){var n=t.call(this,{handleEvent:Mp})||this,i=e||{};return n.defaultCondition_=function(t){return rp(t)&&sp(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return Pp(e,t),e}(Jh),Fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ap(t){var e=!1;if(t.type==Zo.KEYDOWN||t.type==Zo.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Hh(i.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Dp=function(t){function e(e){var n=t.call(this,{handleEvent:Ap})||this,i=e||{};return n.condition_=i.condition?i.condition:sp,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return Fp(e,t),e}(Jh),kp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zp="trackpad",jp="wheel",Np=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:ip,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return kp(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==Zo.WHEEL)return!0;t.preventDefault();var e,n=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Zo.WHEEL&&(e=i.deltaY,Ga&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=Wa),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?zp:jp),this.mode_===zp){var r=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):r.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),r.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1}this.totalDelta_+=e;var a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),Hh(e,-$n(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Jh),Gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yp=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=ir),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return Gp(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Tc){var l=a.getViewport().getBoundingClientRect(),u=hp(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(pp),Xp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wp=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=ir),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Xp(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,a=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),c=hp(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(pp);function qp(t){var e=t||{},n=new Qu,i=new Kh(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new _p),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new tp({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new gp({condition:e.onFocusOnly?np:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Yp),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Wp({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Lp),n.push(new Dp({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Np({condition:e.onFocusOnly?np:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Ip({duration:e.zoomDuration})),n}var Up=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Bp(t,e){Js.expire()}var Kp,Zp=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return Up(e,t),e.prototype.dispatchRenderEvent=function(t,e){li()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Hr(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Jr(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a,s){var l,u=e.viewState;function c(t,e,n){return o.call(r,e,t?n:null)}var h=u.projection,p=t,f=[[0,0]];if(h.canWrapX()){var d=h.getExtent(),g=Ui(d),v=t[0];if(v<d[0]||v>d[2])p=[v+g*Math.ceil((d[0]-v)/g),t[1]];i&&f.push([-g,0],[g,0])}var _,y=e.layerStatesArray,m=y.length;this.declutterTree_&&(_=this.declutterTree_.all().map(function(t){return t.value}));for(var x=[],b=0;b<f.length;b++)for(var E=m-1;E>=0;--E){var w=y[E],S=w.layer;if(S.hasRenderer()&&Or(w,u)&&a.call(s,S)){var C=S.getRenderer(),O=S.getSource();if(C&&O){var T=O.getWrapX()?p:t,I=c.bind(null,w.managed);x[0]=T[0]+f[b][0],x[1]=T[1]+f[b][1],l=C.forEachFeatureAtCoordinate(x,e,n,I,_)}if(l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return li()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,nr,this,o,r)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,i=n.length-1;i>=0;--i)for(var o=n[i],r=o.items,a=0,s=r.length;a<s;a+=3)e=r[a].renderDeclutter(r[a+1],r[a+2],o.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){Js.canExpireCache()&&t.postRenderFunctions.push(Bp)},e}(Ho),Vp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hp=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=Uo(aa,Zo.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=qr+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Vp(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new Xr(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){Ko(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(br,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),i=e.viewState;this.children_.length=0;for(var o=null,r=0,a=n.length;r<a;++r){var s=n[r];if(e.layerIndex=r,Or(s,i)&&(s.sourceState==Sr.READY||s.sourceState==Sr.UNDEFINED)){var l=s.layer.render(e,o);l&&l!==o&&(this.children_.push(l),o=l)}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,i=0;;++i){var o=n[i],r=e[i];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent(Er,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&Or(l,r)&&o(u)){var c=u.getRenderer().getDataAtPixel(t,e,n);if(c){var h=i(u,c);if(h)return h}}}},e}(Zp),Jp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$p=function(t){function e(e){return(e=fo({},e)).controls||(e.controls=Bh()),e.interactions||(e.interactions=qp()),t.call(this,e)||this}return Jp(e,t),e.prototype.createRenderer=function(){return new Hp(this)},e}(Dh);n("403df48ddaa9afb322f2");function Qp(t){return(Qp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ef(t,e){return!e||"object"!==Qp(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nf(t){return(nf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function of(t,e){return(of=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rf={openlayersMap:{height:"100%",width:"100%",minWidth:399}},af=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ef(this,nf(e).call(this,t))).map=null,n.mapDiv=null,n.layers=[],n.interactions=[],n.controls=[],n.overlays=[],n.options={pixelRation:void 0,keyboardEventTarget:void 0,loadTilesWhileAnimation:void 0,loadTilesWhileInteractiong:void 0,logo:void 0,renderer:void 0,setCenter:void 0,setZoom:void 0,setResolution:void 0,view:new ph({center:Io([32.4279,53.688]),zoom:3}),controls:void 0,interactions:void 0,layers:void 0,overlays:void 0},n.events={change:void 0,"change:layerGroup":void 0,"change:size":void 0,"change:target":void 0,"change:view":void 0,click:void 0,dblclick:void 0,moveend:void 0,pointerdrag:void 0,pointermove:void 0,postcompose:void 0,postrender:void 0,precompose:void 0,propertychange:void 0,singleclick:void 0},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&of(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){var t,e,n,i,o=bl(Object.assign(this.options,this.props)),r=El(this.props.children,"Controls")||{},a=El(this.props.children,"Interactions")||{};o.controls=Bh(r.props).extend(this.controls),o.interactions=qp(a.props).extend(this.interactions),o.layers=this.layers,o.overlays=this.overlays,o.view instanceof ph||(o.view=new ph(o.view)),this.map=new $p(o),this.map.setTarget(o.target||this.mapDiv),t=this.map,e=this.events,n=this.props,i=xl(e,n),At()(i,function(e,n){t.on(n,function(n){return e(t,n)})})}},{key:"render",value:function(){var t=this;return function(t,e,n,i){Kp||(Kp="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Kp,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(Ns,{value:this},void 0,r.a.createElement("div",{style:rf.openlayersMap,ref:function(e){t.mapDiv=e}},this.props.children))}}])&&tf(n.prototype,i),o&&tf(n,o),e}(),sf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var lf=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(dr(n.geometryName_),n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var i=e;n.setGeometry(i)}else{var o=e;n.setProperties(o)}return n}return sf(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Ko(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Uo(t,Zo.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{gi("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(dr(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(dr(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(gr);function uf(t){return(uf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function hf(t,e){return!e||"object"!==uf(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pf(t){return(pf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ff(t,e){return(ff=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var df=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),hf(this,pf(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ff(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.course,i=t.height,o=t.id,r=t.icon,a=t.isSelected,s=t.label,l=t.latitude,u=t.longitude,c=t.width,h=t.style;this.feature=new lf({id:o,type:"icon",geometry:new Bc(Io([u,l]))});var p=wl(e,n,i,r,a,c,h);p.getText().setText(decodeURI(s)),this.feature.setStyle(p),this.context.vectorSource.addFeature(this.feature)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.color,i=e.course,o=e.height,r=e.icon,a=e.isSelected,s=e.label,l=e.latitude,u=e.longitude,c=e.style,h=e.width;if(n!==t.color||l!==t.latitude||u!==t.longitude||a!==t.isSelected){var p=new Bc(Io([u,l]));if(a)this.context.context.map.getView().setCenter(p.getCoordinates());this.feature.setGeometry(p);var f=wl(n,i,o,r,a,h,c);f.getText().setText(decodeURI(s)),this.feature.setStyle(f)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Icon")}},{key:"render",value:function(){return null}}])&&cf(n.prototype,i),o&&cf(n,o),e}();df.contextType=yc;var gf=df;function vf(t,e,n,i,o,r){var a=NaN,s=NaN,l=(n-e)/i;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-o)*t[e]+o*t[e+i],s=(1-o)*t[e+1]+o*t[e+i+1];else if(0!==l){for(var u=t[e],c=t[e+1],h=0,p=[0],f=e+i;f<n;f+=i){var d=t[f],g=t[f+1];h+=Math.sqrt((d-u)*(d-u)+(g-c)*(g-c)),p.push(h),u=d,c=g}var v=o*h,_=function(t,e,n){for(var i,o,r=n||Jo,a=0,s=t.length,l=!1;a<s;)(o=+r(t[i=a+(s-a>>1)],e))<0?a=i+1:(s=i,l=!o);return l?a:~a}(p,v);if(_<0){var y=(v-p[-_-2])/(p[-_-1]-p[-_-2]),m=e+(-_-2)*i;a=oi(t[m],t[m+i],y),s=oi(t[m+1],t[m+i+1],y)}else a=t[e+_*i],s=t[e+_*i+1]}return r?(r[0]=a,r[1]=s,r):[a,s]}function _f(t,e,n,i,o,r){if(n==e)return null;var a;if(o<t[e+i-1])return r?((a=t.slice(e,e+i))[i-1]=o,a):null;if(t[n-1]<o)return r?((a=t.slice(n-i,n))[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var s=e/i,l=n/i;s<l;){var u=s+l>>1;o<t[(u+1)*i-1]?l=u:s=u+1}var c=t[s*i-1];if(o==c)return t.slice((s-1)*i,(s-1)*i+i);var h=(o-c)/(t[(s+1)*i-1]-c);a=[];for(var p=0;p<i-1;++p)a.push(oi(t[(s-1)*i+p],t[s*i+p],h));return a.push(o),a}var yf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mf=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return yf(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?tr(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<bi(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Jc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=ju.XYM&&this.layout!=ju.XYZM)return null;var n=void 0!==e&&e;return _f(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return kl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return vf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return hu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=$l(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,ju.XY)},e.prototype.getType=function(){return ri.LINE_STRING},e.prototype.intersectsExtent=function(t){return $c(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Yu);function xf(t){return(xf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ef(t,e){return!e||"object"!==xf(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wf(t){return(wf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sf(t,e){return(Sf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cf=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ef(this,wf(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sf(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.id,i=t.position,o=t.width,r=[Io([i.longitude,i.latitude])];this.feature=new lf({geometry:new mf(r)}),this.feature.setStyle(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return new gl({stroke:new cl({color:t||"rgba(50, 50, 50, 1.0)",width:e})})}(e,o)),this.feature.setId("LINE-".concat(n)),this.context.vectorSource.addFeature(this.feature)}},{key:"componentDidUpdate",value:function(t){var e=this.props.position,n=t.position;if(e.longitude!==n.longitude||e.latitude!==n.latitude){var i=this.feature.getGeometry().getCoordinates();i.length>=10&&i.shift(),i.push(Io([e.longitude,e.latitude])),this.feature.getGeometry().setCoordinates(i)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Line")}},{key:"render",value:function(){return null}}])&&bf(n.prototype,i),o&&bf(n,o),e}();Cf.contextType=yc;var Of,Tf={Icon:gf,Line:Cf};function If(t,e,n,i){Of||(Of="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Of,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Rf=Object(B.b)({isLiveRouteEnabled:Object(B.a)(Sn,function(t){return t.isLiveRouteEnabled}),latestPositions:Object(B.a)(Cn(),On(),function(t,e){return mn(t,e)})}),Pf=Object(c.c)(Rf),Mf=Object(h.d)(Pf)(function(t){var e=t.isLiveRouteEnabled,n=t.latestPositions;return If(xc.Vector,{},void 0,n.map(function(t){return If("div",{},t.uniqueId,If(Tf.Icon,{id:t.uniqueId,isSelected:t.isSelected,label:t.name,latitude:t.latitude,longitude:t.longitude,course:t.course,category:t.category,color:t.color,icon:t.icon,width:t.width,height:t.height}),e&&If(Tf.Line,{id:t.uniqueId,color:"#".concat(t.uniqueId.slice(-6)),position:t}))}))});var Lf,Ff=function(t){return function(e,n){var i=e.forEachFeatureAtPixel(n.pixel,function(t){return t});return t(i?i.get("id"):void 0)}};function Af(t,e,n,i){Lf||(Lf="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Lf,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Df=Object(s.a)(function(){return{map:{margin:0,top:0,right:0,bottom:0,left:0,minHeight:"100%",position:"absolute"}}}),kf=Af(Mf,{});var zf=Object(B.b)({server:Object(Rn.b)(),mapSource:Object(B.a)(Object(Rn.c)(),Object(Rn.b)(),function(t,e){return function(t,e){switch(t.map){case"bingRoad":return new As({url:e.mapUrl.replace(/lyrs=m/g,"lyrs=y"),attributions:"Google Satellite"});default:return new zs}}(t,e)})});var jf,Nf=Object(c.c)(zf,function(t){return{onClick:function(e,n){return t(Ff(de)(e,n))}}}),Gf=Object(h.d)(Nf)(function(t){var e=t.mapSource,n=t.onClick,i=t.server,o=Df(),r=Io([i.longitude,i.latitude]);return Af("div",{className:o.map},void 0,Af(af,{onClick:n,view:{center:r,zoom:i.zoom}},void 0,Af(bc,{},void 0,Af(xc.Tile,{source:e}),kf)))});function Yf(t,e,n,i){jf||(jf="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:jf,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}n.d(e,"HomePage",function(){return Bf});var Xf=Object(s.a)(function(){return{root:{minHeight:"100%"}}}),Wf=Yf(a.a,{}),qf=Yf(Jn,{}),Uf=Yf(Gf,{});function Bf(t){var e=t.onLiveRoute,n=t.onSearch;return Yf("div",{id:"home_page",className:Xf().root},void 0,Wf,Yf(N,{onSearch:n,onLiveRoute:e}),qf,Uf)}var Kf=Object(c.c)(null,function(t){return{onLiveRoute:function(){return t({type:pe})},onSearch:function(e){return t({type:he,payload:e})}}});e.default=Object(h.d)(Kf)(Bf)},"0cd3c73b0976507cb4f5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88712' d='m14.606 13.91v1.7742h6.2098v0.88712c-2.6614 0-3.5165 1.7281-3.5485 1.7742h-3.5485v0.88712 0.88712l3.5485 0.88712c0 1.3236 1.3378 2.6614 2.6614 2.6614h2.6614c2.6614 0 4.4356-0.76026 4.4356-2.6614 0-1.6225-2.2284-3.988-5.3227-4.3802v-0.94256h6.2098v-1.7742l-6.2098 0.88712v-0.44356c0-0.24485-0.19872-0.44356-0.44356-0.44356s-0.44356 0.19871-0.44356 0.44356v0.44356l-6.2098-0.88712zm-0.88712 5.3227c0-0.97989-0.79436-1.7742-1.7742-1.7742-0.97988 0-1.7742 0.79435-1.7742 1.7742 0 0.97988 0.79436 1.7742 1.7742 1.7742 0.97989 0 1.7742-0.79436 1.7742-1.7742zm7.9841-0.88712c0.2821-0.03992 2.8831 0.79042 3.5485 2.6614h-3.5485v-2.6614zm4.4356 5.3227v0.88712h-8.8712v1.7742h8.8712c0.98027 0 1.7742-0.79397 1.7742-1.7742v-0.88712h-1.7742z'/%3E %3C/g%3E %3C/svg%3E"},"1c98b5ebc0a1076f8a67":function(t,e,n){t.exports=function(){"use strict";function t(t,i,o,r,a){!function t(n,i,o,r,a){for(;r>o;){if(r-o>600){var s=r-o+1,l=i-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),p=Math.max(o,Math.floor(i-l*c/s+h)),f=Math.min(r,Math.floor(i+(s-l)*c/s+h));t(n,i,p,f,a)}var d=n[i],g=o,v=r;for(e(n,o,i),a(n[r],d)>0&&e(n,o,r);g<v;){for(e(n,g,v),g++,v--;a(n[g],d)<0;)g++;for(;a(n[v],d)>0;)v--}0===a(n[o],d)?e(n,o,v):e(n,++v,r),v<=i&&(o=v+1),i<=v&&(r=v-1)}}(t,i,o||0,r||t.length-1,a||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function r(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<n;r++){var a=t.children[r];s(o,t.leaf?i(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,o,r){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((i-n)/o/2)*o;t(e,s,n,i,r),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var a=e.children[r],s=e.leaf?i(a):a;f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var o=e.children[i],r=e.leaf?this.toBBox(o):o;if(f(t,r)){if(e.leaf||p(t,r))return!0;n.push(o)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,r,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=u.pop(),r=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}r||a.leaf||!p(a,s)?i?(n++,a=i.children[n],r=!1):a=null:(l.push(a),u.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return r(o=d(t.slice(e,n+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(o=d([])).leaf=!1,o.height=i;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));g(t,e,n,u,this.compareMinX);for(var c=e;c<=n;c+=u){var h=Math.min(c+u-1,n);g(t,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var f=Math.min(p+l-1,h);o.children.push(this._build(t,p,f,i-1))}}return r(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var o=1/0,r=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],u=c(l),h=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u);h<r?(r=h,o=u<o?u:o,a=l):h===r&&u<o&&(o=u,a=l)}e=a||e.children[0]}var p,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),s(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);var a=this._chooseSplitIndex(n,o,i),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,r(n,this.toBBox),r(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,o,r,s,l,u,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),v=a(t,d,n,this.toBBox),_=(o=g,r=v,s=void 0,l=void 0,u=void 0,h=void 0,s=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),u=Math.min(o.maxX,r.maxX),h=Math.min(o.maxY,r.maxY),Math.max(0,u-s)*Math.max(0,h-l)),y=c(g)+c(v);_<p?(p=_,i=d,f=y<f?y:f):_===p&&y<f&&(f=y,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var o=this.toBBox,r=a(t,0,e,o),l=a(t,n-e,n,o),u=h(r)+h(l),c=e;c<n-e;c++){var p=t.children[c];s(r,t.leaf?o(p):p),u+=h(r)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];s(l,t.leaf?o(d):d),u+=h(l)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},i}()},"34d538758fadc195d9b0":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m19.525 15.802q0 0.5865-0.17372 1.1144-0.17372 0.51808-0.57602 0.8993t-0.96004 0.38122q-0.69489 0-1.2618-0.55718-0.56688-0.56695-0.84118-1.3294t-0.2743-1.476q0-0.5865 0.17372-1.1046 0.17372-0.52785 0.57602-0.90908 0.4023-0.38122 0.96004-0.38122 0.70403 0 1.2618 0.56695 0.56688 0.55718 0.84118 1.3196 0.2743 0.75268 0.2743 1.476zm-3.127 4.7213q0 0.782-0.38402 1.3587-0.38402 0.57672-1.088 0.57672-0.69489 0-1.2983-0.53763-0.59431-0.5474-0.91432-1.3099-0.32001-0.76245-0.32001-1.4858 0-0.782 0.38402-1.3587 0.38402-0.5865 1.088-0.5865 0.69488 0 1.2892 0.5474 0.60345 0.53763 0.92347 1.3099 0.32001 0.76245 0.32001 1.4858zm3.602-0.264q1.0789 0 2.3315 0.95795 1.2526 0.94818 2.0938 2.3167 0.84118 1.3587 0.84118 2.4829 0 0.44965-0.15544 0.7429-0.15544 0.30302-0.44802 0.43988-0.28344 0.14662-0.58517 0.1955-0.30173 0.05865-0.69489 0.05865-0.62174 0-1.7189-0.43988-1.088-0.44-1.664-0.44-0.60345 0-1.7646 0.4301-1.152 0.43988-1.8286 0.43988-1.6732 0-1.6732-1.4272 0-0.84065 0.51202-1.867 0.51202-1.0362 1.2709-1.8866 0.76803-0.85043 1.7189-1.4272 0.951-0.577 1.765-0.577zm2.1852-2.0625q-0.55774 0-0.96004-0.38122t-0.57602-0.8993q-0.17372-0.52785-0.17372-1.1144 0-0.72335 0.2743-1.476 0.2743-0.76245 0.83204-1.3196 0.56688-0.56695 1.2709-0.56695 0.55774 0 0.96004 0.38122t0.57602 0.90908q0.17372 0.51808 0.17372 1.1046 0 0.71358-0.2743 1.476-0.2743 0.76245-0.84118 1.3294-0.56688 0.55718-1.2618 0.55718zm3.9499-1.0166q0.70403 0 1.088 0.5865 0.38402 0.57673 0.38402 1.3587 0 0.72335-0.32001 1.4858t-0.92347 1.3099q-0.59431 0.53763-1.2892 0.53763-0.70403 0-1.088-0.57672-0.38402-0.57673-0.38402-1.3587 0-0.72335 0.32001-1.4858 0.32001-0.77222 0.91432-1.3099 0.60345-0.5474 1.2983-0.5474z'/%3E %3C/g%3E %3C/svg%3E"},"37b9a59b1709fe27f5f8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='block-progression:tb;text-transform:none;text-indent:0' stroke-width='.80151' overflow='visible' d='m12.987 13.989c-0.51858 0-0.78749 0.10941-1.052 0.55104-0.2645 0.44164-1.5529 4.3925-1.5529 5.0345v2.7803c0 0.65003 0.60274 1.2524 1.2023 1.2524h0.40076c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045h7.2136c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045c0-0.07005-0.01918-0.13186-0.02505-0.20038 0.37553-0.28539 0.82656-0.80321 0.82656-1.052v-2.2292c0-0.86884-1.5457-1.1858-4.258-1.8535 0 0-2.4963-2.9345-3.156-3.732-0.42881-0.51858-0.98827-0.55104-1.4026-0.55104h-7.8148zm2.655 1.2774h1.9537v3.5317h-2.8303c-0.36549 0-0.64622-0.1066-0.52599-0.70132 0.12504-0.62037 0.51638-2.1555 0.62618-2.4296 0.12504-0.31099 0.38132-0.40076 0.77647-0.40076zm3.5567 0h1.7283c0.30858 0 0.65684 0.09879 0.85161 0.32562l2.2793 2.7051c0.25408 0.33664 0.14287 0.50095-0.17533 0.50095h-4.6838v-3.5317zm-4.8091 7.1385c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023zm12.023 0c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023z'/%3E %3C/g%3E %3C/svg%3E"},"38a5cf7bd4a34adb836d":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg3369' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='26' viewBox='0 0 26 26' width='26' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E %3Cpolygon id='arrow' stroke='%23000' points='19 22 13 19 7 22 13 4' stroke-width='1px' fill='%23008000'/%3E %3C/svg%3E"},"403df48ddaa9afb322f2":function(t,e,n){var i=n("ad3d8a7a012d80fe28e9");"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(i,o);i.locals&&(t.exports=i.locals)},"4061d78159b3c8762e5a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='text-decoration-color:%23000000;block-progression:tb;isolation:auto;mix-blend-mode:normal;text-indent:0;text-decoration-line:none;white-space:normal;text-transform:none;text-decoration-style:solid' stroke-width='.60887' d='m20.609 12.298a0.60893 0.60893 0 1 0 0 1.2177h1.3795l2.0228 6.443-2.5163 3.9077h-5.871c-0.25412-0.70466-0.92507-1.2177-1.7124-1.2177-1.0016 0-1.8266 0.82501-1.8266 1.8266s0.82501 1.8266 1.8266 1.8266c0.78736 0 1.4583-0.51307 1.7124-1.2177h6.2028a0.60893 0.60893 0 0 0 0.51135 -0.27946l2.1477-3.3345 0.49232 1.5697c-0.43114 0.33547-0.71589 0.85238-0.71589 1.4354 0 1.0016 0.82501 1.8266 1.8266 1.8266s1.8266-0.82501 1.8266-1.8266c0-0.98654-0.80143-1.7976-1.7826-1.8218l-3.1157-9.9286a0.60893 0.60893 0 0 0 -0.58151 -0.42692h-1.8266zm-6.6975 11.568c0.33112 0 0.58355 0.24891 0.60173 0.57438a0.60893 0.60893 0 0 0 0 0.07017c-0.01874 0.32487-0.27102 0.57319-0.60173 0.57319-0.34348 0-0.60887-0.26539-0.60887-0.60887s0.26539-0.60887 0.60887-0.60887zm12.177 0c0.34348 0 0.60887 0.26539 0.60887 0.60886 0 0.34348-0.26539 0.60887-0.60887 0.60887s-0.60886-0.26539-0.60886-0.60887 0.26539-0.60886 0.60886-0.60886z' white-space='normal' overflow='visible' font-weight='400'/%3E %3C/g%3E %3C/svg%3E"},"49f4067ee71e74f7bfe5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.094 25.102q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265zm-12.188-0.294q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.49554-0.49554v-2.2686l-1.626-2.4312q-0.13163-0.20131-0.0542-0.43359 0.07743-0.24003 0.30971-0.31745l1.3705-0.44908v-2.3151h0.99107v-0.99107h1.9821v-0.99107h1.9821v0.99107h1.9821v0.99107h0.99107v2.3151l1.3705 0.44908q0.23228 0.07742 0.30971 0.31745 0.07743 0.23228-0.0542 0.43359l-1.626 2.4312v2.2686l0.14711-0.13937q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64264-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265zm3.1203-8.7725v0.99107l2.974-0.991 2.9732 0.99107v-0.99107h-0.99107v-0.99107h-3.9643v0.99107h-0.99107z'/%3E %3C/g%3E %3C/svg%3E"},"774b962f7f8ee233d0d8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.793 22.105h-2.5821q-0.32893 0-0.47695-0.28781-0.1398-0.28782 0.05757-0.55096l1.546-2.064q-0.53451-0.25492-1.1266-0.25492-1.0855 0-1.8585 0.77299-0.77299 0.77299-0.77299 1.8585t0.77299 1.8585q0.77299 0.77299 1.8585 0.77299 0.94568 0 1.6693-0.59208 0.72365-0.6003 0.91278-1.5131zm-1.5295-1.0526h1.5295q-0.14802-0.69898-0.61674-1.217l-0.91278 1.217zm3.9472 0 2.3683-3.1577h-3.9472l-0.8141 1.0855q0.86344 0.847 1.0361 2.0723h1.3568zm8.4371 2.3848q0.77299-0.77299 0.77299-1.8585t-0.77299-1.8585q-0.77299-0.77299-1.8585-0.77299-0.4934 0-0.99502 0.19736l1.4308 2.1381q0.12335 0.18914 0.08224 0.40294-0.04112 0.2138-0.22203 0.32893-0.12335 0.09046-0.29604 0.09046-0.28781 0-0.43583-0.23847l-1.4308-2.1381q-0.76476 0.78121-0.76476 1.8502 0 1.0855 0.77299 1.8585 0.77299 0.77299 1.8585 0.77299t1.8585-0.77299zm0.74009-4.457q1.0855 1.0772 1.0855 2.5986 0 1.5213-1.0855 2.6068-1.0772 1.0772-2.5986 1.0772-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068 0-0.79766 0.32071-1.5049 0.32893-0.71542 0.90456-1.2335l-0.53451-0.80588-2.9028 3.8567q-0.14802 0.2138-0.41939 0.2138h-1.62q-0.18914 1.3486-1.2253 2.2532-1.0361 0.90456-2.4176 0.90456-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068t1.0772-2.5986q1.0855-1.0855 2.6068-1.0855 0.93745 0 1.768 0.45228l1.1266-1.5049h-1.842q-0.21381 0-0.37005-0.15624t-0.15624-0.37005q0-0.2138 0.15624-0.37005 0.15624-0.15624 0.37005-0.15624h3.1577v1.0526h3.5771l-0.69898-1.0526h-1.8256q-0.21381 0-0.37005-0.15624t-0.15624-0.37005 0.15624-0.37005 0.37005-0.15624h2.1052q0.27137 0 0.43583 0.23025l2.1956 3.2893q0.74832-0.36182 1.5789-0.36182 1.5213 0 2.5986 1.0855z'/%3E %3C/g%3E %3C/svg%3E"},"8e5ff0d18795eecbe193":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.78953' d='m20 11.146c-2.1317 5.5267-6.3162 6.785-6.3162 6.785l6.316 1.9v-8.685zm0 8.6848h-6.711v0.64149c0 0.93043 0.77808 1.7633 1.8011 2.3686-0.36215 0.12387-0.72989 0.14804-1.0116 0.14804-0.55267 0-1.4212-0.15791-1.9738-0.78953v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.39586 0-0.94322-0.09201-1.431-0.37009 1.0794-0.59227 2.1544-1.4653 2.9361-2.788h-2.6893-4.7372zm4.7372 0s0.0099-4.0167-3.3062-7.2538c0.63162 4.3424-0.64149 5.9215-0.64149 5.9215l3.9476 1.3323zm-12.632 4.7372v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953z'/%3E %3C/g%3E %3C/svg%3E"},"911f6b041ac8efd77294":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.238 13.763q0.4325 0.51114 0.11796 1.4548-0.31455 0.94364-1.0616 1.6907l-1.5826 1.5826 1.5727 6.8414q0.04915 0.18676-0.11796 0.32438l-1.2582 0.94364q-0.06881 0.05897-0.18676 0.05897-0.03931 0-0.06881-0.0099-0.14744-0.0295-0.20642-0.15727l-2.7425-4.9934-2.5459 2.5459 0.52097 1.9069q0.04915 0.1671-0.07864 0.30472l-0.94364 0.94364q-0.08847 0.08847-0.22608 0.08847h-0.01966q-0.14744-0.01966-0.23591-0.12778l-1.8578-2.477-2.4771-1.8578q-0.10813-0.06881-0.12778-0.22608-0.0099-0.12778 0.08847-0.24574l0.94364-0.95343q0.08847-0.08847 0.22608-0.08847 0.05898 0 0.07864 0.0099l1.9069 0.52097 2.5459-2.5459-4.9934-2.7425q-0.13762-0.07863-0.1671-0.23591-0.01966-0.15728 0.08847-0.2654l1.2582-1.2582q0.13762-0.12778 0.29489-0.07864l6.5367 1.5629 1.5727-1.5727q0.74705-0.74705 1.6907-1.0616 0.94364-0.31455 1.4548 0.11796z'/%3E %3C/g%3E %3C/svg%3E"},"9f8408bc240279d0b00a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Ccircle id='icon' cx='20' cy='20' r='5.8251'/%3E %3C/g%3E %3C/svg%3E"},a7e9ffa2c081a2fb5ea5:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1' stroke='%23333'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m15.029 22.296q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm0.69818-3.6423h8.5463l-0.74865-3.003q-0.01682-0.06729-0.11777-0.143-0.10094-0.08412-0.17665-0.08412h-6.4602q-0.07572 0-0.17665 0.08412-0.10095 0.07571-0.11777 0.143l-0.74865 3.003zm11.146 3.6423q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm1.7412-1.7581v3.2301q0 0.11777-0.07571 0.19347-0.07572 0.07571-0.19347 0.07571h-0.80753v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-8.6136v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-0.80753q-0.11777 0-0.19347-0.07571-0.07571-0.07572-0.07571-0.19347v-3.2301q0-0.78229 0.54676-1.3291 0.55518-0.55518 1.3375-0.55518h0.23553l0.88324-3.5245q0.19347-0.7907 0.87482-1.3206 0.68135-0.53835 1.5057-0.53835h6.4602q0.82435 0 1.5057 0.53835 0.68135 0.52994 0.87482 1.3206l0.88323 3.5245h0.23553q0.78229 0 1.3291 0.55518 0.55518 0.54676 0.55518 1.3291z' stroke-width='.1'/%3E %3C/g%3E %3C/svg%3E"},ab0f7027a5d5d72ab9da:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m20 11.299c-2.5762 0-3.8283 0.45542-3.8283 1.3921 0 0.19168 0.15634 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.17129 0.34666-0.45134 1.4247-0.59817l0.294 1.719c-2.8141 0.3154-4.5026 1.5512-4.5026 2.7081v8.1024c0 1.0726 0.7545 1.978 1.7836 2.2513l-1.4574 1.2181c-0.14546 0.12235-0.16586 0.33307-0.0435 0.47853 0.06797 0.08157 0.16314 0.13051 0.26102 0.13051 0.07749 0 0.16314-0.03264 0.22839-0.087l1.9794-1.6531h6.3297l1.9794 1.6531c0.06525 0.05438 0.1509 0.087 0.22839 0.087 0.09788 0 0.19304-0.04894 0.26102-0.13051 0.12235-0.14546 0.10196-0.35618-0.0435-0.47853l-1.4574-1.2181c1.0291-0.27325 1.7836-1.1787 1.7836-2.2513v-8.1024c0-1.1569-1.6885-2.3927-4.5026-2.7081l0.29364-1.7184c1.0781 0.14682 1.4247 0.42687 1.4247 0.59817 0 0.19168 0.15498 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.93667-1.2521-1.3921-3.8283-1.3921zm0 0.69605c0.37793 0 0.70285 0.01359 1.0006 0.03264l-0.29365 1.7292c-0.23111-0.01223-0.46358-0.02175-0.70692-0.02175-0.24335 0-0.47581 0.0095-0.70692 0.02175l-0.294-1.729c0.29772-0.01903 0.62264-0.03264 1.0006-0.03264zm-2.0881 3.8283h4.1763c0.19304 0 0.34802 0.15634 0.34802 0.34802v0.69605h-4.8723v-0.69605c0-0.19168 0.15634-0.34802 0.34803-0.34802zm-1.3921 1.7401h6.9605c0.38473 0 0.69605 0.28957 0.69605 0.64167v2.5449c0 0.3521-0.31132 0.64167-0.69605 0.64167h-6.9605c-0.38473 0-0.69605-0.28957-0.69605-0.64167v-2.5449c0-0.3521 0.31132-0.64167 0.69605-0.64167zm0.34802 5.5684c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441zm6.2644 0c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441z'/%3E %3C/g%3E %3C/svg%3E"},ad3d8a7a012d80fe28e9:function(t,e,n){(t.exports=n("0e326f80368fd0b1333e")(!1)).push([t.i,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},bc52778aa4babd5538cf:function(t,e,n){"use strict";function i(t){var e,n,o="";if(t)if("object"===typeof t)if(t.push)for(e=0;e<t.length;e++)t[e]&&(n=i(t[e]))&&(o&&(o+=" "),o+=n);else for(e in t)t[e]&&(n=i(e))&&(o&&(o+=" "),o+=n);else"boolean"===typeof t||t.call||(o&&(o+=" "),o+=t);return o}e.a=function(){for(var t,e=0,n="";e<arguments.length;)(t=i(arguments[e++]))&&(n&&(n+=" "),n+=t);return n}},ca58d6a6a484c1aaa883:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m18.127 11.484c-0.59864 0-1.0869 0.44565-1.1707 1.0217h-0.362c-1.3143 0-2.3839 1.027-2.3839 2.2881v9.7272c0 0.878 0.51749 1.6389 1.2771 2.0221l-1.6389 1.3622c-0.14633 0.12106-0.16895 0.3379-0.04789 0.48423s0.3379 0.16895 0.48423 0.04789l1.9688-1.6496c0.11175 0.01596 0.22482 0.02128 0.34056 0.02128h6.8111c0.11574 0 0.22881-0.0054 0.34056-0.02128l1.9688 1.6496c0.14633 0.12106 0.36317 0.09844 0.48423-0.04789s0.09844-0.36317-0.04789-0.48423l-1.6389-1.3622c0.7596-0.38313 1.2771-1.1441 1.2771-2.0221v-9.727c0-1.2611-1.0696-2.2881-2.3839-2.2881h-0.36183c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217-0.59864 0-1.0869 0.44565-1.1707 1.0217h-1.4048c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217zm0 0.68111c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm3.7461 0c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm-3.9164 2.7245h4.0867c0.1889 0 0.34056 0.15298 0.34056 0.34056v0.68111h-4.7678v-0.68111c0-0.18757 0.15298-0.34056 0.34056-0.34056zm-1.3622 1.7028h6.8111c0.37648 0 0.68111 0.28336 0.68111 0.6279v2.4903c0 0.34455-0.30464 0.6279-0.68111 0.6279h-6.8111c-0.37648 0-0.68111-0.28335-0.68111-0.6279v-2.4903c0-0.34455 0.30464-0.6279 0.68111-0.6279zm0.34056 6.13c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217zm6.13 0c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217z'/%3E %3C/g%3E %3C/svg%3E"},cc9cb34247c192a15852:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.144 23.756q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm9.3571 0q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm-0.0731-4.4501-0.65793-3.5089q-0.04569-0.21017-0.21017-0.3381-0.15534-0.13707-0.36551-0.13707h-8.3885q-0.21017 0-0.37465 0.13707-0.15534 0.12793-0.20103 0.3381l-0.65792 3.5089q-0.046 0.274 0.128 0.484t0.448 0.21h9.7044q0.27414 0 0.44775-0.21017 0.17362-0.21017 0.12794-0.48431zm-2.193-5.282q0.12794-0.12794 0.12794-0.31069 0-0.18276-0.12794-0.31069-0.12793-0.12794-0.31069-0.12794h-5.8482q-0.18276 0-0.31069 0.12794-0.12793 0.12793-0.12793 0.31069t0.12793 0.31069q0.12794 0.12794 0.31069 0.12794h5.8482q0.18276 0 0.31069-0.12794zm3.7831 6.3142v5.5101h-1.1696v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-7.0179v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-1.1696v-5.5101q0-1.0234 0.22844-2.0377l0.9412-4.1486q0.08224-0.71275 0.88637-1.2519 0.81327-0.53913 2.1017-0.81327 1.2976-0.27414 2.8601-0.27414 1.5626 0 2.851 0.27414 1.2976 0.27413 2.1017 0.81327 0.81327 0.53913 0.89551 1.2519l0.95948 4.1486q0.21017 0.93206 0.21017 2.0377z'/%3E %3C/g%3E %3C/svg%3E"},d00ca599655a685685b3:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88152' d='m17.19 14.711a0.8816 0.8816 0 0 0 -0.68868 0.66114l-0.71623 2.8649h-3.2781c-0.96967 0-1.763 0.79336-1.763 1.763v2.1211c0 0.35261 0.17079 0.62257 0.5234 0.79887l1.2672 0.4683c0.14704 1.0824 1.0477 1.9008 2.1762 1.9008 1.0799 0 1.9462-0.75066 2.1487-1.763h7.1623c0.20247 1.0124 1.0688 1.763 2.1487 1.763 1.157 0 2.0652-0.85999 2.1762-1.9834l0.4683-0.30302c0.26446-0.1763 0.44076-0.52891 0.44076-0.88152v-1.5151c0-0.35261-0.25344-0.68318-0.60604-0.77133l-3.9668-1.3498-2.1762-2.7272-0.0551-0.08264-0.02755 0.02755c-0.44623-0.66103-1.2059-0.99171-1.9008-0.99171h-3.1679a0.8816 0.8816 0 0 0 -0.08265 0 0.8816 0.8816 0 0 0 -0.08264 0zm0.85397 1.763h2.4793c0.33302 0 0.40036 0.03368 0.49585 0.19283a0.8816 0.8816 0 0 0 0.0551 0.08264l1.1845 1.4876h-4.6555l0.44076-1.763zm-3.3332 5.8125c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887zm11.46 0c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887z'/%3E %3C/g%3E %3C/svg%3E"},dd8173cc67fa36d7ff4a:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='0.87' d='m12.17 13.91c-0.48024 0-0.87 0.38976-0.87 0.87v3.48 4.35c0 0.96135 0.77865 1.74 1.74 1.74h0.05438c0.20276 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h5.3287c0.20277 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h0.05438c0.96135 0 1.74-0.77865 1.74-1.74v-3.2081-0.27188s-1.1719-3.5328-3.2625-5.0841c-0.13137-0.09831-0.29863-0.13594-0.46219-0.13594h-12.805zm10.44 1.74h2.0119c0.74211 0.65859 1.3787 1.7078 1.8216 2.61h-3.8334v-2.61zm-7.395 7.395c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87zm9.57 0c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87z'/%3E %3C/g%3E %3C/svg%3E"},dfd42df999446333fe96:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m17.031 24.899q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm-3.1507-5.4819h3.4968v-2.3312h-1.4388q-0.11838 0-0.20034 0.08196l-1.7757 1.7757q-0.08196 0.08196-0.08196 0.20033v0.27318zm11.31 5.4819q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm2.6772-10.727v9.3247q0 0.13659-0.03642 0.24587-0.03642 0.10017-0.12749 0.16391-0.08196 0.06375-0.1457 0.10927-0.06374 0.03642-0.21855 0.05463-0.1457 0.0091-0.20034 0.01821-0.05463 0-0.23676 0-0.17302-0.0091-0.20034-0.0091 0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68292-0.68296-1.6482h-3.4968q0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68296-0.68296-1.6482h-0.58279q-0.02732 0-0.20944 0.0091-0.17302 0-0.22765 0-0.05463-0.0091-0.20944-0.01821-0.1457-0.01821-0.20944-0.05463-0.06375-0.04553-0.1548-0.10927-0.08196-0.06375-0.11838-0.16391-0.03642-0.10927-0.03642-0.24586 0-0.23676 0.17302-0.40978t0.40978-0.17302v-2.914q0-0.07285-0.0091-0.31871 0-0.24587 0-0.34603 0.0091-0.10017 0.02732-0.30961 0.01821-0.21855 0.05463-0.33693 0.04554-0.12749 0.12749-0.28229 0.09106-0.1548 0.20944-0.27318l1.803-1.803q0.17302-0.17302 0.45531-0.2914 0.2914-0.11838 0.53726-0.11838h1.457v-1.7484q0-0.23676 0.17302-0.40978t0.40978-0.17302h9.3247q0.23676 0 0.40978 0.17302t0.17302 0.40978z'/%3E %3C/g%3E %3C/svg%3E"},e0e8ac40fdfb7ae1c907:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.287 24.941q0 1.0708-0.6189 1.837-0.60907 0.76625-1.4736 0.76625h-8.3895q-0.86449 0-1.4834-0.76625-0.60907-0.76625-0.60907-1.837 0-0.83502 0.07859-1.5718 0.08841-0.7466 0.31436-1.4932 0.22595-0.75643 0.56978-1.2869 0.35366-0.54031 0.92343-0.87432 0.5796-0.34383 1.3262-0.34383 1.2869 1.2574 3.0748 1.2574t3.0748-1.2574q0.7466 0 1.3164 0.34383 0.5796 0.33401 0.92343 0.87432 0.35366 0.53048 0.5796 1.2869 0.22595 0.7466 0.30454 1.4932 0.08842 0.73678 0.08842 1.5718zm-3.625-11.376q1.1101 1.1003 1.1101 2.6622 0 1.562-1.1101 2.6721-1.1 1.101-2.662 1.101t-2.6721-1.1003q-1.1003-1.1101-1.1003-2.6721t1.1003-2.6622q1.11-1.11 2.672-1.11t2.6622 1.1101z'/%3E %3C/g%3E %3C/svg%3E"},e35698e68d1df72089c6:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.75357' d='m24.334 12.464-4.2153 3.0143c0.10399 0.11605 0.20347 0.23888 0.28259 0.37679l0.51808 0.91842 2.0252-1.4601-1.5778 2.2372 0.49453 0.87132c0.14017 0.18613 0.25282 0.39374 0.32969 0.61228l4.5921-6.5702h-2.4491zm2.4491 1.3188-1.5071 2.143v4.074c0 0.41597 0.3376 0.75357 0.75358 0.75357 0.41522 0 0.75357 0.33836 0.75357 0.75358s-0.33836 0.75357-0.75357 0.75357c-0.41522 0-0.75358-0.33835-0.75358-0.75357h-1.5071c0 1.3858 1.2521 2.4766 2.6846 2.2136 0.88771-0.16277 1.6164-0.87999 1.7897-1.7662 0.22909-1.1718-0.45328-2.2074-1.4601-2.5669v-5.6047zm-12.057 1.6955c-0.8327 0-1.5071 0.67445-1.5071 1.5071v3.7679c0 0.41597 0.3376 0.75358 0.75358 0.75358h0.75357v0.75357h5.275v-0.75357h0.75358c0.41597 0 0.75358-0.3376 0.75358-0.75358v-1.5071l-1.8368-3.0143c-0.269-0.468-0.756-0.753-1.296-0.753h-3.6501zm1.5071 1.5071h2.143l1.2952 2.2607h-3.4382v-2.2607zm-2.2607 6.0286c-1.2487 0-2.2607 1.0121-2.2607 2.2607 0 1.2487 1.012 2.2607 2.2607 2.2607h6.7822c1.2487 0 2.2607-1.0121 2.2607-2.2607 0-1.2487-1.0121-2.2607-2.2607-2.2607h-6.7822zm0 1.5071c0.41597 0 0.75357 0.3376 0.75357 0.75357s-0.3376 0.75358-0.75357 0.75358-0.75358-0.3376-0.75358-0.75358c0-0.41597 0.3376-0.75357 0.75358-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75358-0.3376-0.75358-0.75358 0-0.41597 0.3376-0.75357 0.75358-0.75357z'/%3E %3C/g%3E %3C/svg%3E"},f1d2accb1cb5589a1510:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.909 11.561c-0.10947 0.01846-0.20311 0.091-0.24927 0.19256-0.04615 0.10024-0.03956 0.21894 0.01715 0.31389l0.70692 1.1817h-1.7726c-1.3031 0-2.3634 1.0604-2.3634 2.3634v10.467c0 0.29807 0.13189 0.56316 0.33763 0.74912v0.60141c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.33763h6.0774v0.33763c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.601c0.204-0.186 0.336-0.451 0.336-0.749v-10.467c0-1.3031-1.0604-2.3634-2.3634-2.3634h-1.7726l0.70692-1.1817c0.06594-0.1121 0.062-0.25191-0.0092-0.35874-0.07254-0.10815-0.20047-0.16618-0.3284-0.14771-0.09892 0.01846-0.18332 0.08045-0.23212 0.16882l-0.90739 1.5193h-3.693l-0.908-1.518c-0.06726-0.12002-0.20179-0.18596-0.33763-0.16882zm-0.96014 3.3763h8.1032c0.57371 0 1.0129 0.43919 1.0129 1.0129v4.7269c0 0.57371-0.43919 1.0129-1.0129 1.0129h-8.1032c-0.57371 0-1.0129-0.43919-1.0129-1.0129v-4.7269c0-0.57371 0.43919-1.0129 1.0129-1.0129zm-3.0387 2.0258c-0.39171 0-0.67527 0.28356-0.67527 0.67526v2.0258c0 0.39171 0.28356 0.67527 0.67527 0.67527zm14.181 0v3.3763c0.39171 0 0.67527-0.28356 0.67527-0.67527v-2.0258c0-0.39171-0.28356-0.67526-0.67527-0.67526zm-11.142 6.415c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129zm8.1032 0c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129z'/%3E %3C/g%3E %3C/svg%3E"},fb27460172bd4593ba8b:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m29.386 21.143q0.09803 0.8414-0.17972 1.6256-0.27774 0.77605-0.80873 1.3315-0.53098 0.55549-1.2989 0.86591-0.75971 0.31042-1.6011 0.25324-1.3152-0.08986-2.2873-1.0211-0.96394-0.93126-1.0946-2.2383-0.09803-0.90675 0.22056-1.7155 0.32676-0.8169 0.9721-1.3969l-0.58-0.87408q-0.78422 0.65352-1.2335 1.5848-0.44929 0.93126-0.44929 1.9932 0 0.22056-0.15521 0.38394-0.14704 0.15521-0.3676 0.15521h-2.0913-0.56366q-0.18789 1.3397-1.2172 2.2383-1.0293 0.89858-2.4017 0.89858-1.5113 0-2.5896-1.0701-1.0701-1.0783-1.0701-2.5896t1.0701-2.5814q1.0783-1.0783 2.5896-1.0783 0.62084 0 1.2417 0.22056l0.19606-0.3676q-1.0048-0.89858-2.4834-0.89858h-0.52281q-0.21239 0-0.3676-0.15521t-0.15521-0.3676 0.15521-0.3676 0.3676-0.15521h1.0456q0.63718 0 1.1845 0.11437 0.54732 0.1062 0.9476 0.31042 0.40845 0.20422 0.58816 0.32676 0.17972 0.11437 0.41662 0.29408h4.1825 0.93943l-0.69436-1.0456h-1.8135q-0.24507 0-0.40028-0.17972-0.15521-0.18789-0.11437-0.43296 0.03267-0.18789 0.18788-0.31042t0.35126-0.12253h2.0667q0.26958 0 0.43296 0.22873l0.57183 0.85774 0.93126-0.93126q0.15521-0.15521 0.37577-0.15521h0.82506q0.21239 0 0.3676 0.15521t0.15521 0.3676v1.0456q0 0.21239-0.15521 0.3676t-0.3676 0.15521h-1.4622l0.93943 1.4051q1.0701-0.51465 2.2465-0.29408 1.1682 0.21239 1.9932 1.1028 0.82506 0.88225 0.96394 2.0667zm-15.137 3.039q0.93943 0 1.6583-0.58816 0.71887-0.59634 0.90675-1.5031h-2.5651q-0.28591 0-0.44929-0.25324-0.14704-0.26141-0.0082-0.51464l1.2008-2.2628q-0.38394-0.1062-0.74338-0.1062-1.0783 0-1.8462 0.76788-0.76788 0.76788-0.76788 1.8462t0.76788 1.8462q0.76788 0.76788 1.8462 0.76788zm9.6557-0.76788q0.76788 0.76788 1.8462 0.76788t1.8462-0.76788q0.76788-0.76788 0.76788-1.8462t-0.76788-1.8462q-0.76788-0.76788-1.8462-0.76788-0.49014 0-0.98844 0.19606l1.4214 2.1239q0.12254 0.18789 0.0817 0.40028-0.04085 0.21239-0.22056 0.32676-0.12253 0.08986-0.29408 0.08986-0.28591 0-0.43296-0.2369l-1.4214-2.1239q-0.75971 0.77605-0.75971 1.838 0 1.0783 0.76788 1.8462z'/%3E %3C/g%3E %3C/svg%3E"}}]);