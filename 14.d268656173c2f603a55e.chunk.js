(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{"04ff8c05da014e6eacb1":function(t,e,n){t.exports=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var r=document.createEvent("Event");r.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var o,a=2;a<t.length;a++)o=t[a],r[o]=i[o]||e[a];r.buttons=i.buttons||0;var s=0;return s=void 0!==i.pressure&&r.buttons?i.pressure:r.buttons?.5:0,r.x=r.clientX,r.y=r.clientY,r.pointerId=i.pointerId||0,r.width=i.width||1,r.height=i.height||1,r.pressure=s,r.tiltX=i.tiltX||0,r.tiltY=i.tiltY||0,r.twist=i.twist||0,r.tangentialPressure=i.tangentialPressure||0,r.pointerType=i.pointerType||"",r.hwTimestamp=i.hwTimestamp||0,r.isPrimary=i.isPrimary||!1,r.detail=0,r}var i=window.Map&&window.Map.prototype.forEach?Map:r;function r(){this.array=[],this.size=0}r.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!==typeof SVGElementInstance,c={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,i=n.events;i&&(i.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=new n(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),i=0;i<o.length;i++)n[e=o[i]]=t[e]||a[i],!l||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var i=t.target,r=[];null!=i&&i!==document&&!i.contains(t.relatedTarget);)if(r.push(i),!(i=i.parentNode))return;n&&r.reverse(),r.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,i){this.captureInfo[t]&&this.releaseCapture(t,i),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var r=new n("gotpointercapture",{bubbles:!0});r.pointerId=t,r._target=e,i||this.asyncDispatchEvent(r)},releaseCapture:function(t,e){var i=this.captureInfo[t];if(i){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var r=new n("lostpointercapture",{bubbles:!0});r.pointerId=t,r._target=i,e||this.asyncDispatchEvent(r)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};c.boundHandler=c.eventHandler.bind(c);var u={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var i,r,o=t.elementFromPoint(e,n);for(r=this.targetingShadow(o);r;){if(i=r.elementFromPoint(e,n)){var a=this.targetingShadow(i);return this.searchRoot(a,e,n)||i}r=this.olderShadow(r)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,i=this.owner(t.target);return i.elementFromPoint(e,n)||(i=document),this.searchRoot(i,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),f=Array.prototype.map.call.bind(Array.prototype.map),p=Array.prototype.slice.call.bind(Array.prototype.slice),d=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,m={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function v(t,e,n,i){this.addCallback=t.bind(i),this.removeCallback=e.bind(i),this.changedCallback=n.bind(i),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function y(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}v.prototype={watchSubtree:function(t){this.observer&&u.canTarget(t)&&this.observer.observe(t,m)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(p(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=f(t,this.findElements,this);return e.push(d(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var _=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],b="",x=window.PointerEvent||window.MSPointerEvent,w=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,E=c.pointermap,M=[1,4,2,8,16],O=!1;try{O=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var S,C={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(i-e.x),l=Math.abs(r-e.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(t){var e=c.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=E.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=E.get(this.POINTER_ID),n=this.prepareEvent(t);O||(n.buttons=M[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),E.set(this.POINTER_ID,t),e&&0!==e.buttons?c.move(n):c.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);O||this.prepareButtonsForMove(e,t),e.button=-1,E.set(this.POINTER_ID,t),c.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=E.get(this.POINTER_ID),n=this.prepareEvent(t);if(!O){var i=M[n.button];n.buttons=e?e.buttons&~i:0,t.buttons=n.buttons}E.set(this.POINTER_ID,t),n.buttons&=~M[n.button],0===n.buttons?c.up(n):c.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);O||this.prepareButtonsForMove(e,t),e.button=-1,E.set(this.POINTER_ID,t),c.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);O||this.prepareButtonsForMove(e,t),e.button=-1,c.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},T=c.captureInfo,I=u.findTarget.bind(u),P=u.allShadows.bind(u),R=c.pointermap,F={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){S.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"===typeof n&&(t._scrollType=n,c.listen(t,this.events),P(t).forEach(function(t){t._scrollType=n,c.listen(t,this.events)},this))},elementRemoved:function(t){if(R.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,c.unlisten(t,e)})}else t._scrollType=void 0,c.unlisten(t,this.events);P(t).forEach(function(t){t._scrollType=void 0,c.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),i=this.touchActionToScrollType(n),r=this.touchActionToScrollType(e);"number"===typeof i&&"number"===typeof r?(t._scrollType=i,P(t).forEach(function(t){t._scrollType=i},this)):"number"===typeof r?this.elementRemoved(t):"number"===typeof i&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=c.cloneEvent(t),i=n.pointerId=t.identifier+2;if(n.target=T[i]||I(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var r=Math.tan(t.altitudeAngle),o=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/r)*o,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/r)*o}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var i,r=0;r<n.length;r++)i=n[r],e.call(this,this.touchToPointer(i))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var i=t.changedTouches[0],r=i.clientY-this.firstXY.Y,o=Math.abs(r),a=i.clientX-this.firstXY.X,s=Math.abs(a),l=1&n,c=2&n,u=4&n,h=8&n;u&&h?e=s>o:u?e=s>o&&a>0:h&&(e=s>o&&a<0),e||(l&&c?e=s<o:l?e=s<o&&r>0:c&&(e=s<o&&r<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,i=0,r=t.length;i<r&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(R.size>=e.length){var n=[];R.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var r=t.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){R.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),c.enterOver(t),c.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=R.get(e.pointerId);if(n){var i=n.out,r=n.outTarget;c.move(e),i&&r!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=r,i.target=r,e.target?(c.leaveOut(i),c.enterOver(e)):(e.target=r,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(c.up(t),c.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){c.cancel(t),c.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){R.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=C.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var r=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(r,2500)}}};S=new v(F.elementAdded,F.elementRemoved,F.elementChanged,F);var L,A,k,j=c.pointermap,D=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,N={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return D&&((e=c.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){j.delete(t)},MSPointerDown:function(t){j.set(t.pointerId,t);var e=this.prepareEvent(t);c.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);c.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);c.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);c.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);c.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=c.makeEvent("lostpointercapture",t);c.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=c.makeEvent("gotpointercapture",t);c.dispatchEvent(e)}};function z(t){if(!c.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function G(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function q(t){var e=c.pointermap.get(t);return 0!==e.buttons}return window.navigator.msPointerEnabled?(L=function(t){z(t),G(this),q(t)&&(c.setCapture(t,this,!0),this.msSetPointerCapture(t))},A=function(t){z(t),c.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(L=function(t){z(t),G(this),q(t)&&c.setCapture(t,this)},A=function(t){z(t),c.releaseCapture(t)}),k=function(t){return!!c.captureInfo[t]},function(){if(x){_.forEach(function(t){b+=t.selector+y(t.value)+"\n",w&&(b+="body /shadow-deep/ "+t.selector+y(t.value)+"\n")});var t=document.createElement("style");t.textContent=b,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),c.registerSource("ms",N)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),c.registerSource("mouse",C),void 0!==window.ontouchstart&&c.registerSource("touch",F);c.register(document)}}(),window.Element&&!window.Element.prototype.setPointerCapture&&Object.defineProperties(window.Element.prototype,{setPointerCapture:{value:L},releasePointerCapture:{value:A},hasPointerCapture:{value:k}}),{dispatcher:c,Installer:v,PointerEvent:n,PointerMap:i,targetFinding:u}}()},"05951c2f2bda4691bed3":function(t,e,n){"use strict";(function(t){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,i=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var r=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:l(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?u:10===t?h:u||h}function p(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function d(t){return null!==t.parentNode?d(t.parentNode):t}function g(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(l):l;var c=d(t);return c.host?g(c.host,e):g(t,d(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,i=f(10)&&getComputedStyle(n);return{height:y("Height",e,n,i),width:y("Width",e,n,i)}}var b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function M(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function O(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=m(t,"top"),i=m(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?_(t.ownerDocument):{},s=o.width||t.clientWidth||r.width,l=o.height||t.clientHeight||r.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var h=a(t);c-=v(h,"x"),u-=v(h,"y"),r.width-=c,r.height-=u}return M(r)}function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),r="HTML"===e.nodeName,o=O(t),s=O(e),c=l(t),u=a(e),h=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=M({top:o.top-s.top-h,left:o.left-s.left-p,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var g=parseFloat(u.marginTop),v=parseFloat(u.marginLeft);d.top-=h-g,d.bottom-=h-g,d.left-=p-v,d.right-=p-v,d.marginTop=g,d.marginLeft=v}return(i&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,"top"),r=m(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(d,e)),d}function C(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function T(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},u=r?C(t):g(t,c(e));if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=S(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:m(n),s=e?0:m(n,"left");return M({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(u,r);else{var h=void 0;"scrollParent"===i?"BODY"===(h=l(s(e))).nodeName&&(h=t.ownerDocument.documentElement):h="window"===i?t.ownerDocument.documentElement:i;var f=S(h,u,r);if("HTML"!==h.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(e,"position"))return!0;var i=s(e);return!!i&&t(i)}(u))o=f;else{var p=_(t.ownerDocument),d=p.height,v=p.width;o.top+=f.top-f.marginTop,o.bottom=d+f.top,o.left+=f.left-f.marginLeft,o.right=v+f.left}}var y="number"===typeof(n=n||0);return o.left+=y?n:n.left||0,o.top+=y?n:n.top||0,o.right-=y?n:n.right||0,o.bottom-=y?n:n.bottom||0,o}function I(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=T(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return E({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function P(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S(n,i?C(e):g(e,c(n)),i)}function R(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function F(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,n){n=n.split("-")[0];var i=R(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[c]:e[F(s)],r}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function k(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=A(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&o(n)&&(e.offsets.popper=M(e.offsets.popper),e.offsets.reference=M(e.offsets.reference),e=n(e,t))}),e}function j(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function D(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if("undefined"!==typeof document.body.style[o])return o}return null}function N(t){var e=t.ownerDocument;return e?e.defaultView:window}function z(t,e,n,i){n.updateBound=i,N(t).addEventListener("resize",n.updateBound,{passive:!0});var r=l(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),o||t(l(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,N(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function q(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function B(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(e[n])&&(i="px"),t.style[n]=e[n]+i})}var U=n&&/Firefox/i.test(navigator.userAgent);function W(t,e,n){var i=A(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],H=Y.slice(3);function X(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H.indexOf(t),i=H.slice(n+1).concat(H.slice(0,n));return e?i.reverse():i}var K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function V(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(A(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return M(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){q(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:w({},l,o[l]),end:w({},l,o[l]+o[c]-a[c])};t.offsets.popper=E({},a,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=q(+n)?[+n,0]:V(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=D("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=T(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),w({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),w({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=E({},u,h[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(t.offsets.popper[l]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!W(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"===typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",h=c?"Top":"Left",f=h.toLowerCase(),p=c?"left":"top",d=c?"bottom":"right",g=R(i)[u];l[d]-g<s[f]&&(t.offsets.popper[f]-=s[f]-(l[d]-g)),l[f]+g>s[d]&&(t.offsets.popper[f]+=l[f]+g-s[d]),t.offsets.popper=M(t.offsets.popper);var m=l[f]+l[u]/2-g/2,v=a(t.instance.popper),y=parseFloat(v["margin"+h]),_=parseFloat(v["border"+h+"Width"]),b=m-t.offsets.popper[f]-y-_;return b=Math.max(Math.min(s[u]-g,b),0),t.arrowElement=i,t.offsets.arrow=(w(n={},f,Math.round(b)),w(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(j(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=T(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=F(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case K.FLIP:a=[i,r];break;case K.CLOCKWISE:a=X(i);break;case K.COUNTERCLOCKWISE:a=X(i,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],r=F(i);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,f="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),p=h(c.left)<h(n.left),d=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),v="left"===i&&p||"right"===i&&d||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&d||!y&&"start"===o&&g||!y&&"end"===o&&m),b=!!e.flipVariationsByContent&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),x=_||b;(f||v||x)&&(t.flipped=!0,(f||v)&&(i=a[l+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=E({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=k(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=F(e),t.offsets.popper=M(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!W(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=A(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=A(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=p(t.instance.popper),l=O(s),c={position:r.position},u=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?u||h||l%2===c%2?o:a:s,p=e?o:s;return{left:f(l%2===1&&c%2===1&&!h&&e?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:f(i.right)}}(t,window.devicePixelRatio<2||!U),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=D("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&d)c[d]="translate3d("+g+"px, "+m+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===f?-1:1;c[h]=m*v,c[f]=g*y,c.willChange=h+", "+f}var _={"x-placement":t.placement};return t.attributes=E({},_,t.attributes),t.styles=E({},c,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return B(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&B(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=P(r,e,t,n.positionFixed),a=I(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),B(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},$=function(){function t(e,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=E({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,a.modifiers)).forEach(function(e){i.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return E({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return x(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=I(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=k(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();$.Utils=("undefined"!==typeof window?window:t).PopperUtils,$.placements=Y,$.Defaults=Z,e.a=$}).call(this,n("698d75b157f24ae829cc"))},"064ca696732477a7857b":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.84153' d='m13.105 12.427a0.84162 0.84162 0 0 0 -0.68375 0.84153v5.0492a0.84162 0.84162 0 0 0 0 0.07889v1.8672c0.84153-0.67323 1.8514-1.1045 2.9454-1.1045 2.5246 0 4.6284 2.1038 4.6284 4.6284v0.42077h3.7869c-0.25895 0.34961-0.42077 0.78515-0.42077 1.2623 0 1.1781 0.92569 2.1038 2.1038 2.1038s2.1038-0.92569 2.1038-2.1038c0-0.55373-0.21318-1.0478-0.55226-1.4201 0.49718-0.2262 0.85521-0.67323 0.97302-1.2623l0.42077-2.7087c0.08415-0.42077-0.33661-0.92043-0.84153-0.92043l-7.1267-0.78894-1.3149-5.3122a0.84162 0.84162 0 0 0 -0.81524 -0.63115h-5.0492a0.84162 0.84162 0 0 0 -0.07889 0 0.84162 0.84162 0 0 0 -0.07889 0zm0.99932 1.6831h3.5502l1.0256 4.0499-4.5758-0.49966v-3.5502zm10.098 0v3.6291l1.6831 0.23668v-3.8658h-1.6831zm-8.8361 5.8907c-2.1038 0-3.7869 1.6831-3.7869 3.7869s1.6831 3.7869 3.7869 3.7869 3.7869-1.6831 3.7869-3.7869-1.6831-3.7869-3.7869-3.7869zm0 1.2623c1.4306 0 2.5246 1.094 2.5246 2.5246s-1.094 2.5246-2.5246 2.5246-2.5246-1.094-2.5246-2.5246 1.094-2.5246 2.5246-2.5246zm10.098 3.3661c0.50492 0 0.84154 0.33661 0.84154 0.84154 0 0.50492-0.33661 0.84153-0.84154 0.84153-0.50492 0-0.84153-0.33661-0.84153-0.84153s0.33661-0.84154 0.84153-0.84154z'/%3E %3C/g%3E %3C/svg%3E"},"0b8eb3e35929778b339a":function(t,e,n){"use strict";n.r(e);var i,r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("7aa8db87e3c9e814f06d"),s=n("fc43733ec9d3f066c334"),l=n("8a2d1b95e05b6a321e74"),c=n.n(l),u=n("0a81c721557e72a0975d"),h=n("1f7eb4558e149d7a2535"),f=n("a28fc3c963a1d4d1a2e5"),p=n("71d2f9a0d515b86993c4"),d=n("7c819471f8086f26a136"),g=n("721170d9c04e3d2551ec"),m=n.n(g),v=n("ef4865002b343d63dc0c"),y=n("ecad9051054967dddd1d"),_=n("5967b2c4674ec19411e2"),b=n("d8682765e772da6a405c"),x=n("8fdd8041225f426c1db2"),w=n.n(x),E=n("a11eacdcf2a3861858dc"),M=n("73c491490691b18f8f8a"),O=n("fdae765a9a200f4374cf"),S=n("48f467bf988d0839cdf4"),C=n.n(S),T=n("ea78a4d6077b4ce99010"),I=n.n(T),P=n("b5b7bafeb7add2b1fc09"),R=n("9095151026da8c51dd60"),F=n.n(R),L=n("0c1f845924d0a380f5ed"),A=n.n(L),k=n("ab039aecd4a1d4fedc0e"),j=n("f8a33b307d5498ae9f5a"),D=n.n(j),N=n("adc20f99e57c573c589c"),z=n("d95b0cf107403b178365"),G=n("937d726c1c2880f2c2ec"),q=n("c20cb9ad2a6d30ec5986"),B=n("6e86753cc35d11eb3233"),U=n("6ff4e1147c3741f130e5"),W=n("5033cead807f05d3635d"),Y=n("95304742f100121de3ed"),H=Object(k.defineMessages)({closeModal:{id:"".concat("app.components.Modal",".closeModal"),defaultMessage:"Close"}});function X(t,e,n,r){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=r;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];e.children=s}if(e&&o)for(var c in o)void 0===e[c]&&(e[c]=o[c]);else e||(e=o||{});return{$$typeof:i,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Z=Object(s.a)(function(){return{progress:{textAlign:"center"}}}),$=X(Y.a,{size:25});var J=function(t){var e=t.open,n=t.onClose,i=t.style,a=t.className,s=t.dialogContentClassName,l=t.dialogActionClassName,c=t.classesStyle,u=t.fullScreen,h=t.maxWidth,f=t.readonly,p=t.modalTitle,d=t.modalContent,g=t.modalActions,m=t.children,v=Z(),y=K(Object(r.useState)(e),2),_=y[0],b=y[1];Object(r.useEffect)(function(){_!==e&&b(!_)});var x=function(){n(),b(!1)};return X(G.a,{open:_,onClose:function(){n(),x()},style:i,className:a,fullWidth:!0,maxWidth:h||"sm",fullScreen:u,classes:c},void 0,X(W.a,{id:"simple-dialog-title"},void 0,p),X(B.a,{className:s},void 0,d?X(U.a,{id:"alert-dialog-description"},void 0,d):null,m),X(q.a,{className:l},void 0,!f&&g&&g.map(function(t){return t.showLoader?X("div",{className:v.progress},"showLoader-".concat(Math.random()),$):X(E.a,{onClick:t.action,color:t.color?t.color:"primary",disabled:t.disabled,variant:"contained"},"action-".concat(Math.random()),t.text)}),X(E.a,{onClick:x,color:"default",variant:"outlined"},void 0,o.a.createElement(k.FormattedMessage,H.closeModal))))},Q=n("8113359511cd270e25e9"),tt=n("d7f9c90bb9eec3ae4c76"),et=n("8fc0c6ca761d160560c9"),nt=n("1b4947d16bbaf85cb8db"),it=n("043737a9f76d0e1c02ad"),rt=n("9d316ebc33f5187e30d0"),ot=n("7f1e5b8b7e153fb9be55"),at=n("76e336e8d327479d9dbc"),st=n("767229687deaf722fc6b"),lt=n("0dd0d4c406f3d424ca7a"),ct=n("e12286702a6f69ed5766"),ut=n("656605e6136c371dcd2e"),ht=n("6493f850386b0fe35d78"),ft=n("03527694d8b6274dda69"),pt=n("4173396df9139983d042"),dt=n("25bd7a87af357973417a"),gt=n.n(dt),mt=n("f2ef6f6e544aad97aa22"),vt=n.n(mt),yt=n("bf95d08a577daedf0222"),_t=n.n(yt),bt=n("a1cf5d6fa4ed65a6ddd5"),xt=n.n(bt),wt=n("3cfaddbc49b3b4520d9c"),Et=n.n(wt),Mt=n("6a55381db84a511b309a"),Ot=n.n(Mt),St=n("98f11010eed1f30a67e8"),Ct=n.n(St),Tt=n("3dde4251a4e36fb3d2d7"),It=n.n(Tt),Pt=n("5ad5fa305fb9d8886d1b"),Rt=n.n(Pt),Ft=n("96100616be21446d392a"),Lt=n.n(Ft);function At(t){var e=decodeURIComponent(t).replace("data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ","");return(new DOMParser).parseFromString(e,"image/svg+xml")}var kt=n("34d538758fadc195d9b0"),jt=n.n(kt),Dt=n("38a5cf7bd4a34adb836d"),Nt=n.n(Dt),zt=n("774b962f7f8ee233d0d8"),Gt=n.n(zt),qt=n("8e5ff0d18795eecbe193"),Bt=n.n(qt),Ut=n("cc9cb34247c192a15852"),Wt=n.n(Ut),Yt=n("a7e9ffa2c081a2fb5ea5"),Ht=n.n(Yt),Xt=n("e35698e68d1df72089c6"),Kt=n.n(Xt),Vt=n("9f8408bc240279d0b00a"),Zt=n.n(Vt),$t=n("0cd3c73b0976507cb4f5"),Jt=n.n($t),Qt=n("fb27460172bd4593ba8b"),te=n.n(Qt),ee=n("37b9a59b1709fe27f5f8"),ne=n.n(ee),ie=n("e0e8ac40fdfb7ae1c907"),re=n.n(ie),oe=n("d00ca599655a685685b3"),ae=n.n(oe),se=n("911f6b041ac8efd77294"),le=n.n(se),ce=n("4061d78159b3c8762e5a"),ue=n.n(ce),he=n("49f4067ee71e74f7bfe5"),fe=n.n(he),pe=n("064ca696732477a7857b"),de=n.n(pe),ge=n("ca58d6a6a484c1aaa883"),me=n.n(ge),ve=n("ab0f7027a5d5d72ab9da"),ye=n.n(ve),_e=n("f1d2accb1cb5589a1510"),be=n.n(_e),xe=n("dfd42df999446333fe96"),we=n.n(xe),Ee=n("dd8173cc67fa36d7ff4a"),Me=n.n(Ee),Oe=n("d2538cc52c3c9ed4b50a"),Se=n.n(Oe),Ce={animal:At(jt.a),arrow:At(Nt.a),bicycle:At(Gt.a),boat:At(Bt.a),bus:At(Wt.a),car:At(Ht.a),crane:At(Kt.a),default:At(Zt.a),helicopter:At(Jt.a),motorcycle:At(te.a),offroad:At(ne.a),person:At(re.a),pickup:At(ae.a),plane:At(le.a),scooter:At(ue.a),ship:At(fe.a),tractor:At(de.a),train:At(me.a),tram:At(ye.a),trolleybus:At(be.a),truck:At(we.a),van:At(Me.a),circle:At(Se.a)},Te={dd:{name:"DecimalDegree",factor:1},km:{name:"km",factor:.001},kn:{name:"kn",factor:1},kmh:{name:"km/h",factor:1.852},mi:{name:"mi",factor:621371e-9},mph:{name:"mph",factor:1.15078},nmi:{name:"nmi",factor:539957e-9}};function Ie(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(Te[e||n].factor*(t||0)).toFixed(i)}function Pe(t,e){return"".concat(Ie(t,e,"kmh",0)," ").concat(Te[e||"kmh"].name)}function Re(t,e,n){if(n&&Object.keys(n).indexOf("".concat(e,"Unit"))>-1){if(e.match(/speed/g))return Pe(t,n["".concat(e,"Unit")]);if(e.match(/distance/g))return function(t,e){return"".concat(Ie(t,e,"km")," ").concat(Te[e||"km"].name)}(t,n["".concat(e,"Unit")])}return t}function Fe(t){return function(t){if(Array.isArray(t))return Le(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach(function(e){je(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function De(t,e){return"offline"===t.status?"rgba(255, 162, 173, 1.0)":"online"===t.status&&e&&(e.attributes.motion||e.attributes.ignition)?"rgba(77, 250, 144, 1.0)":"rgba(250, 190, 77, 1.0)"}function Ne(t,e,n){return e.forEach(function(e){var i=Lt()(t,["id",e.id]),r=t[i].positions?t[i].positions.slice(-1)[0]:null,o=Ie(r?r.speed:0,n.attributes.speedUnit),a=Pe(r?r.speed:0,n.attributes.speedUnit),s=t[i].icon;t[i].category===e.category&&t[i].status===e.status||(s=Be(Ce[e.category||"default"],De(e,r),r?r.course:0,"arrow"===e.category?"arrow":"background","arrow"===e.category?"arrow":"background")),i>-1?Rt()(t[i],e,{icon:s,speed:o,formattedSpeed:a}):t.push(Rt()(e,{icon:s,speed:o,formattedSpeed:a}))}),t}var ze=function(t,e){var n=ke({isSelected:arguments.length>2&&void 0!==arguments[2]&&arguments[2],isPinned:arguments.length>3&&void 0!==arguments[3]&&arguments[3]},e.slice(-1)[0]);return t&&(n.category=t.category,n.icon=t.icon.source),n},Ge=function(t,e,n){return It()(t,function(t){return t&&t.positions&&ze(t,t.positions,e&&e.uniqueId===t.uniqueId,n&&n.uniqueId===t.uniqueId)}).filter(function(t){return!!t})};function qe(t){return"data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ".concat(encodeURIComponent((new XMLSerializer).serializeToString(t.documentElement)))}function Be(t,e,n,i,r){var o=t,a=parseFloat(o.documentElement.getAttribute("width")),s=parseFloat(o.documentElement.getAttribute("height")),l=o.getElementById(i);if(l){l.style.fill=e;var c="rotate(".concat(n," ").concat(a/2," ").concat(s/2,")");o.getElementById(r).setAttribute("transform",c)}return{height:s,source:qe(o),width:a}}function Ue(t,e){return Ot()(t,{uniqueId:e})}var We,Ye=function(t,e){return Ct()(t,function(t){return t.longitude>e.br&&t.longitude<e.tl&&t.latitude<e.bl&&t.latitude>e.tr})},He=function(t,e,n,i){var r=n&&Ot()(e,{uniqueId:n.uniqueId}),o=i&&Ot()(e,{uniqueId:i.uniqueId});return n&&n.positions&&!r?e.push(ze(null,n.positions,!0)):i&&i.positions&&!o&&e.push(ze(null,i.positions,!1,!0)),e};function Xe(t){return(Xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t,e,n,i){We||(We="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:We,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Ve(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $e(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Qe(t);if(e){var r=Qe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Xe(e)||"function"===typeof e))return e;return Je(t)}(this,n)}}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(a,o.a.PureComponent);var e,n,i,r=$e(a);function a(){var t,e,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return t=r.call.apply(r,[this].concat(s)),e=Je(t),i=function(){return Be(t.props.icon,"#008000",0,t.props.IconFillId,t.props.IconRotateId).source},(n="getIcon")in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,t}return e=a,(n=[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,Ke(b.a,{disableTypography:this.props.disableTypography},void 0,this.props.children),this.props.icon&&Ke(_.a,{},void 0,Ke("img",{src:this.getIcon(),alt:this.props.alt,style:{margin:"auto"}})))}}])&&Ve(e.prototype,n),i&&Ve(e,i),a}();tn.defaultProps={IconFillId:"background",IconRotateId:"background"};var en,nn=tn,rn="app.components.ProfileForm",on=Object(k.defineMessages)({name:{id:"".concat(rn,".name"),defaultMessage:"Name"},email:{id:"".concat(rn,".email"),defaultMessage:"Email"},password:{id:"".concat(rn,".password"),defaultMessage:"Password"},phone:{id:"".concat(rn,".phone"),defaultMessage:"Phone Number"},mapLayers:{id:"".concat(rn,".mapLayers"),defaultMessage:"Map Layers"},latitude:{id:"".concat(rn,".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat(rn,".longitude"),defaultMessage:"Longitude"},zoom:{id:"".concat(rn,".zoom"),defaultMessage:"Zoom"},coordinateFormat:{id:"".concat(rn,".coordinateFormat"),defaultMessage:"Coordinate Format"},custom:{id:"".concat(rn,".custom"),defaultMessage:"Google Map"},bingRoad:{id:"".concat(rn,".bingRoad"),defaultMessage:"Hybrid Google Map"},carto:{id:"".concat(rn,".carto"),defaultMessage:"Carto Map"},osm:{id:"".concat(rn,".osm"),defaultMessage:"Open Street Map"},baidu:{id:"".concat(rn,".baidu"),defaultMessage:"baidu Map"},yandexMap:{id:"".concat(rn,".yandexMap"),defaultMessage:"Yandex Map"},yandexSat:{id:"".concat(rn,".yandexSat"),defaultMessage:"yandex Satelite"},wikimedia:{id:"".concat(rn,".wikimedia"),defaultMessage:"wikimedia"},dd:{id:"".concat(rn,".dd"),defaultMessage:"Decimal Degree"},ddm:{id:"".concat(rn,".ddm"),defaultMessage:"Decimal Degree Minute"},dms:{id:"".concat(rn,".dms"),defaultMessage:"Decimal Degree Second"},mobileFormatIsIncorrect:{id:"".concat(rn,".mobileFormatIsIncorrect"),defaultMessage:"Mobile Format Is Incorrect"},mustBeNumber:{id:"".concat(rn,".mustBeNumber"),defaultMessage:"Value Must Be A Number"},valueIsRequired:{id:"".concat(rn,".valueIsRequired"),defaultMessage:"Value Is Required"}}),an=n("b0554d3166c50eb56173"),sn=n.n(an),ln=n("3f935c253d9c7ef47e52"),cn=n.n(ln),un=function(t){return{state:!t||Boolean(Number(t)&&cn()(Number(t))),error:o.a.createElement(k.FormattedMessage,on.mustBeNumber)}},hn=function(t){return e=t,{state:Boolean(!e||10===e.length&&/^\d+$/.test(e)),error:o.a.createElement(k.FormattedMessage,on.mobileFormatIsIncorrect)};var e},fn={name:function(t){return function(t){return{state:Boolean(t&&t.length>0),error:o.a.createElement(k.FormattedMessage,on.valueIsRequired)}}(t)},email:function(t){return function(t){return{state:Boolean(t&&t.length>0),error:o.a.createElement(k.FormattedMessage,on.valueIsRequired)}}(t)},phone:function(t){return hn(t)},map:function(t){return function(t){return{state:Boolean(t&&t.length>0),error:o.a.createElement(k.FormattedMessage,on.valueIsRequired)}}(t)},longitude:function(t){return function(t){return un(t)}(t)},latitude:function(t){return function(t){return un(t)}(t)},zoom:function(t){return function(t){return un(t)}(t)}},pn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:t.name,email:t.email,phone:t.phone,map:t.map,latitude:t.latitude,longitude:t.longitude,zoom:t.zoom}},dn={name:null,email:null,phone:null,map:null,latitude:null,longitude:null,zoom:null},gn=function(t,e,n,i,r){var o,a,s;!function(t,e){var n=!0;Et()(t,function(t,e){if(fn[e]){var i=fn[e](t);dn[e]=i,i.state||(n=!1)}}),e(n)}((o=pn(t),a=pn(e),s={},D()(o,a)?{}:(Et()(o,function(t,e){sn()(a,e)&&o[e]!==a[e]&&(s[e]=a[e])}),Et()(a,function(t,e){sn()(o,e)||(s[e]=t)}),s)),i),function(t,e){var n={};Et()(dn,function(e,i){n[i]=t[i]&&dn[i]&&!dn[i].state?dn[i].error:null}),e(n)}(n,r)};function mn(t,e,n,i){en||(en="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:en,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach(function(e){xn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wn=Object(s.a)(function(t){return xn({gridContainer:{padding:0},grid:{padding:"12px 0px",marginBottom:5,display:"flex",alignItems:"center",justifyContent:"center"},icon:{marginRight:5},secondGridContainer:{padding:0},rightInput:{padding:"12px 0px",marginBottom:10},leftInput:{padding:"12px 0px",marginBottom:10}},t.breakpoints.up("sm"),{secondGridContainer:{padding:0,paddingLeft:36},rightInput:{padding:"12px 0px",paddingLeft:"3px",display:"flex",alignItems:"center",justifyContent:"right","& > *":{width:160}},leftInput:{padding:"12px 0px",paddingRight:"3px",display:"flex",alignItems:"center",justifyContent:"left","& > *":{width:160}},selectGrid:{paddingTop:16},textField:{height:52},selectField:{height:52,width:324},icon:{marginRight:13},input:{width:324,height:52,fontSize:16,padding:"0 14px"},inputAdornment:{width:324,height:52,fontSize:16,padding:"0 14px",textAlign:"right"}})}),En=mn(st.a,{}),Mn=mn(lt.a,{}),On=o.a.memo(function(t){var e,n,i=t.user,a=t.disabled,s=t.onChange,l=t.onValid,c=wn(),u=(e=i,n=Object(r.useRef)(),Object(r.useEffect)(function(){n.current=e},[e]),n.current),h=_n(Object(r.useState)(!1),2),f=h[0],p=h[1],d=_n(Object(r.useState)({name:null,email:null,password:null,phone:null,map:null,latitude:null,longitude:null,zoom:null}),2),g=d[0],m=d[1],v=_n(Object(r.useState)({name:!1,email:!1,password:!1,phone:!1,map:!1,latitude:!1,longitude:!1,zoom:!1}),2),y=v[0],_=v[1],b=function(t){var e=t.target,n=e.name,i=e.value;s(n,i)},x=function(t){var e=t.target.name;_(yn(yn({},y),{},xn({},e,!0)))};return Object(r.useEffect)(function(){gn(u,i,y,l,m)},[i]),o.a.createElement(o.a.Fragment,null,mn(Q.a,{container:!0,className:c.gridContainer},void 0,mn(Q.a,{item:!0,xs:12,className:c.grid},void 0,mn(ct.a,{className:c.icon}),mn(tt.a,{name:"name",required:!0,id:"standard-required",label:o.a.createElement(k.FormattedMessage,on.name),value:i?i.name:null,variant:"outlined",onFocus:x,onBlur:x,disabled:a,onChange:b,fullWidth:!0,error:!!g.name,helperText:g.name,className:c.textField,InputProps:{classes:{root:c.input}}})),mn(Q.a,{item:!0,xs:12,className:c.grid},void 0,mn(ut.a,{className:c.icon}),mn(tt.a,{name:"email",required:!0,type:"text",label:o.a.createElement(k.FormattedMessage,on.email),value:i?i.email:null,variant:"outlined",onFocus:x,onBlur:x,fullWidth:!0,error:!!g.email,helperText:g.email,className:c.textField,InputProps:{classes:{root:c.input}},disabled:a,onChange:b})),mn(Q.a,{item:!0,xs:12,className:c.grid},void 0,mn(ht.a,{className:c.icon}),mn(tt.a,{name:"password",type:f?"text":"password",label:o.a.createElement(k.FormattedMessage,on.password),variant:"outlined",onFocus:x,onBlur:x,fullWidth:!0,error:!!g.password,helperText:g.password,className:c.textField,disabled:a,onChange:b,InputProps:{endAdornment:mn(et.a,{position:"end"},void 0,mn(M.a,{"aria-label":"toggle password visibility",onClick:function(){return p(!f)}},void 0,f?En:Mn)),classes:{root:c.inputAdornment}}})),mn(Q.a,{item:!0,xs:12,className:c.grid},void 0,mn(ft.a,{className:c.icon}),mn(tt.a,{name:"phone",type:"text",label:o.a.createElement(k.FormattedMessage,on.phone),value:i?i.phone:null,variant:"outlined",onFocus:x,onBlur:x,fullWidth:!0,error:!!g.phone,helperText:g.phone,placeholder:"9121111111",className:c.textField,disabled:a,onChange:b,InputProps:{classes:{root:c.input}}})),mn(Q.a,{item:!0,xs:12,className:"".concat(c.grid," ").concat(c.selectGrid)},void 0,mn(pt.a,{className:c.icon}),mn(nt.a,{fullWidth:!0,variant:"outlined",size:"small"},void 0,mn(it.a,{id:"map-layers-id"},void 0,o.a.createElement(k.FormattedMessage,on.mapLayers)),mn(rt.a,{id:"map-layers-id",name:"map",value:i?i.map:null,fullWidth:!0,error:!!g.map,onFocus:x,onBlur:x,required:!0,disabled:a,className:c.selectField,onChange:b,label:o.a.createElement(k.FormattedMessage,on.mapLayers)},void 0,mn(ot.a,{value:"custom"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.custom))),mn(ot.a,{value:"bingRoad"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.bingRoad))),mn(ot.a,{value:"carto"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.carto))),mn(ot.a,{value:"osm"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.osm))),mn(ot.a,{value:"baidu"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.baidu))),mn(ot.a,{value:"yandexMap"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.yandexMap))),mn(ot.a,{value:"yandexSat"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.yandexSat))),mn(ot.a,{value:"wikimedia"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.wikimedia)))),mn(at.a,{},void 0,g.map)))),mn(Q.a,{container:!0,className:c.secondGridContainer},void 0,mn(Q.a,{item:!0,xs:12,sm:6,className:c.leftInput},void 0,mn(nt.a,{fullWidth:!0,className:c.textField},void 0,mn(tt.a,{name:"latitude",label:o.a.createElement(k.FormattedMessage,on.latitude),value:i?i.latitude:null,variant:"outlined",onFocus:x,onBlur:x,fullWidth:!0,error:!!g.latitude,helperText:g.latitude,className:c.textField,disabled:a,onChange:b}))),mn(Q.a,{item:!0,xs:12,sm:6,className:c.rightInput},void 0,mn(nt.a,{fullWidth:!0},void 0,mn(tt.a,{name:"longitude",label:o.a.createElement(k.FormattedMessage,on.longitude),value:i?i.longitude:null,variant:"outlined",onFocus:x,onBlur:x,fullWidth:!0,error:!!g.longitude,helperText:g.longitude,className:c.textField,disabled:a,onChange:b}))),mn(Q.a,{item:!0,xs:12,sm:6,className:c.leftInput},void 0,mn(tt.a,{name:"zoom",label:o.a.createElement(k.FormattedMessage,on.zoom),value:i?i.zoom:null,className:c.textField,variant:"outlined",onFocus:x,onBlur:x,fullWidth:!0,error:!!g.zoom,helperText:g.zoom,disabled:a,onChange:b})),mn(Q.a,{item:!0,xs:12,sm:6,className:"".concat(c.rightInput," ").concat(c.selectGrid)},void 0,mn(nt.a,{fullWidth:!0,variant:"outlined",size:"small"},void 0,mn(it.a,{id:"coordinateFormat-label"},void 0,o.a.createElement(k.FormattedMessage,on.coordinateFormat)),mn(rt.a,{labelId:"coordinateFormat-label",name:"coordinateFormat",value:i?i.coordinateFormat:null,fullWidth:!0,disabled:a,onChange:b,label:o.a.createElement(k.FormattedMessage,on.coordinateFormat)},void 0,mn(ot.a,{value:"dd"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.dd))),mn(ot.a,{value:"ddm"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.ddm))),mn(ot.a,{value:"dms"},void 0,mn(nn,{},void 0,o.a.createElement(k.FormattedMessage,on.dms))))))))}),Sn=n("5bf5452f9fdfd0d8cf6c"),Cn=n("6542cd13fd5dd1bcffd4"),Tn=n("7edf83707012a871cdfb"),In="app/Profile/EDIT_PROFILE_REQUEST",Pn={user:null,error:null,showLoader:!1},Rn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,e=arguments.length>1?arguments[1]:void 0;return Object(Tn.a)(t,function(t){switch(e.type){case In:t.user=e.user,t.showLoader=!0;break;case"app/Profile/EDIT_PROFILE_SUCCESSFUL":case"app/Profile/EDIT_PROFILE_FAILED":t.user=e.user,t.showLoader=!1}})},Fn=function(t){return t.profile||Pn},Ln=function(t){return{type:"app/Profile/EDIT_PROFILE_SUCCESSFUL",payload:t}},An=function(t){return{type:"app/Profile/EDIT_PROFILE_FAILED",payload:t}},kn=n("124b48bac274890c1fae"),jn=n("2cb3248ea08cdbff4a37"),Dn=n("f363639bc5c3c97af546"),Nn=n("a72b40110d9c31c9b5c5"),zn={success:"success",error:"error",info:"info",warning:"warning"},Gn=function(t){return{type:"app/AlertContainer/SET_MESSAGES",payload:t}},qn=function(t){return{type:"app/AlertContainer/OPEN_ALERT",payload:t}},Bn=regeneratorRuntime.mark(Wn),Un=regeneratorRuntime.mark(Yn);function Wn(t){var e,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.payload,i.prev=1,i.next=4,Object(kn.b)(Dn.d,"".concat(jn.a.API_URL,"/users/").concat(e.id),e);case 4:return n=i.sent,i.next=7,Object(kn.c)(Ln(n));case 7:return i.next=9,Object(kn.c)(qn(zn.success));case 9:return i.next=11,Object(kn.c)(Object(Nn.a)(n));case 11:i.next=19;break;case 13:return i.prev=13,i.t0=i.catch(1),i.next=17,Object(kn.c)(qn(zn.error));case 17:return i.next=19,Object(kn.c)(An(i.t0));case 19:case"end":return i.stop()}},Bn,null,[[1,13]])}function Yn(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(kn.g)(In,Wn);case 2:case"end":return t.stop()}},Un)}var Hn,Xn=Object(k.defineMessages)({profile:{id:"".concat("app.containers.ProfileContainer",".profile"),defaultMessage:"Profile"},edit:{id:"".concat("app.containers.ProfileContainer",".save"),defaultMessage:"Save"},editProfileSuccessful:{id:"".concat("app.containers.ProfileContainer",".editProfileSuccessful"),defaultMessage:"Saved Successfully"},editProfileFailed:{id:"".concat("app.containers.ProfileContainer",".editProfileFailed"),defaultMessage:"Failed to save"}});function Kn(t,e,n,i){Hn||(Hn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Hn,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach(function(e){Qn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function $n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ti,ei=Object(s.a)(function(t){return Qn({modal:{color:"rgba(0, 0, 0, 0.54)",padding:"5px 15px"}},t.breakpoints.up("sm"),{modal:{width:454,padding:"8px",paddingLeft:"30px",paddingRight:"63px"},paper:{width:"max-content"}})}),ni=Object(f.b)({user:Object(Cn.d)(),showLoader:Object(f.a)(Fn,function(t){return t.showLoader})}),ii=Object(u.c)(ni,function(t){return{fetchUsers:function(){return t(Object(Sn.c)())},editUser:function(e){return t({type:In,payload:e})},setMessages:function(e){return t(Gn(e))}}}),ri=Object(h.d)(ii)(function(t){var e=t.open,n=t.onClose,i=t.user,a=t.showLoader,s=t.editUser,l=t.setMessages,c=t.fetchUsers,u=ei(),h=$n(Object(r.useState)({}),2),f=h[0],p=h[1],d=$n(Object(r.useState)(!1),2),g=d[0],m=d[1],v=$n(Object(r.useState)(!0),2),y=v[0],_=v[1];Object(z.a)({key:"profile",reducer:Rn}),Object(N.a)({key:"profile",saga:Yn}),Object(r.useEffect)(function(){e&&c()},[e]),Object(r.useEffect)(function(){var t;p((t=i)&&{id:t.id,name:t.name,email:t.email,password:null,phone:t.phone,map:t.map,latitude:t.latitude,longitude:t.longitude,zoom:t.zoom,coordinateFormat:t.coordinateFormat,readonly:t.readonly,administrator:t.administrator,twelveHourFormat:t.twelveHourFormat,poiLayer:t.poiLayer,attributes:t.attributes,disabled:t.disabled,expirationTime:t.expirationTime,deviceLimit:t.deviceLimit,userLimit:t.userLimit,deviceReadonly:t.deviceReadonly,limitCommands:t.limitCommands,token:t.token})},[i]),Object(r.useEffect)(function(){_(!g||D()(i,f))},[g]);return o.a.createElement(o.a.Fragment,null,Kn(J,{open:e,onClose:n,modalTitle:o.a.createElement(k.FormattedMessage,Xn.profile),maxWidth:"sm",readonly:i.readonly,dialogContentClassName:u.modal,modalActions:[{action:function(){l({success:o.a.createElement(k.FormattedMessage,Xn.editProfileSuccessful),error:o.a.createElement(k.FormattedMessage,Xn.editProfileFailed)}),s(f)},color:"primary",text:o.a.createElement(k.FormattedMessage,Xn.edit),disabled:y||a,showLoader:a}],classesStyle:{paper:u.paper}},void 0,f&&Kn(On,{user:f,onChange:function(t,e){return p(Zn(Zn({},f),{},Qn({},t,e)))},onValid:function(t){return m(t)},disabled:i.readonly})))}),oi=Object(k.defineMessages)({header:{id:"".concat("app.components.Header",".header"),defaultMessage:"This is the Header component!"},search:{id:"".concat("app.components.Header",".search"),defaultMessage:"Search"},following:{id:"".concat("app.components.Header",".following"),defaultMessage:"Following"},logout:{id:"".concat("app.components.Header",".logout"),defaultMessage:"Logout"},addFleet:{id:"".concat("app.components.Header",".addFleet"),defaultMessage:"Add fleet"},edit:{id:"".concat("app.components.Header",".edit"),defaultMessage:"Edit"}});function ai(t,e,n,i){ti||(ti="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:ti,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function si(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return li(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return li(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ci=Object(s.a)(function(t){return e={paper:{margin:"5px 5px",padding:"2px 4px",display:"flex",alignItems:"center",width:306,zIndex:1,position:"absolute"},input:{marginLeft:t.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},list:{minWidth:306,maxWidth:358},profile:{display:"flex",flexDirection:"column","&:nth-child(1)":{marginTop:20},"& > *":{marginLeft:20}},name:{marginBottom:0},avatar:{width:"4rem",height:"4rem",borderRadius:"50%","& > *":{fill:"#757575"}}},n=t.breakpoints.up("sm"),i={paper:{width:358}},n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e;var e,n,i}),ui=ai(I.a,{}),hi=ai(F.a,{}),fi=ai(w.a,{}),pi=ai(_.a,{},void 0,ai(C.a,{})),di=ai(_.a,{},void 0,ai(m.a,{}));var gi=Object(r.memo)(function(t){var e=t.user,n=t.onLiveRoute,i=t.onSearch,r=t.searchPhrase,a=t.logout,s=t.openAddFleetModal,l=ci(),c=function(t){return i(t.target.value)},u=si(o.a.useState(!1),2),h=u[0],f=u[1],g=si(o.a.useState(!1),2),m=g[0],_=g[1];return o.a.createElement(o.a.Fragment,null,ai(P.a,{className:l.paper},void 0,ai(M.a,{className:l.iconButton,"aria-label":"menu",onClick:function(){return _(!0)}},void 0,ui),o.a.createElement(k.FormattedMessage,oi.search,function(t){return ai(O.a,{className:l.input,placeholder:t,onChange:c,value:r})}),ai(M.a,{className:l.iconButton,"arial-label":o.a.createElement(k.FormattedMessage,oi.search)},void 0,hi),ai(p.a,{className:l.divider,orientation:"vertical"}),ai(M.a,{className:l.iconButton,"aria-label":o.a.createElement(k.FormattedMessage,oi.following),onClick:n},void 0,fi)),ai(d.a,{anchor:"left",open:m,onClose:function(){return _(!1)}},void 0,ai("div",{className:l.profile},void 0,ai(A.a,{className:l.avatar}),ai("h4",{className:l.name},void 0,e.name),ai("div",{},void 0,ai("span",{},void 0,e.email),ai(E.a,{variant:"text",color:"primary",onClick:function(){_(!1),f(!0)}},void 0,o.a.createElement(k.FormattedMessage,oi.edit)))),ai("div",{className:l.list,role:"presentation"},void 0,ai(v.a,{},void 0,ai(y.a,{button:!0,onClick:function(){_(!1),s("add")}},"add-fleet",pi,ai(b.a,{primary:o.a.createElement(k.FormattedMessage,oi.addFleet)})),ai(y.a,{button:!0,onClick:function(){_(!1),a()}},"logout",di,ai(b.a,{primary:o.a.createElement(k.FormattedMessage,oi.logout)}))))),ai(ri,{open:h,onClose:function(){return f(!h)}}))}),mi=n("398fee01cee86d8d3bfd"),vi=n("56af34ed4ff7f0ddd6ef"),yi=n("ed8e77f92a2fb9d2cbfa"),_i=n("67249d373779d224be91"),bi=n("85b71a27cbcf93ff4854"),xi=n("3a1f560dcc2cef217ef6"),wi=n("016e72efd45bf6ae01f9"),Ei=n("1977fad39392966fc780"),Mi=n("14407cc432f2bf4f958e"),Oi=n("f1c990499b5bad8f3731"),Si=n("238fef99c154a7dfd239"),Ci=n("9ae32c517479bfbc8a70"),Ti=n("8e0d8d60b701f2c2a59e"),Ii=(n("eafcfe49e6bd3eeab38b"),"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function Pi(t){cancelAnimationFrame(t.id)}function Ri(t,e){var n=Ii();var i={id:requestAnimationFrame(function r(){Ii()-n>=e?t.call(null):i.id=requestAnimationFrame(r)})};return i}var Fi=null;function Li(t){if(void 0===t&&(t=!1),null===Fi||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?Fi="positive-descending":(e.scrollLeft=1,Fi=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),Fi}return Fi}var Ai=150,ki=function(t,e){return t};function ji(t){var e,n,i=t.getItemOffset,o=t.getEstimatedTotalSize,a=t.getItemSize,s=t.getOffsetForIndexAndAlignment,l=t.getStartIndexForOffset,c=t.getStopIndexForStartIndex,u=t.initInstanceProps,h=t.shouldResetStyleCacheOnItemSizeChange,f=t.validateProps;return n=e=function(t){function e(e){var n;return(n=t.call(this,e)||this)._instanceProps=u(n.props,Object(Ci.a)(Object(Ci.a)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(Ci.a)(Object(Ci.a)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object(Ti.a)(function(t,e,i,r){return n.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:i,visibleStopIndex:r})}),n._callOnScroll=void 0,n._callOnScroll=Object(Ti.a)(function(t,e,i){return n.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:i})}),n._getItemStyle=void 0,n._getItemStyle=function(t){var e,r=n.props,o=r.direction,s=r.itemSize,l=r.layout,c=n._getItemStyleCache(h&&s,h&&l,h&&o);if(c.hasOwnProperty(t))e=c[t];else{var u=i(n.props,t,n._instanceProps),f=a(n.props,t,n._instanceProps),p="horizontal"===o||"horizontal"===l,d="rtl"===o,g=p?u:0;c[t]=e={position:"absolute",left:d?void 0:g,right:d?g:void 0,top:p?0:u,height:p?"100%":f,width:p?f:"100%"}}return e},n._getItemStyleCache=void 0,n._getItemStyleCache=Object(Ti.a)(function(t,e,n){return{}}),n._onScrollHorizontal=function(t){var e=t.currentTarget,i=e.clientWidth,r=e.scrollLeft,o=e.scrollWidth;n.setState(function(t){if(t.scrollOffset===r)return null;var e=n.props.direction,a=r;if("rtl"===e)switch(Li()){case"negative":a=-r;break;case"positive-descending":a=o-i-r}return a=Math.max(0,Math.min(a,o-i)),{isScrolling:!0,scrollDirection:t.scrollOffset<r?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._onScrollVertical=function(t){var e=t.currentTarget,i=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;n.setState(function(t){if(t.scrollOffset===o)return null;var e=Math.max(0,Math.min(o,r-i));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._outerRefSetter=function(t){var e=n.props.outerRef;n._outerRef=t,"function"===typeof e?e(t):null!=e&&"object"===typeof e&&e.hasOwnProperty("current")&&(e.current=t)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&Pi(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=Ri(n._resetIsScrolling,Ai)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},function(){n._getItemStyleCache(-1,null)})},n}Object(Si.a)(e,t),e.getDerivedStateFromProps=function(t,e){return Di(t,e),f(t),null};var n=e.prototype;return n.scrollTo=function(t){t=Math.max(0,t),this.setState(function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},n.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props.itemCount,i=this.state.scrollOffset;t=Math.max(0,Math.min(t,n-1)),this.scrollTo(s(this.props,t,e,i,this._instanceProps))},n.componentDidMount=function(){var t=this.props,e=t.direction,n=t.initialScrollOffset,i=t.layout;if("number"===typeof n&&null!=this._outerRef){var r=this._outerRef;"horizontal"===e||"horizontal"===i?r.scrollLeft=n:r.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var t=this.props,e=t.direction,n=t.layout,i=this.state,r=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===e||"horizontal"===n)if("rtl"===e)switch(Li()){case"negative":o.scrollLeft=-r;break;case"positive-ascending":o.scrollLeft=r;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-r}else o.scrollLeft=r;else o.scrollTop=r}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Pi(this._resetIsScrollingTimeoutId)},n.render=function(){var t=this.props,e=t.children,n=t.className,i=t.direction,a=t.height,s=t.innerRef,l=t.innerElementType,c=t.innerTagName,u=t.itemCount,h=t.itemData,f=t.itemKey,p=void 0===f?ki:f,d=t.layout,g=t.outerElementType,m=t.outerTagName,v=t.style,y=t.useIsScrolling,_=t.width,b=this.state.isScrolling,x="horizontal"===i||"horizontal"===d,w=x?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),M=E[0],O=E[1],S=[];if(u>0)for(var C=M;C<=O;C++)S.push(Object(r.createElement)(e,{data:h,key:p(C,h),index:C,isScrolling:y?b:void 0,style:this._getItemStyle(C)}));var T=o(this.props,this._instanceProps);return Object(r.createElement)(g||m||"div",{className:n,onScroll:w,ref:this._outerRefSetter,style:Object(Oi.a)({position:"relative",height:a,width:_,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},v)},Object(r.createElement)(l||c||"div",{children:S,ref:s,style:{height:x?"100%":T,pointerEvents:b?"none":void 0,width:x?T:"100%"}}))},n._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],i=t[2],r=t[3];this._callOnItemsRendered(e,n,i,r)}if("function"===typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,s=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},n._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,i=this.state,r=i.isScrolling,o=i.scrollDirection,a=i.scrollOffset;if(0===e)return[0,0,0,0];var s=l(this.props,a,this._instanceProps),u=c(this.props,s,a,this._instanceProps),h=r&&"backward"!==o?1:Math.max(1,n),f=r&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,s-h),Math.max(0,Math.min(e-1,u+f)),s,u]},e}(r.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var Di=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},Ni=function(t,e,n){var i=t.itemSize,r=n.itemMetadataMap,o=n.lastMeasuredIndex;if(e>o){var a=0;if(o>=0){var s=r[o];a=s.offset+s.size}for(var l=o+1;l<=e;l++){var c=i(l);r[l]={offset:a,size:c},a+=c}n.lastMeasuredIndex=e}return r[e]},zi=function(t,e,n,i,r){for(;i<=n;){var o=i+Math.floor((n-i)/2),a=Ni(t,o,e).offset;if(a===r)return o;a<r?i=o+1:a>r&&(n=o-1)}return i>0?i-1:0},Gi=function(t,e,n,i){for(var r=t.itemCount,o=1;n<r&&Ni(t,n,e).offset<i;)n+=o,o*=2;return zi(t,e,Math.min(n,r-1),Math.floor(n/2),i)},qi=function(t,e){var n=t.itemCount,i=e.itemMetadataMap,r=e.estimatedItemSize,o=e.lastMeasuredIndex,a=0;if(o>=n&&(o=n-1),o>=0){var s=i[o];a=s.offset+s.size}return a+(n-o-1)*r},Bi=ji({getItemOffset:function(t,e,n){return Ni(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:qi,getOffsetForIndexAndAlignment:function(t,e,n,i,r){var o=t.direction,a=t.height,s=t.layout,l=t.width,c="horizontal"===o||"horizontal"===s?l:a,u=Ni(t,e,r),h=qi(t,r),f=Math.max(0,Math.min(h-c,u.offset)),p=Math.max(0,u.offset-c+u.size);switch("smart"===n&&(n=i>=p-c&&i<=f+c?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);case"auto":default:return i>=p&&i<=f?i:i<p?p:f}},getStartIndexForOffset:function(t,e,n){return function(t,e,n){var i=e.itemMetadataMap,r=e.lastMeasuredIndex;return(r>0?i[r].offset:0)>=n?zi(t,e,r,0,n):Gi(t,e,Math.max(0,r),n)}(t,n,e)},getStopIndexForStartIndex:function(t,e,n,i){for(var r=t.direction,o=t.height,a=t.itemCount,s=t.layout,l=t.width,c="horizontal"===r||"horizontal"===s?l:o,u=Ni(t,e,i),h=n+c,f=u.offset+u.size,p=e;p<a-1&&f<h;)f+=Ni(t,++p,i).size;return p},initInstanceProps:function(t,e){var n={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,i){void 0===i&&(i=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),i&&e.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});var Ui,Wi=n("bc52778aa4babd5538cf"),Yi=n("2f3d4de668fb4d70ea9c"),Hi=n.n(Yi),Xi=n("0b25eed4e425475e9ff9"),Ki=n("86dc7434cccb672722d1"),Vi=n.n(Ki),Zi=n("e68eb59aa96fc65ab714"),$i=n.n(Zi),Ji=n("e9cb1a74b44c7bf473df"),Qi=n.n(Ji),tr=n("52b94d0fd50d848aba95"),er=n("f8c4cc511a2da4f715ef"),nr=n("cfab155c45befb529f46"),ir=n("80e80f602055becd595c"),rr=n.n(ir),or=n("d49b87ecf6a512a7e380"),ar=n.n(or),sr=n("a804b82c14c8fd248b2b"),lr=n.n(sr),cr=n("04323db87621e60c823e"),ur=n.n(cr),hr=n("0b0decaa36a89b8a4558"),fr=n("100182af864976edb75f"),pr=n.n(fr),dr=n("14caec635f70dc2c02ca"),gr=n.n(dr),mr=n("ad2ec3ce61b4e80ca5b7"),vr="app.components.Fleet",yr=Object(k.defineMessages)({options:{id:"".concat(vr,".options"),defaultMessage:"Options"},name:{id:"".concat(vr,".name"),defaultMessage:"Name"},uniqueId:{id:"".concat(vr,".uniqueId"),defaultMessage:"Device's Serial"},details:{id:"".concat(vr,".details"),defaultMessage:"Details"},add:{id:"".concat(vr,".add"),defaultMessage:"Add"},edit:{id:"".concat(vr,".edit"),defaultMessage:"Edit"},delete:{id:"".concat(vr,".delete"),defaultMessage:"Delete"},deleteConfirmationMessage:{id:"".concat(vr,".deleteConfirmationMessage"),defaultMessage:"Are you sure to delete the device?"},newDevice:{id:"".concat(vr,".newDevice"),defaultMessage:"new device"},enable:{id:"".concat(vr,".enable"),defaultMessage:"Enable"},disable:{id:"".concat(vr,".disable"),defaultMessage:"Disable"},mode:{id:"".concat(vr,".mode"),defaultMessage:"Mode"},none:{id:"".concat(vr,".none"),defaultMessage:"None"},groups:{id:"".concat(vr,".groups"),defaultMessage:"Groups"},phone:{id:"".concat(vr,".phone"),defaultMessage:"Phone Number"},model:{id:"".concat(vr,".model"),defaultMessage:"Model"},contact:{id:"".concat(vr,".contact"),defaultMessage:"Contact"},category:{id:"".concat(vr,".category"),defaultMessage:"Category"},default:{id:"".concat(vr,".default"),defaultMessage:"Default"},arrow:{id:"".concat(vr,".arrow"),defaultMessage:"arrow"},animal:{id:"".concat(vr,".animal"),defaultMessage:"Animal"},bicycle:{id:"".concat(vr,".bicycle"),defaultMessage:"Bicycle"},boat:{id:"".concat(vr,".boat"),defaultMessage:"Boat"},bus:{id:"".concat(vr,".bus"),defaultMessage:"Bus"},car:{id:"".concat(vr,".car"),defaultMessage:"Car"},crane:{id:"".concat(vr,".crane"),defaultMessage:"Crane"},helicopter:{id:"".concat(vr,".helicopter"),defaultMessage:"Helicopter"},motorcycle:{id:"".concat(vr,".motorcycle"),defaultMessage:"Motorcycle"},offroad:{id:"".concat(vr,".offroad"),defaultMessage:"Offroad"},person:{id:"".concat(vr,".person"),defaultMessage:"Person"},pickup:{id:"".concat(vr,".pickup"),defaultMessage:"Pickup"},plane:{id:"".concat(vr,".plane"),defaultMessage:"Plane"},ship:{id:"".concat(vr,".ship"),defaultMessage:"Ship"},tractor:{id:"".concat(vr,".tractor"),defaultMessage:"Tractor"},truck:{id:"".concat(vr,".truck"),defaultMessage:"Truck"},van:{id:"".concat(vr,".van"),defaultMessage:"Van"}}),_r=["default","arrow","animal","bicycle","boat","bus","car","crane","helicopter","motorcycle","offroad","person","pickup","plane","ship","tractor","truck","van"];function br(t,e,n,i){Ui||(Ui="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Ui,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var xr,wr=Object(s.a)({"MuiSelect-selectMenu":{"& > div":{display:"flex"}}}),Er=function(t){var e=t.defaultValue,n=t.disabled,i=t.onChange,r=wr();return o.a.createElement(o.a.Fragment,null,br(nt.a,{fullWidth:!0},void 0,br(it.a,{},void 0,o.a.createElement(k.FormattedMessage,yr.category)),br(rt.a,{name:"category",required:!0,defaultValue:e||"",onChange:i,disabled:n,className:r["MuiSelect-selectMenu"]},void 0,_r.map(function(t){return br(ot.a,{value:t,style:{textAlign:"center"}},t,br(nn,{icon:Ce[t],alt:t,IconFillId:"arrow"===t?"arrow":"background",IconRotateId:"arrow"===t?"arrow":"background"},void 0,o.a.createElement(k.FormattedMessage,yr[t])))}))))};function Mr(){return(Mr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Or(t,e,n,i){xr||(xr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:xr,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(n),!0).forEach(function(e){Tr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ir(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Pr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Rr,Fr=Or(et.a,{position:"start"},void 0,"+98\xa0"),Lr=o.a.memo(function(t){var e=t.fleet,n=t.groups,i=t.task,a=t.readonly,s=t.onFormChanged,l=t.onValid,c=Ir(Object(r.useState)(xt()(e)?{}:e),2),u=c[0],h=c[1],f=function(t){return"groupId"===t?Ot()(n,function(n){return e?n.id===e[t]:null}):e?e[t]:""},p=function(){return{name:f("name"),uniqueId:f("uniqueId"),groupId:f("groupId"),phone:f("phone"),model:f("model"),contact:f("contact"),category:f("category"),disabled:f("disabled")}},d=Ir(Object(r.useState)(p()),2),g=d[0],m=d[1];Object(r.useEffect)(function(){return m(p())},[n]);var v={name:function(t){return t&&t.length>0},uniqueId:function(t){return t&&t.length>0}},y=Ir(Object(r.useState)({name:!1,uniqueId:!1,groupId:!0,phone:!0,model:!0,contact:!0,category:!0,disabled:!0}),2),_=y[0],b=y[1],x=function(t,e,n){if(!a){var i=t?t.target:{name:e,value:n},r=i.name,o=i.value,c=Cr(Cr({},u),{},Tr({},r,o));h(c),s(r,o),gr()(v,function(t,e){var n,i;_[e]=(n=e,i=c[e],!v[n]||v[n](i))}),b(_),l(pr()(_).every(function(t){return t}))}};return Or(Q.a,{container:!0,spacing:3},void 0,Or(Q.a,{item:!0,xs:12},void 0,Or(tt.a,{name:"name",required:!0,id:"standard-required",label:o.a.createElement(k.FormattedMessage,yr.name),defaultValue:g.name,fullWidth:!0,disabled:a,onChange:x})),Or(Q.a,{item:!0,xs:12},void 0,Or(tt.a,{name:"uniqueId",required:!0,type:"text",label:o.a.createElement(k.FormattedMessage,yr.uniqueId),defaultValue:g.uniqueId,fullWidth:!0,disabled:a,onChange:x})),Or(Q.a,{item:!0,xs:12},void 0,Or(nt.a,{fullWidth:!0},void 0,Or(mr.a,{defaultValue:g.groupId,onChange:function(t,e){return x(null,"groupId",e&&e.id)},options:n,disabled:a,getOptionLabel:function(t){return t.name||""},getOptionSelected:function(t,e){return function(t,e){return t.id===e.id}(t,e)},renderInput:function(t){return o.a.createElement(tt.a,Mr({},t,{label:o.a.createElement(k.FormattedMessage,yr.groups)}))}}))),Or(Q.a,{item:!0,xs:12},void 0,Or(tt.a,{name:"phone",type:"text",label:o.a.createElement(k.FormattedMessage,yr.phone),defaultValue:g.phone,fullWidth:!0,disabled:a,onChange:x,InputProps:{startAdornment:Fr,style:{direction:"ltr"}}})),Or(Q.a,{item:!0,xs:12},void 0,Or(tt.a,{name:"model",type:"text",label:o.a.createElement(k.FormattedMessage,yr.model),defaultValue:g.model,fullWidth:!0,disabled:a,onChange:x})),Or(Q.a,{item:!0,xs:12},void 0,Or(tt.a,{name:"contact",type:"text",label:o.a.createElement(k.FormattedMessage,yr.contact),defaultValue:g.contact,fullWidth:!0,disabled:a,onChange:x})),Or(Q.a,{item:!0,xs:12},void 0,Or(Er,{defaultValue:g.category,disabled:a,onChange:x})),"edit"===i?Or(Q.a,{item:!0,xs:12},void 0,Or(nt.a,{fullWidth:!0},void 0,Or(it.a,{},void 0,o.a.createElement(k.FormattedMessage,yr.mode)),Or(rt.a,{name:"disabled",fullWidth:!0,defaultValue:g.disabled,disabled:a,onChange:x},void 0,Or(ot.a,{value:!1},void 0,Or(nn,{},void 0,o.a.createElement(k.FormattedMessage,yr.enable))),Or(ot.a,{value:!0},void 0,Or(nn,{},void 0,o.a.createElement(k.FormattedMessage,yr.disable)))))):null)});function Ar(t){return(Ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kr(Object(n),!0).forEach(function(e){Ur(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Dr(t,e,n,i){Rr||(Rr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Rr,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Nr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Br(t);if(e){var r=Br(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"===typeof e))return e;return qr(t)}(this,n)}}function qr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wr=Dr("span",{},void 0,"("),Yr=Dr("span",{},void 0,")"),Hr=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(s,r["PureComponent"]);var e,n,i,a=Gr(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Ur(qr(e=a.call(this,t)),"sanitizeDetails",function(t){return{id:t.id,name:t.name,uniqueId:t.uniqueId,status:t.status,positionId:t.positionId,groupId:t.groupId,phone:t.phone,model:t.model,contact:t.contact,category:t.category,geofenceIds:t.geofenceIds,attributes:t.attributes,disabled:t.disabled,lastUpdate:t.lastUpdate}}),Ur(qr(e),"getModalTitle",function(t,e){return t&&e?Dr("strong",{},void 0,Dr("span",{style:{marginLeft:"5px"}},void 0,t),Wr,e,Yr):Dr("strong",{},void 0,t)}),Ur(qr(e),"handleFormChanges",function(t,n){e.state.fleetDetails=jr(jr({},e.state.fleetDetails),{},Ur({},t,n))}),e.state={fleetDetails:"add"===e.props.task?{}:e.sanitizeDetails(e.props.fleet),shouldButtonDisabled:"delete"!==e.props.task},e}return e=s,(n=[{key:"componentDidMount",value:function(){"add"!==this.props.task&&this.props.getFleet(this.props.fleet.id)}},{key:"render",value:function(){var t=this,e=this.props.task&&o.a.createElement(k.FormattedMessage,yr[this.props.task]),n=this.getModalTitle(o.a.createElement(k.FormattedMessage,yr[this.props.task]),"add"===this.props.task?o.a.createElement(k.FormattedMessage,yr.newDevice):this.props.fleet.name),i=[{action:function(){t.props.action(t.state.fleetDetails),t.setState(jr(jr({},t.state),{},{shouldButtonDisabled:!0}))},color:"primary",text:e,disabled:this.state.shouldButtonDisabled||this.props.showLoader,showLoader:this.props.showLoader}];return n&&Dr(J,{open:this.props.open,onClose:this.props.onClose,modalTitle:n,modalActions:"details"!==this.props.task?i:[]},void 0,"details"===this.props.task&&Dr(Lr,{fleet:this.state.fleetDetails,groups:this.props.groups,task:this.props.task,readonly:!0}),"add"===this.props.task&&Dr(Lr,{fleet:this.state.fleetDetails,groups:this.props.groups,task:this.props.task,onFormChanged:this.handleFormChanges,onValid:function(e){t.setState(jr(jr({},t.state),{},{shouldButtonDisabled:t.props.showLoader||!e}))}}),"edit"===this.props.task&&Dr(Lr,{fleet:this.state.fleetDetails,groups:this.props.groups,task:this.props.task,onFormChanged:this.handleFormChanges,onValid:function(e){t.setState(jr(jr({},t.state),{},{shouldButtonDisabled:t.props.showLoader||!e}))}}),"delete"===this.props.task&&o.a.createElement(k.FormattedMessage,yr.deleteConfirmationMessage))}}])&&Nr(e.prototype,n),i&&Nr(e,i),s}(),Xr=o.a.memo(Hr),Kr="app/Fleet/GET_FLEET_REQUEST",Vr="app/Fleet/ADD_FLEET_REQUEST",Zr="app/Fleet/EDIT_FLEET_REQUEST",$r="app/Fleet/DELETE_FLEET_REQUEST",Jr=function(t){return{type:Kr,payload:t}},Qr=function(t){return{type:"app/Fleet/GET_FLEET_SUCCESSFUL",payload:t}},to=function(t){return{type:"app/Fleet/GET_FLEET_FAILED",payload:t}},eo=function(t){return{type:Vr,payload:t}},no=function(t){return{type:"app/Fleet/ADD_FLEET_SUCCESSFUL",payload:t}},io=function(t){return{type:"app/Fleet/ADD_FLEET_FAILED",payload:t}},ro=function(t){return{type:Zr,payload:t}},oo=function(t){return{type:"app/Fleet/EDIT_FLEET_SUCCESSFUL",payload:t}},ao=function(t){return{type:"app/Fleet/EDIT_FLEET_FAILED",payload:t}},so=function(t){return{type:$r,payload:t}},lo=function(t){return{type:"app/Fleet/DELETE_FLEET_SUCCESSFUL",payload:t}},co=function(t){return{type:"app/Fleet/DELETE_FLEET_FAILED",payload:t}},uo=n("da010f21fea25912dd9e"),ho=n.n(uo),fo={fleet:{id:0,name:"",uniqueId:"",status:"",lastUpdate:ho()().toDate(),positionId:0,groupId:0,phone:"",model:"",contact:"",category:"",geofenceIds:[],attributes:{}},showLoader:!1,error:null},po=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo,e=arguments.length>1?arguments[1]:void 0;return Object(Tn.a)(t,function(t){var n=e.payload;switch(e.type){case Kr:t.showLoader=!0,t.error=null;break;case"app/Fleet/GET_FLEET_SUCCESSFUL":t.fleet=n,t.showLoader=!1,t.error=null;break;case"app/Fleet/GET_FLEET_FAILED":t.error=n,t.showLoader=!1;break;case Vr:t.showLoader=!0,t.error=null;break;case"app/Fleet/ADD_FLEET_SUCCESSFUL":t.fleet=n,t.showLoader=!1,t.error=null;break;case"app/Fleet/ADD_FLEET_FAILED":t.error=n,t.showLoader=!1;break;case Zr:t.showLoader=!0,t.error=null;break;case"app/Fleet/EDIT_FLEET_SUCCESSFUL":t.fleet=n,t.showLoader=!1,t.error=null;break;case"app/Fleet/EDIT_FLEET_FAILED":t.error=n,t.showLoader=!1;break;case $r:t.showLoader=!0,t.error=null;break;case"app/Fleet/DELETE_FLEET_SUCCESSFUL":t.fleet=fo.fleet,t.showLoader=!1,t.error=null;break;case"app/Fleet/DELETE_FLEET_FAILED":t.error=n,t.showLoader=!1}})},go=function(t){return t.fleet||fo},mo=Object(k.defineMessages)({addFleetSuccessful:{id:"".concat("app.containers.FleetContainer",".addFleetSuccessful"),defaultMessage:"Added successfully"},addFleetFailed:{id:"".concat("app.containers.FleetContainer",".addFleetFailed"),defaultMessage:"Check inputs"},editFleetSuccessful:{id:"".concat("app.containers.FleetContainer",".editFleetSuccessful"),defaultMessage:"Edited successfully"},editFleetFailed:{id:"".concat("app.containers.FleetContainer",".editFleetFailed"),defaultMessage:"Check inputs"},deleteFleetSuccessful:{id:"".concat("app.containers.FleetContainer",".deleteFleetSuccessful"),defaultMessage:"Deleted successfully"},deleteFleetFailed:{id:"".concat("app.containers.FleetContainer",".deleteFleetFailed"),defaultMessage:"Something's wrong. please try again later"}}),vo="app/FleetsDrawer/FETCH_DEVICES_FAIL",yo="app/FleetsDrawer/FETCH_DEVICES_REQUEST",_o="app/FleetsDrawer/FETCH_DEVICES_SUCCESS",bo="app/FleetsDrawer/SOCKET_CONNECTION_FAIL",xo="app/FleetsDrawer/SOCKET_MESSAGE_RECEIVE",wo="app/FleetsDrawer/SOCKET_CONNECTION_REQUEST",Eo="app/FleetsDrawer/SOCKET_CONNECTION_SUCCESS",Mo="app/FleetDrawer/UPDATE_FILTER_PANEL_STATE",Oo="app/FleetsDrawer/PIN_DEVICE",So="app/FleetsDrawer/SELECT_DEVICE_IN_LIST",Co="app/FleetsDrawer/SET_SEARCH_PHRASE",To="app/FleetsDrawer/TOGGLE_LIVE_ROUTE",Io="app/FleetsDrawer/SET_FLEET_FILTERS",Po="app/FleetsDrawer/FETCH_FLEET_GROUPS_REQUEST",Ro="app/FleetsDrawer/FETCH_FLEET_GROUPS_SUCCESSFUL",Fo="app/FleetsDrawer/FETCH_FLEET_GROUPS_FAILED",Lo={error:null,fleets:[],groups:[],isFilterPanelOpen:!1,isLiveRouteEnabled:!1,selectedDeviceUniqueId:null,pinnedDeviceUniqueId:null,searchPhrase:null,showLoader:!1,filters:{name:null,status:null,groupId:[],speed:null}},Ao=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lo,e=arguments.length>1?arguments[1]:void 0;return Object(Tn.a)(t,function(t){switch(e.type){case vo:t.fleets=[],t.error=e.payload,t.showLoader=!1;break;case yo:t.fleets=[],t.showLoader=!0,t.error=null;break;case _o:t.fleets=e.payload,t.showLoader=!1,t.error=null;break;case Oo:t.pinnedDeviceUniqueId=e.payload;break;case So:t.selectedDeviceUniqueId!==e.payload&&(t.pinnedDeviceUniqueId=null),t.selectedDeviceUniqueId=e.payload;break;case Co:t.searchPhrase=e.payload||null;break;case xo:e.payload.devices?t.fleets=Ne(t.fleets,e.payload.devices,e.server):e.payload.positions&&(t.fleets=(n=t.fleets,i=e.payload.positions,r=e.server,o=n,i.forEach(function(t){var e=Lt()(o,["id",t.deviceId]);if(e>-1){var n=o[e];if(n.positions=o[e].positions||[],n.positions.length>0&&n.positions.slice(-1)[0].id===t.id)return;n.speed=Ie(t.speed,r.attributes.speedUnit),n.formattedSpeed=Pe(t.speed,r.attributes.speedUnit),n.icon=Be(Ce[n.category||"default"],De(n,t),t.course,"arrow"===n.category?"arrow":"background","arrow"===n.category?"arrow":"background"),n.positions.push(ke({uniqueId:n.uniqueId,category:n.category||"default",color:De(n,t),height:n.icon.height,icon:n.icon.source,name:n.name,width:n.icon.width},t)),o[e].positions.length>10&&o[e].positions.shift()}}),o));break;case To:t.isLiveRouteEnabled=!t.isLiveRouteEnabled;break;case Mo:t.isFilterPanelOpen=!t.isFilterPanelOpen;break;case Io:t.filters=e.payload;break;case Po:t.groups=[],t.showLoader=!0,t.error=null;break;case Ro:t.groups=e.payload,t.showLoader=!1,t.error=null;break;case Fo:t.groups=[],t.showLoader=!1,t.error=e.payload;break;case"app/FleetsDrawer/UPDATE_FLEETS":t.fleets=function(t,e,n,i){return"add"===i?t.push(e):"delete"===i?gt()(t,function(t){return t.id===e.id}):Ne(t,[e],n),t}(t.fleets,e.payload,e.server,e.task)}var n,i,r,o})};function ko(t,e){return t>e?1:t<e?-1:0}function jo(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var r=void 0;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function Do(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function No(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function zo(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Go(){return!0}function qo(){return!1}function Bo(){}var Uo="postrender",Wo="movestart",Yo="moveend";function Ho(){return function(){throw new Error("Unimplemented abstract method.")}()}var Xo=0;function Ko(t){return t.ol_uid||(t.ol_uid=String(++Xo))}var Vo="6.1.1",Zo="propertychange",$o="function"===typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(void 0!==o&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Jo(t){for(var e in t)delete t[e]}var Qo="function"===typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function ta(t){var e;for(e in t)return!1;return!e}function ea(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function na(t,e,n,i){return ea(t,e,n,i,!0)}function ia(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Jo(t))}var ra=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();var oa=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sa=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return aa(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=[],this.listeners_[t]=n),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new oa(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,a=r.length;o<a;++o)if(!1===r[o].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,Bo);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){Jo(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(t in this.pendingRemovals_?(n[i]=Bo,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(ra),la={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"},ca=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var ua=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return ca(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(la.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=ea(this,t[r],e);return i}return ea(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=na(this,t[r],e);return i}return na(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(sa),ha=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fa=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.key=n,r.oldValue=i,r}return ha(e,t),e}(oa),pa=function(t){function e(e){var n=t.call(this)||this;return Ko(n),n.values_={},void 0!==e&&n.setProperties(e),n}return ha(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return $o({},this.values_)},e.prototype.notify=function(t,e){var n;n=ga(t),this.dispatchEvent(new fa(n,t,e)),n=Zo,this.dispatchEvent(new fa(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(ua),da={};function ga(t){return da.hasOwnProperty(t)?da[t]:da[t]="change:"+t}var ma=pa;function va(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function ya(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function _a(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function ba(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function xa(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function wa(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Ea,Ma,Oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sa=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:Bo,e.target&&n.setTarget(e.target),n}return Oa(e,t),e.prototype.disposeInternal=function(){xa(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&xa(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)ia(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Bo&&this.listenerKeys.push(ea(t,Uo,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(ma),Ca="ol-hidden",Ta="ol-selectable",Ia="ol-unselectable",Pa="ol-control",Ra="ol-collapsed",Fa=(Ma={},function(t){if(Ea||(Ea=document.createElement("div").style),!(t in Ma)){Ea.font=t;var e=Ea.fontFamily,n=Ea.fontWeight,i=Ea.fontStyle;if(Ea.font="",!e)return null;var r=e.split(/,\s?/);Ma[t]={families:r,weight:n,style:i}}return Ma[t]}),La={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"};function Aa(t,e,n){return Math.min(Math.max(t,e),n)}var ka="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function ja(t,e,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return Da(t,e,n,i)}function Da(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function Na(t){return t*Math.PI/180}function za(t,e){var n=t%e;return n*e<0?n+e:n}function Ga(t,e,n){return t+n*(e-t)}var qa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ba=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===Vo?Vo:"v"+Vo.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return qa(e,t),e}(Error);function Ua(t,e){if(!t)throw new Ba(e)}var Wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ya=function(t){function e(e){var n=t.call(this)||this,i=$o({},e);return i[La.OPACITY]=void 0!==e.opacity?e.opacity:1,Ua("number"===typeof i[La.OPACITY],64),i[La.VISIBLE]=void 0===e.visible||e.visible,i[La.Z_INDEX]=e.zIndex,i[La.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[La.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,i[La.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,i[La.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return Wa(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Aa(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Ho()},e.prototype.getLayerStatesArray=function(t){return Ho()},e.prototype.getExtent=function(){return this.get(La.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(La.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(La.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(La.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(La.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(La.OPACITY)},e.prototype.getSourceState=function(){return Ho()},e.prototype.getVisible=function(){return this.get(La.VISIBLE)},e.prototype.getZIndex=function(){return this.get(La.Z_INDEX)},e.prototype.setExtent=function(t){this.set(La.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(La.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(La.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(La.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(La.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Ua("number"===typeof t,64),this.set(La.OPACITY,t)},e.prototype.setVisible=function(t){this.set(La.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(La.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(ma),Ha="prerender",Xa="postrender",Ka="precompose",Va="postcompose",Za="rendercomplete",$a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Ja=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Qa(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}var ts=function(t){function e(e){var n=this,i=$o({},e);delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(ga(La.SOURCE),n.handleSourcePropertyChange_);var r=e.source?e.source:null;return n.setSource(r),n}return Ja(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(La.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():$a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ia(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=ea(t,la.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(ia(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(ia(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ea(t,Ka,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=ea(this,la.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(La.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Ya),es=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ns(t){this.updateElement_(t.frameState)}var is=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render||ns,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"\xbb";"string"===typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==i.label?i.label:"i";"string"===typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var l=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=o,c.appendChild(l),c.addEventListener(la.CLICK,n.handleClick_.bind(n),!1);var u=r+" "+Ia+" "+Pa+(n.collapsed_&&n.collapsible_?" "+Ra:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=u,h.appendChild(n.ulElement_),h.appendChild(c),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return es(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=0,o=i.length;r<o;++r){var a=i[r];if(Qa(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var u=0,h=c.length;u<h;++u)c[u]in e||(n.push(c[u]),e[c[u]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!zo(e,this.renderedAttributions_)){wa(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Ra),this.collapsed_?ba(this.collapseLabel_,this.label_):ba(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Sa),rs=.5,os={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function as(t){return Math.pow(t,3)}function ss(t){return 1-as(1-t)}function ls(t){return 3*t*t-2*t*t*t}function cs(t){return t}var us=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hs=function(t){function e(e,n,i){var r=t.call(this)||this,o=i||{};return r.tileCoord=e,r.state=n,r.interimTile=null,r.hifi=!0,r.key="",r.transition_=void 0===o.transition?250:o.transition,r.transitionStarts_={},r}return us(e,t),e.prototype.changed=function(){this.dispatchEvent(la.CHANGE)},e.prototype.disposeInternal=function(){this.setState(os.ABORT)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==os.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==os.LOADED){t.interimTile=null;break}t.getState()==os.LOADING?e=t:t.getState()==os.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==os.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Ho()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:as(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(sa),fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ps=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=r,o}return fs(e,t),e.prototype.changed=function(){this.dispatchEvent(la.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Ho()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Ho()},e}(sa),ds={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},gs={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ms={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function vs(t){for(var e=Os(),n=0,i=t.length;n<i;++n)Ps(e,t[n]);return e}function ys(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function _s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function bs(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function xs(t,e){return Es(t,e[0],e[1])}function ws(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Es(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Ms(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=ms.UNKNOWN;return a<n?l|=ms.LEFT:a>r&&(l|=ms.RIGHT),s<i?l|=ms.BELOW:s>o&&(l|=ms.ABOVE),l===ms.UNKNOWN&&(l=ms.INTERSECTING),l}function Os(){return[1/0,1/0,-1/0,-1/0]}function Ss(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function Cs(t){return Ss(1/0,1/0,-1/0,-1/0,t)}function Ts(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Is(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Ps(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Rs(t,e){for(var n=0,i=e.length;n<i;++n)Ps(t,e[n]);return t}function Fs(t,e,n,i,r){for(;n<i;n+=r)Ls(t,e[n],e[n+1]);return t}function Ls(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function As(t){var e=0;return Hs(t)||(e=Ws(t)*Gs(t)),e}function ks(t){return[t[0],t[1]]}function js(t){return[t[2],t[1]]}function Ds(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Ns(t,e){var n;return e===gs.BOTTOM_LEFT?n=ks(t):e===gs.BOTTOM_RIGHT?n=js(t):e===gs.TOP_LEFT?n=Bs(t):e===gs.TOP_RIGHT?n=Us(t):Ua(!1,13),n}function zs(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),c=o*s,u=o*l,h=a*s,f=a*l,p=t[0],d=t[1],g=p-c+f,m=p-c-f,v=p+c-f,y=p+c+f,_=d-u-h,b=d-u+h,x=d+u+h,w=d+u-h;return Ss(Math.min(g,m,v,y),Math.min(_,b,x,w),Math.max(g,m,v,y),Math.max(_,b,x,w),r)}function Gs(t){return t[3]-t[1]}function qs(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return Ys(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Cs(i),i}function Bs(t){return[t[0],t[3]]}function Us(t){return[t[2],t[3]]}function Ws(t){return t[2]-t[0]}function Ys(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Hs(t){return t[2]<t[0]||t[3]<t[1]}function Xs(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return Ss(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}var Ks="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Vs=-1!==Ks.indexOf("firefox"),Zs=(-1!==Ks.indexOf("safari")&&Ks.indexOf("chrom"),-1!==Ks.indexOf("webkit")&&-1==Ks.indexOf("edge")),$s=-1!==Ks.indexOf("macintosh"),Js=window.devicePixelRatio||1,Qs="undefined"!==typeof Image&&Image.prototype.decode,tl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function el(t,e,n){var i=t;if(i.src&&Qs){var r=i.decode(),o=!0;return r.then(function(){o&&e()}).catch(function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){o=!1}}var a=[na(i,la.LOAD,e),na(i,la.ERROR,n)];return function(){a.forEach(ia)}}!function(t){function e(e,n,i,r,o,a){var s=t.call(this,e,n,i,ds.IDLE)||this;return s.src_=r,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=ds.IDLE,s.imageLoadFunction_=a,s}tl(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ds.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Gs(this.extent)/this.image_.height),this.state=ds.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ds.IDLE&&this.state!=ds.ERROR||(this.state=ds.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=el(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(ps);var nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function il(){var t=va(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var rl=function(t){function e(e,n,i,r,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=r,s.src_=i,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.tileLoadFunction_=o,s}return nl(e,t),e.prototype.disposeInternal=function(){this.state==os.LOADING&&(this.unlistenImage_(),this.image_=il()),this.interimTile&&this.interimTile.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=os.ERROR,this.unlistenImage_(),this.image_=il(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=os.LOADED:this.state=os.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==os.ERROR&&(this.state=os.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==os.IDLE&&(this.state=os.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=el(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(hs),ol=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),al=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return ol(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(la.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return Ua(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Ua(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Ua(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(sa);function sl(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function ll(t,e,n){return t+"/"+e+"/"+n}function cl(t){return ll(t[0],t[1],t[2])}var ul=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hl=function(t){function e(e){return t.call(this,e)||this}return ul(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(cl(e.tileCoord)),e.dispose())}.bind(this))}},e}(al),fl={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},pl=6371008.8;function dl(t,e,n){var i=n||pl,r=Na(t[1]),o=Na(e[1]),a=(o-r)/2,s=Na(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var gl={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ml={};ml[gl.DEGREES]=2*Math.PI*6370997/360,ml[gl.FEET]=.3048,ml[gl.METERS]=1,ml[gl.USFEET]=1200/3937;var vl=gl,yl=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ml[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),_l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bl=6378137,xl=Math.PI*bl,wl=[-xl,-xl,xl,xl],El=[-180,-85,180,85],Ml=function(t){function e(e){return t.call(this,{code:e,units:vl.METERS,extent:wl,global:!0,worldExtent:El,getPointResolution:function(t,e){return t/ka(e[1]/bl)}})||this}return _l(e,t),e}(yl),Ol=[new Ml("EPSG:3857"),new Ml("EPSG:102100"),new Ml("EPSG:102113"),new Ml("EPSG:900913"),new Ml("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Ml("urn:ogc:def:crs:EPSG::3857"),new Ml("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Sl(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=xl,s=0;s<i;s+=r){o[s]=a*t[s]/180;var l=bl*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function Cl(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r)o[a]=180*t[a]/xl,o[a+1]=360*Math.atan(Math.exp(t[a+1]/bl))/Math.PI-90;return o}var Tl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Il=[-180,-90,180,90],Pl=6378137*Math.PI/180,Rl=function(t){function e(e,n){return t.call(this,{code:e,units:vl.DEGREES,extent:Il,axisOrientation:n,global:!0,metersPerUnit:Pl,worldExtent:Il})||this}return Tl(e,t),e}(yl),Fl=[new Rl("CRS:84"),new Rl("EPSG:4326","neu"),new Rl("urn:ogc:def:crs:EPSG::4326","neu"),new Rl("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Rl("urn:ogc:def:crs:OGC:1.3:CRS84"),new Rl("urn:ogc:def:crs:OGC:2:84"),new Rl("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Rl("urn:x-ogc:def:crs:EPSG:4326","neu")],Ll={};function Al(t,e,n){var i=t.getCode(),r=e.getCode();i in Ll||(Ll[i]={}),Ll[i][r]=n}function kl(t,e){var n;return t in Ll&&e in Ll[t]&&(n=Ll[t][e]),n}var jl={};function Dl(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function Nl(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function zl(t){!function(t,e){jl[t]=e}(t.getCode(),t),Al(t,t,Dl)}function Gl(t){return"string"===typeof t?jl[t]||null:t||null}function ql(t,e,n,i){var r,o=(t=Gl(t)).getPointResolutionFunc();if(o)r=o(e,n),i&&i!==t.getUnits()&&(a=t.getMetersPerUnit())&&(r=r*a/ml[i]);else if(t.getUnits()==vl.DEGREES&&!i||i==vl.DEGREES)r=e;else{var a,s=Xl(t,Gl("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(dl((l=s(l,l,2)).slice(0,2),l.slice(2,4))+dl(l.slice(4,6),l.slice(6,8)))/2,void 0!==(a=i?ml[i]:t.getMetersPerUnit())&&(r/=a)}return r}function Bl(t){!function(t){t.forEach(zl)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Al(e,t,Dl)})})}function Ul(t,e){return t?"string"===typeof t?Gl(t):t:Gl(e)}function Wl(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,a=void 0!==n?n:new Array(r),s=0;s<r;s+=o){var l=t([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var c=o-1;c>=2;--c)a[s+c]=e[s+c]}return a}}function Yl(t,e){return Vl(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Hl(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Xl(t,e)===Dl&&n}function Xl(t,e){var n=kl(t.getCode(),e.getCode());return n||(n=Nl),n}function Kl(t,e){return Xl(Gl(t),Gl(e))}function Vl(t,e,n){return Kl(e,n)(t,void 0,t.length)}function Zl(t,e,n){return Xs(t,Kl(e,n))}var $l,Jl,Ql,tc=null;function ec(){return tc}function nc(t,e){return tc?Vl(t,e,tc):t}function ic(t,e){return tc?Vl(t,tc,e):t}function rc(t,e){return tc?Zl(t,e,tc):t}function oc(t,e){return tc?Zl(t,tc,e):t}function ac(t,e,n,i){var r=n-t,o=i-e,a=Math.sqrt(r*r+o*o);return[Math.round(n+r/a),Math.round(i+o/a)]}function sc(t,e,n,i,r,o,a,s,l,c,u){var h=va(Math.round(n*t),Math.round(n*e));if(0===l.length)return h.canvas;h.scale(n,n);var f=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){Is(f,t.extent)});var p=Ws(f),d=Gs(f),g=va(Math.round(n*p/i),Math.round(n*d/i)),m=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-f[0],r=-(t.extent[3]-f[3]),o=Ws(t.extent),a=Gs(t.extent);g.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,i*m,r*m,o*m,a*m)});var v=Bs(a);return s.getTriangles().forEach(function(t,e,r){var a=t.source,s=t.target,l=a[0][0],c=a[0][1],u=a[1][0],p=a[1][1],d=a[2][0],m=a[2][1],y=(s[0][0]-v[0])/o,_=-(s[0][1]-v[1])/o,b=(s[1][0]-v[0])/o,x=-(s[1][1]-v[1])/o,w=(s[2][0]-v[0])/o,E=-(s[2][1]-v[1])/o,M=l,O=c;l=0,c=0;var S=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=c*t[n][u]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}([[u-=M,p-=O,0,0,b-y],[d-=M,m-=O,0,0,w-y],[0,0,u,p,x-_],[0,0,d,m,E-_]]);if(S){h.save(),h.beginPath();var C=(y+b+w)/3,T=(_+x+E)/3,I=ac(C,T,y,_),P=ac(C,T,b,x),R=ac(C,T,w,E);h.moveTo(P[0],P[1]),h.lineTo(I[0],I[1]),h.lineTo(R[0],R[1]),h.clip(),h.transform(S[0],S[2],S[1],S[3],y,_),h.translate(f[0]-M,f[3]-O),h.scale(i/n,-i/n),h.drawImage(g.canvas,0,0),h.restore()}}),u&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-v[0])/o,a=-(i[0][1]-v[1])/o,s=(i[1][0]-v[0])/o,l=-(i[1][1]-v[1])/o,c=(i[2][0]-v[0])/o,u=-(i[2][1]-v[1])/o;h.beginPath(),h.moveTo(s,l),h.lineTo(r,a),h.lineTo(c,u),h.closePath(),h.stroke()}),h.restore()),h.canvas}Bl(Ol),Bl(Fl),$l=Ol,Jl=Sl,Ql=Cl,Fl.forEach(function(t){$l.forEach(function(e){Al(t,e,Jl),Al(e,t,Ql)})});var lc=10,cc=function(){function t(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},a=Kl(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Ws(i)==Ws(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ws(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ws(this.targetProj_.getExtent()):null;var s=Bs(n),l=Us(n),c=js(n),u=ks(n),h=this.transformInv_(s),f=this.transformInv_(l),p=this.transformInv_(c),d=this.transformInv_(u);if(this.addQuad_(s,l,c,u,h,f,p,d,lc),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}}return t.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,r,o,a,s,l){var c=vs([r,o,a,s]),u=this.sourceWorldWidth_?Ws(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&u>.5&&u<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)p=Ws(vs([t,e,n,i]))/this.targetWorldWidth_>.25||p;!f&&this.sourceProj_.isGlobal()&&u&&(p=u>.25||p)}if(p||!this.maxSourceExtent_||Ys(c,this.maxSourceExtent_)){if(!p&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var d=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(d),m=void 0;if(f)m=(za(r[0],h)+za(a[0],h))/2-za(g[0],h);else m=(r[0]+a[0])/2-g[0];var v=(r[1]+a[1])/2-g[1];p=m*m+v*v>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(y),b=[(i[0]+t[0])/2,(i[1]+t[1])/2],x=this.transformInv_(b);this.addQuad_(t,e,y,b,r,o,_,x,l-1),this.addQuad_(b,y,n,i,x,_,a,s,l-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(w),M=[(n[0]+i[0])/2,(n[1]+i[1])/2],O=this.transformInv_(M);this.addQuad_(t,w,M,i,r,E,O,s,l-1),this.addQuad_(w,e,n,M,E,o,a,O,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,a,s),this.addTriangle_(t,e,n,r,o,a)}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var r=e.source;Ps(t,r[0]),Ps(t,r[1]),Ps(t,r[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hc=function(t){function e(e,n,i,r,o,a,s,l,c,u,h){var f=t.call(this,o,os.IDLE)||this;f.renderEdges_=void 0!==h&&h,f.pixelRatio_=s,f.gutter_=l,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=r,f.wrappedTileCoord_=a||o,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var p=r.getTileCoordExtent(f.wrappedTileCoord_),d=f.targetTileGrid_.getExtent(),g=f.sourceTileGrid_.getExtent(),m=d?qs(p,d):p;if(0===As(m))return f.state=os.EMPTY,f;var v=e.getExtent();v&&(g=g?qs(g,v):v);var y=r.getResolution(f.wrappedTileCoord_[0]),_=function(t,e,n,i){var r=Vl(n,e,t),o=ql(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var l=t.getExtent();if(!l||xs(l,r)){var c=ql(t,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}(e,i,Ds(m),y);if(!isFinite(_)||_<=0)return f.state=os.EMPTY,f;var b=void 0!==u?u:rs;if(f.triangulation_=new cc(e,i,m,g,_*b),0===f.triangulation_.getTriangles().length)return f.state=os.EMPTY,f;f.sourceZ_=n.getZForResolution(_);var x=f.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(x[1]=Aa(x[1],g[1],g[3]),x[3]=Aa(x[3],g[1],g[3])):x=qs(x,g)),As(x)){for(var w=n.getTileRangeForExtentAndZ(x,f.sourceZ_),E=w.minX;E<=w.maxX;E++)for(var M=w.minY;M<=w.maxY;M++){var O=c(f.sourceZ_,E,M,s);O&&f.sourceTiles_.push(O)}0===f.sourceTiles_.length&&(f.state=os.EMPTY)}else f.state=os.EMPTY;return f}return uc(e,t),e.prototype.disposeInternal=function(){this.state==os.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==os.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=os.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],r="number"===typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=sc(i,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=os.LOADED}this.changed()},e.prototype.load=function(){if(this.state==os.IDLE){this.state=os.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==os.IDLE||r==os.LOADING){t++;var o=ea(e,la.CHANGE,function(n){var i=e.getState();i!=os.LOADED&&i!=os.ERROR&&i!=os.EMPTY||(ia(o),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==os.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ia),this.sourcesListenerKeys_=null},e}(hs);function fc(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,a[2].toString()).replace(o,function(){var t=a[0],n=e.getFullTileRange(t);return Ua(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function pc(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=fc(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),o=za(r,t.length);return t[o](e,n,i)}}}(i)}function dc(t,e,n){}function gc(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var mc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function vc(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var yc=function(t){function e(e){var n=t.call(this)||this;return n.projection_=Gl(e.projection),n.attributions_=vc(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:$a.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return mc(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Ho()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=vc(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(ma),_c=42,bc=256,xc=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function wc(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new xc(t,e,n,i)}var Ec=xc,Mc=[0,0,0],Oc=function(){function t(t){var e,n,i,r;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Ua((e=this.resolutions_,n=!0,i=function(t,e){return e-t}||ko,e.every(function(t,r){if(0===r)return!0;var o=i(e[r-1],t);return!(o>0||n&&0===o)})),17),!t.origins)for(var o=0,a=this.resolutions_.length-1;o<a;++o)if(r){if(this.resolutions_[o]/this.resolutions_[o+1]!==r){r=void 0;break}}else r=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Ua(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=Bs(s)),Ua(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Ua(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:bc,Ua(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Ec(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,r,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var r,o,a=null,s=t[0]-1;for(2===this.zoomFactor_?(r=t[1],o=t[2]):a=this.getTileCoordExtent(t,i);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?wc(r=Math.floor(r/2),r,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return wc(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=gc(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*o[0]*r,s=i[0]+(e.maxX+1)*o[0]*r;return Ss(a,i[1]+e.minY*o[1]*r,s,i[1]+(e.maxY+1)*o[1]*r,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=Mc;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),wc(r,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=gc(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=gc(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,a=n[1]-(t[2]+1)*r[1]*i;return Ss(o,a,o+r[0]*i,a+r[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=gc(this.getTileSize(o),this.tmpSize_),c=i?.5:0,u=i?.5:0,h=Math.floor((t-s[0])/n+c),f=Math.floor((s[1]-e)/n+u),p=a*h/l[0],d=a*f/l[1];return i?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),sl(o,p,d,r)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=gc(this.getTileSize(n),this.tmpSize_),l=i?.5:0,c=i?.5:0,u=Math.floor((t-o[0])/a+l),h=Math.floor((o[1]-e)/a+c),f=u/s[0],p=h/s[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),sl(n,f,p,r)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){return Aa(jo(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();function Sc(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var r=void 0!==i?i:gs.TOP_LEFT,o=Cc(t,e,n);return new Oc({extent:t,origin:Ns(t,r),resolutions:o,tileSize:n})}(Tc(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function Cc(t,e,n){for(var i=void 0!==e?e:_c,r=Gs(t),o=Ws(t),a=gc(void 0!==n?n:bc),s=Math.max(o/a[0],r/a[1]),l=i+1,c=new Array(l),u=0;u<l;++u)c[u]=s/Math.pow(2,u);return c}function Tc(t){var e=(t=Gl(t)).getExtent();if(!e){var n=180*ml[vl.DEGREES]/t.getMetersPerUnit();e=Ss(-n,-n,n,n)}return e}var Ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pc=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.cacheSize;if(void 0===i){var r=[256,256],o=e.tileGrid;o&&gc(o.getTileSize(o.getMinZoom()),r);var a="undefined"!==typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;i=4*Math.ceil(s/r[0])*Math.ceil(l/r[1])}return n.tileCache=new hl(i),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return Ic(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,a,s,l=!0,c=n.minX;c<=n.maxX;++c)for(var u=n.minY;u<=n.maxY;++u)a=ll(e,c,u),s=!1,r.containsKey(a)&&(s=(o=r.get(a)).getState()===os.LOADED)&&(s=!1!==i(o)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return Ho()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Sc(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Hl(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,r,o,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=gc(a.getTileSize(t),this.tmpSize);return 1==s?l:(i=l,r=s,void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=i[0]*r+.5|0,o[1]=i[1]*r+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=Tc(n);if(xs(o,r))return e;var a=Ws(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(i,r)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,i){},e}(yc),Rc=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return Ic(e,t),e}(oa),Fc=Pc,Lc="tileloadstart",Ac="tileloadend",kc="tileloaderror",jc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dc=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):dc,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return jc(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Ko(n),r=n.getState();r==os.LOADING?(this.tileLoadingKeys_[i]=!0,e=Lc):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==os.ERROR?kc:r==os.LOADED||r==os.ABORT?Ac:void 0),void 0!=e&&this.dispatchEvent(new Rc(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),o=void 0;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(pc(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=ll(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(Fc),Nc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function zc(t,e){t.getImage().src=e}var Gc=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:zc,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:rl,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Nc(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Hl(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Hl(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Hl(e,t)){var n=Ko(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Sc(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Hl(e,t))return this.tileCache;var n=Ko(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new hl(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,r),l=s?this.tileUrlFunction(s,i,r):void 0,c=new this.tileClass(a,void 0!==l?os.IDLE:os.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(la.CHANGE,this.handleTileChange.bind(this)),c},e.prototype.getTile=function(t,e,n,i,r){var o=this.getProjection();if(o&&r&&!Hl(o,r)){var a=this.getTileCacheForProjection(r),s=[t,e,n],l=void 0,c=cl(s);a.containsKey(c)&&(l=a.get(c));var u=this.getKey();if(l&&l.key==u)return l;var h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(s,r),d=new hc(o,h,r,f,s,p,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,i,o||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var o=null,a=ll(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var l=o;o=this.createTile_(t,e,n,i,r,s),l.getState()==os.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,i,r,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Gl(t);if(n){var i=Ko(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(Dc),qc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bc=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Gl("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Cc(n,e.maxZoom,e.tileSize)};return new Oc(i)}({extent:Tc(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return qc(e,t),e}(Gc),Uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wc='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',Yc=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[Wc];var r=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",o=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:r,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:o,wrapX:i.wrapX,attributionsCollapsible:!1})||this}return Uc(e,t),e}(Bc),Hc=1,Xc=2,Kc=3,Vc=4,Zc=5,$c=484813681109536e-20,Jc=Math.PI/2,Qc=.16666666666666666,tu=.04722222222222222,eu=.022156084656084655,nu=1e-10,iu=.017453292519943295,ru=57.29577951308232,ou=Math.PI/4,au=2*Math.PI,su=3.14159265359,lu={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},cu={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},uu=/[\s_\-\/\(\)]/g;function hu(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(uu,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(uu,"")===r)return t[n]}var fu=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*iu},lat_1:function(t){r.lat1=t*iu},lat_2:function(t){r.lat2=t*iu},lat_ts:function(t){r.lat_ts=t*iu},lon_0:function(t){r.long0=t*iu},lon_1:function(t){r.long1=t*iu},lon_2:function(t){r.long2=t*iu},alpha:function(t){r.alpha=parseFloat(t)*iu},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*iu},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=hu(cu,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*iu},pm:function(t){var e=hu(lu,t);r.from_greenwich=(e||parseFloat(t))*iu},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in o)n=o[e],e in a?"function"===typeof(i=a[e])?i(n):r[i]=n:r[e]=n;return"string"===typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},pu=function(t){return new bu(t).output()},du=1,gu=/\s/,mu=/[A-Za-z]/,vu=/[A-Za-z84]/,yu=/[,\]]/,_u=/[\d\.E\-\+]/;function bu(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=du}function xu(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(t,e){return wu(e,t),t},i);e&&(t[e]=r)}function wu(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void wu(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var i;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&wu(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&wu(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void xu(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return wu(t,e[n]);return xu(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}bu.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;gu.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case du:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},bu.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(yu.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},bu.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=du)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=du,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},bu.prototype.number=function(t){if(!_u.test(t)){if(yu.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},bu.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},bu.prototype.keyword=function(t){if(vu.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=du)}if(!yu.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},bu.prototype.neutral=function(t){if(mu.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(_u.test(t))return this.word=t,void(this.state=3);if(!yu.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},bu.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Eu=.017453292519943295;function Mu(t){return t*Eu}var Ou=function(t){var e=pu(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return wu(e,r),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=t.AXIS[n][0].toLowerCase();-1!==r.indexOf("north")?e+="n":-1!==r.indexOf("south")?e+="s":-1!==r.indexOf("east")?e+="e":-1!==r.indexOf("west")&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function a(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Mu],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Mu],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Mu],["lat0","latitude_of_origin",Mu],["lat0","standard_parallel_1",Mu],["lat1","standard_parallel_1",Mu],["lat2","standard_parallel_2",Mu],["azimuth","Azimuth"],["alpha","azimuth",Mu],["srsCode","name"]].forEach(function(e){return n=t,r=(i=e)[0],o=i[1],void(!(r in n)&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=Mu(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function Su(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?Su[t]=fu(arguments[1]):Su[t]=Ou(arguments[1]):Su[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?Su.apply(e,t):Su(t)});if("string"===typeof t){if(t in Su)return Su[t]}else"EPSG"in t?Su["EPSG:"+t.EPSG]=t:"ESRI"in t?Su["ESRI:"+t.ESRI]=t:"IAU2000"in t?Su["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(Su);var Cu=Su;var Tu=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var Iu=["3857","900913","3785","102113"];var Pu=function(t){if(!function(t){return"string"===typeof t}(t))return t;if(function(t){return t in Cu}(t))return Cu[t];if(function(t){return Tu.some(function(e){return t.indexOf(e)>-1})}(t)){var e=Ou(t);if(function(t){var e=hu(t,"authority");if(e){var n=hu(e,"epsg");return n&&Iu.indexOf(n)>-1}}(e))return Cu["EPSG:3857"];var n=function(t){var e=hu(t,"extension");if(e)return hu(e,"proj4")}(e);return n?fu(n):e}return function(t){return"+"===t[0]}(t)?fu(t):void 0},Ru=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},Fu=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},Lu=function(t){return t<0?-1:1},Au=function(t){return Math.abs(t)<=su?t:t-Lu(t)*au},ku=function(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(Jc-e))/i},ju=function(t,e){for(var n,i,r=.5*t,o=Jc-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=i=Jc-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999};function Du(t){return t}var Nu=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Fu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*ru>90&&r*ru<-90&&i*ru>180&&i*ru<-180)return null;if(Math.abs(Math.abs(r)-Jc)<=nu)return null;if(this.sphere)e=this.x0+this.a*this.k0*Au(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(ou+.5*r));else{var o=Math.sin(r),a=ku(this.e,r,o);e=this.x0+this.a*this.k0*Au(i-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=Jc-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=ju(this.e,o)))return null}return e=Au(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:Du,inverse:Du,names:["longlat","identity"]}],zu={},Gu=[];function qu(t,e){var n=Gu.length;return t.names?(Gu[n]=t,t.names.forEach(function(t){zu[t.toLowerCase()]=n}),this):(console.log(e),!0)}var Bu={start:function(){Nu.forEach(qu)},add:qu,get:function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof zu[e]&&Gu[zu[e]]?Gu[zu[e]]:void 0}},Uu={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Wu=Uu.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Uu.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Yu={};Yu.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Yu.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Yu.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Yu.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Yu.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Yu.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Yu.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Yu.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Yu.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Yu.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Yu.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Yu.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Yu.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Yu.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Yu.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Yu.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Yu.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Hu=function(t,e,n,i,r,o,a){var s={};return s.datum_type=void 0===t||"none"===t?Zc:Vc,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=Hc),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=Xc,s.datum_params[3]*=$c,s.datum_params[4]*=$c,s.datum_params[5]*=$c,s.datum_params[6]=s.datum_params[6]/1e6+1))),a&&(s.datum_type=Kc,s.grids=a),s.a=n,s.b=i,s.es=r,s.ep2=o,s},Xu={};function Ku(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Xu[t]||null,isNull:!1}}function Vu(t){return t/3600*Math.PI/180}function Zu(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function $u(t){return t.map(function(t){return[Vu(t.longitudeShift),Vu(t.latitudeShift)]})}function Ju(t,e,n){return{name:Zu(t,e+8,e+16).trim(),parent:Zu(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Qu(t,e,n,i){for(var r=e+176,o=[],a=0;a<n.gridNodeCount;a++){var s={latitudeShift:t.getFloat32(r+16*a,i),longitudeShift:t.getFloat32(r+16*a+4,i),latitudeAccuracy:t.getFloat32(r+16*a+8,i),longitudeAccuracy:t.getFloat32(r+16*a+12,i)};o.push(s)}return o}function th(t,e){if(!(this instanceof th))return new th(t);e=e||function(t){if(t)throw t};var n=Pu(t);if("object"===typeof n){var i=th.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=hu(Yu,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o,a,s,l,c,u,h,f=function(t,e,n,i,r){if(!t){var o=hu(Uu,i);o||(o=Wu),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<nu)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),p=(o=f.a,a=f.b,f.rf,s=n.R_A,u=((l=o*o)-(c=a*a))/l,h=0,s?(l=(o*=1-u*(Qc+u*(tu+u*eu)))*o,u=0):h=Math.sqrt(u),{es:u,e:h,ep2:(l-c)/c}),d=function(t){return void 0===t?null:t.split(",").map(Ku)}(n.nadgrids),g=n.datum||Hu(n.datumCode,n.datum_params,f.a,f.b,p.es,p.ep2,d);Ru(this,n),Ru(this,i),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=g,this.init(),e(null,this)}else e(t)}else e(t)}th.projections=Bu,th.projections.start();var eh=th;function nh(t,e,n){var i,r,o,a,s=t.x,l=t.y,c=t.z?t.z:0;if(l<-Jc&&l>-1.001*Jc)l=-Jc;else if(l>Jc&&l<1.001*Jc)l=Jc;else{if(l<-Jc)return{x:-1/0,y:-1/0,z:t.z};if(l>Jc)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(l),a=Math.cos(l),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+c)*a*Math.cos(s),y:(i+c)*a*Math.sin(s),z:(i*(1-e)+c)*r}}function ih(t,e,n,i){var r,o,a,s,l,c,u,h,f,p,d,g,m,v,y,_=t.x,b=t.y,x=t.z?t.z:0;if(r=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+x*x),r/n<1e-12){if(v=0,o/n<1e-12)return Jc,y=-i,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(b,_);a=x/o,h=(s=r/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*l,m=0;do{m++,c=e*(u=n/Math.sqrt(1-e*f*f))/(u+(y=r*h+x*f-u*(1-e*f*f))),g=(d=a*(l=1/Math.sqrt(1-c*(2-c)*s*s)))*h-(p=s*(1-c)*l)*f,h=p,f=d}while(g*g>1e-24&&m<30);return{x:v,y:Math.atan(d/Math.abs(p)),z:y}}function rh(t){return t===Hc||t===Xc}var oh=function(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===Hc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Xc||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(t.datum_type===Zc||e.datum_type===Zc)return n;var i=t.a,r=t.es;if(t.datum_type===Kc){if(0!==ah(t,!1,n))return;i=6378137,r=.0066943799901413165}var o=e.a,a=e.b,s=e.es;if(e.datum_type===Kc&&(o=6378137,a=6356752.314,s=.0066943799901413165),r===s&&i===o&&!rh(t.datum_type)&&!rh(e.datum_type))return n;if((n=nh(n,r,i),rh(t.datum_type)&&(n=function(t,e,n){if(e===Hc)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Xc){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+s*t.z)+i,y:c*(l*t.x+t.y-a*t.z)+r,z:c*(-s*t.x+a*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),rh(e.datum_type)&&(n=function(t,e,n){if(e===Hc)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Xc){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=(t.x-i)/c,h=(t.y-r)/c,f=(t.z-o)/c;return{x:u+l*h-s*f,y:-l*u+h+a*f,z:s*u-a*h+f}}}(n,e.datum_type,e.datum_params)),n=ih(n,s,o,a),e.datum_type===Kc)&&0!==ah(e,!0,n))return;return n};function ah(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},o=[],a=0;a<t.grids.length;a++){var s=t.grids[a];if(o.push(s.name),s.isNull){r=i;break}if(s.mandatory,null!==s.grid){var l=s.grid.subgrids[0],c=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,u=l.ll[0]-c,h=l.ll[1]-c,f=l.ll[0]+(l.lim[0]-1)*l.del[0]+c,p=l.ll[1]+(l.lim[1]-1)*l.del[1]+c;if(!(h>i.y||u>i.x||p<i.y||f<i.x)&&(r=sh(i,e,l),!isNaN(r.x)))break}else if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*ru+" "+i.y*ru+" tried: '"+o+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function sh(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=Au(r.x-Math.PI)+Math.PI;var o=lh(r,n);if(e){if(isNaN(o.x))return i;o.x=r.x-o.x,o.y=r.y-o.y;var a,s,l=9;do{if(s=lh(o,n),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:r.x-(s.x+o.x),y:r.y-(s.y+o.y)},o.x+=a.x,o.y+=a.y}while(l--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Au(o.x+n.ll[0]),i.y=o.y+n.ll[1]}else isNaN(o.x)||(i.x=t.x+o.x,i.y=t.y+o.y);return i}function lh(t,e){var n,i={x:t.x/e.del[0],y:t.y/e.del[1]},r=Math.floor(i.x),o=Math.floor(i.y),a=i.x-1*r,s=i.y-1*o,l={x:Number.NaN,y:Number.NaN};if(r<0||r>=e.lim[0])return l;if(o<0||o>=e.lim[1])return l;n=o*e.lim[0]+r;var c=e.cvs[n][0],u=e.cvs[n][1];n++;var h=e.cvs[n][0],f=e.cvs[n][1];n+=e.lim[0];var p=e.cvs[n][0],d=e.cvs[n][1];n--;var g=e.cvs[n][0],m=e.cvs[n][1],v=a*s,y=a*(1-s),_=(1-a)*(1-s),b=(1-a)*s;return l.x=_*c+y*h+b*g+v*p,l.y=_*u+y*f+b*m+v*d,l}var ch=function(t,e,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=a,r=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(i=s,r=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(i=l,r="z"),t.axis[o]){case"e":c[r]=i;break;case"w":c[r]=-i;break;case"n":c[r]=i;break;case"s":c[r]=-i;break;case"u":void 0!==n[r]&&(c.z=i);break;case"d":void 0!==n[r]&&(c.z=-i);break;default:return null}return c},uh=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},hh=function(t){fh(t.x),fh(t.y)};function fh(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function ph(t,e,n){var i;if(Array.isArray(n)&&(n=uh(n)),hh(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===Hc||t.datum.datum_type===Xc)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Hc||e.datum.datum_type===Xc)&&"WGS84"!==t.datumCode}(t,e)&&(n=ph(t,i=new eh("WGS84"),n),t=i),"enu"!==t.axis&&(n=ch(t,!1,n)),"longlat"===t.projName)n={x:n.x*iu,y:n.y*iu,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=oh(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*ru,y:n.y*ru,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?ch(e,!0,n):n}var dh=eh("WGS84");function gh(t,e,n){var i,r,o;return Array.isArray(n)?(i=ph(t,e,n)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(r=ph(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach(function(i){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;r[i]=n[i]}),r))}function mh(t){return t instanceof eh?t:t.oProj?t.oProj:eh(t)}var vh=function(t,e,n){t=mh(t);var i,r=!1;return"undefined"===typeof e?(e=t,t=dh,r=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(n=e,e=t,t=dh,r=!0),e=mh(e),n?gh(t,e,n):(i={forward:function(n){return gh(t,e,n)},inverse:function(n){return gh(e,t,n)}},r&&(i.oProj=e),i)},yh=6,_h="AJSAJS",bh="AFAFAF",xh=65,wh=73,Eh=79,Mh=86,Oh=90,Sh={forward:Ch,inverse:function(t){var e=Rh(Ah(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:Th};function Ch(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(p=t.easting,d=t.northing,g=t.zoneNumber,m=Lh(g),v=Math.floor(p/1e5),y=Math.floor(d/1e5)%20,r=v,o=y,a=m,s=a-1,l=_h.charCodeAt(s),c=bh.charCodeAt(s),u=l+r-1,h=c+o,f=!1,u>Oh&&(u=u-Oh+xh-1,f=!0),(u===wh||l<wh&&u>wh||(u>wh||l<wh)&&f)&&u++,(u===Eh||l<Eh&&u>Eh||(u>Eh||l<Eh)&&f)&&++u===wh&&u++,u>Oh&&(u=u-Oh+xh-1),h>Mh?(h=h-Mh+xh-1,f=!0):f=!1,(h===wh||c<wh&&h>wh||(h>wh||c<wh)&&f)&&h++,(h===Eh||c<Eh&&h>Eh||(h>Eh||c<Eh)&&f)&&++h===wh&&h++,h>Mh&&(h=h-Mh+xh-1),String.fromCharCode(u)+String.fromCharCode(h))+n.substr(n.length-5,e)+i.substr(i.length-5,e);var r,o,a,s,l,c,u,h,f;var p,d,g,m,v,y}(function(t){var e,n,i,r,o,a,s,l=t.lat,c=t.lon,u=6378137,h=Ih(l),f=Ih(c);s=Math.floor((c+180)/6)+1,180===c&&(s=60);l>=56&&l<64&&c>=3&&c<12&&(s=32);l>=72&&l<84&&(c>=0&&c<9?s=31:c>=9&&c<21?s=33:c>=21&&c<33?s=35:c>=33&&c<42&&(s=37));a=Ih(6*(s-1)-180+3),.006739496752268451,e=u/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h),r=Math.cos(h)*(f-a),o=u*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h));var p=.9996*e*(r+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,d=.9996*(o+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));l<0&&(d+=1e7);return{northing:Math.round(d),easting:Math.round(p),zoneNumber:s,zoneLetter:Fh(l)}}({lat:t[1],lon:t[0]}),e)}function Th(t){var e=Rh(Ah(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Ih(t){return t*(Math.PI/180)}function Ph(t){return t/Math.PI*180}function Rh(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,a,s,l,c,u,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,m=e;i<"N"&&(m-=1e7),u=6*(r-1)-180+3,f=(h=m/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),l=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),c=g/(.9996*o);var v=f-o*Math.tan(f)/l*(c*c/2-(5+3*a+10*s-4*s*s-.06065547077041606)*c*c*c*c/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*c*c*c*c*c*c/720);v=Ph(v);var y,_=(c-(1+2*a+s)*c*c*c/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*c*c*c*c*c/120)/Math.cos(f);if(_=u+Ph(_),t.accuracy){var b=Rh({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:b.lat,right:b.lon,bottom:v,left:_}}else y={lat:v,lon:_};return y}function Fh(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Lh(t){var e=t%yh;return 0===e&&(e=yh),e}function Ah(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var a=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(o,o+=2);for(var l=Lh(a),c=function(t,e){var n=_h.charCodeAt(e-1),i=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===wh&&n++,n===Eh&&n++,n>Oh){if(r)throw"Bad character: "+t;n=xh,r=!0}i+=1e5}return i}(i.charAt(0),l),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=bh.charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===wh&&n++,n===Eh&&n++,n>Mh){if(r)throw"Bad character: "+t;n=xh,r=!0}i+=1e5}return i}(i.charAt(1),l);u<kh(s);)u+=2e6;var h=n-o;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=h/2,m=0,v=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),m=parseFloat(p)*f,d=t.substring(o+g),v=parseFloat(d)*f),{easting:m+c,northing:v+u,zoneLetter:s,zoneNumber:a,accuracy:f}}function kh(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function jh(t,e,n){if(!(this instanceof jh))return new jh(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}jh.fromMGRS=function(t){return new jh(Th(t))},jh.prototype.toMGRS=function(t){return Ch([this.x,this.y],t)};var Dh=jh,Nh=.01068115234375,zh=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Nh))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Nh)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Gh=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))},qh=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var a=Math.sin(r),s=1-e*a*a;if(r-=s=(Gh(r,a,Math.cos(r),n)-t)*(s*Math.sqrt(s))*i,Math.abs(s)<nu)return r}return r};var Bh={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=zh(this.es),this.ml0=Gh(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,a=Au(r-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*a,u=Math.pow(c,2),h=this.ep2*Math.pow(l,2),f=Math.pow(h,2),p=Math.abs(l)>nu?Math.tan(o):0,d=Math.pow(p,2),g=Math.pow(d,2);e=1-this.es*Math.pow(s,2),c/=Math.sqrt(e);var m=Gh(o,s,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-d+h+u/20*(5-18*d+g+14*h-58*d*h+u/42*(61+179*g-g*d-479*d)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+s*a*c/2*(1+u/12*(5-d+9*h+4*f+u/30*(61+g-58*d+270*h-330*d*h+u/56*(1385+543*g-g*d-3111*d))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<nu)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(i))>=1){if(v-1>nu)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=qh(e,this.es,this.en),Math.abs(n)<Jc){var s=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>nu?Math.tan(n):0,u=this.ep2*Math.pow(l,2),h=Math.pow(u,2),f=Math.pow(c,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,g=Math.pow(d,2);i=n-(e*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*u*f+u-4*h-g/30*(61+90*f-252*u*f+45*p+46*u-g/56*(1385+3633*f+4095*p+1574*p*f)))),r=Au(this.long0+d*(1-g/6*(1+2*f+u-g/20*(5+28*f+24*p+8*u*f+6*u-g/42*(61+662*f+1320*p+720*p*f))))/l)}else i=Jc*Lu(a),r=0;else{var m=Math.exp(o/this.k0),v=.5*(m-1/m),y=this.lat0+a/this.k0,_=Math.cos(y);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(v,2))),i=Math.asin(e),a<0&&(i=-i),r=0===v&&0===_?0:Au(Math.atan2(v,_)+this.long0)}return t.x=r,t.y=i,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},Uh=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Wh=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Yh=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Wh(1,e)+1))),t<0?-e:e},Hh=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return e+n*Math.sin(2*e)},Xh=function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return Math.sin(e)*n},Kh=function(t,e,n){for(var i,r,o=Math.sin(e),a=Math.cos(e),s=Uh(n),l=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),c=2*a*l,u=-2*o*s,h=t.length-1,f=t[h],p=0,d=0,g=0;--h>=0;)i=d,r=p,f=c*(d=f)-i-u*(p=g)+t[h],g=u*d-r+c*p;return[(c=o*l)*f-(u=a*s)*g,c*g+u*f]};var Vh={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Bh.init.apply(this),this.forward=Bh.forward,this.inverse=Bh.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=Hh(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Xh(this.gtu,2*i))},forward:function(t){var e=Au(t.x-this.long0),n=t.y;n=Hh(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(i,a*r),e=Math.atan2(o*r,Wh(i,r*a)),e=Yh(Math.tan(e));var s,l,c=Kh(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),t.x=s,t.y=l,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Kh(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(Uh(i));var a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i);r=Math.atan2(a*c,Wh(l,c*s)),i=Math.atan2(l,c*s),e=Au(i+this.long0),n=Hh(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Zh=function(t,e){if(void 0===t){if((t=Math.floor(30*(Au(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var $h={init:function(){var t=Zh(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*iu,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Vh.init.apply(this),this.forward=Vh.forward,this.inverse=Vh.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Jh=function(t,e){return Math.pow((1-t)/(1+t),e)},Qh=20;var tf={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ou)/(Math.pow(Math.tan(.5*this.lat0+ou),this.C)*Jh(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ou),this.C)*Jh(this.e*Math.sin(n),this.ratexp))-Jc,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+ou)/this.K,1/this.C),r=Qh;r>0&&(n=2*Math.atan(i*Jh(this.e*Math.sin(t.y),-.5*this.e))-Jc,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]};var ef={init:function(){tf.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=Au(t.x-this.long0),tf.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,tf.inverse.apply(this,[t]),t.x=Au(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var nf={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=nu&&(this.k0=.5*(1+Lu(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=nu&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=nu&&(this.k0=.5*this.cons*Fu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ku(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Fu(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Jc,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,a,s=t.x,l=t.y,c=Math.sin(l),u=Math.cos(l),h=Au(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=nu&&Math.abs(l+this.lat0)<=nu?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(h)),t.x=this.a*e*u*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*u*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,c,this.e))-Jc,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=nu?(o=ku(this.e,l*this.con,this.con*c),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<nu?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=nu?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=Math.abs(this.coslat0)<nu?this.lat0>0?Au(this.long0+Math.atan2(t.x,-1*t.y)):Au(this.long0+Math.atan2(t.x,t.y)):Au(this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=nu){if(a<=nu)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*ju(this.e,i),e=this.con*Au(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=nu?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=Au(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*ju(this.e,Math.tan(.5*(Jc+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(Jc+t))*Math.pow((1-e)/(1+e),.5*n)}};var rf={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=c,t},names:["somerc"]},of=1e-7;var af={init:function(){var t,e,n,i,r,o,a,s,l,c,u,h,f,p=0,d=0,g=0,m=0,v=0,y=0,_=0;this.no_off=(f="object"===typeof(h=this).PROJECTION?Object.keys(h.PROJECTION)[0]:h.PROJECTION,"no_uoff"in h||"no_off"in h||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(f)),this.no_rot="no_rot"in this;var b=!1;"alpha"in this&&(b=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),b&&(_=this.alpha),x&&(p=this.rectified_grid_angle*iu),b||x)d=this.longc;else if(g=this.long1,v=this.lat1,m=this.long2,y=this.lat2,Math.abs(v-y)<=of||(t=Math.abs(v))<=of||Math.abs(t-Jc)<=of||Math.abs(Math.abs(this.lat0)-Jc)<=of||Math.abs(Math.abs(y)-Jc)<=of)throw new Error;var w=1-this.es;e=Math.sqrt(w),Math.abs(this.lat0)>nu?(s=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*s*s,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*e/t,(r=(i=this.B*e/(n*Math.sqrt(t)))*i-1)<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(ku(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),b||x?(b?(u=Math.asin(Math.sin(_)/i),x||(p=_)):(u=p,_=Math.asin(i*Math.sin(u))),this.lam0=d-Math.asin(.5*(r-1/r)*Math.tan(u))/this.B):(o=Math.pow(ku(this.e,v,Math.sin(v)),this.B),a=Math.pow(ku(this.e,y,Math.sin(y)),this.B),r=this.E/o,l=(a-o)/(a+o),c=((c=this.E*this.E)-a*o)/(c+a*o),(t=g-m)<-Math.pi?m-=au:t>Math.pi&&(m+=au),this.lam0=Au(.5*(g+m)-Math.atan(c*Math.tan(.5*this.B*(g-m))/l)/this.B),u=Math.atan(2*Math.sin(this.B*Au(g-this.lam0))/(r-1/r)),p=_=Math.asin(i*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(ou-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(ou+r))},forward:function(t){var e,n,i,r,o,a,s,l,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Jc)>nu){if(e=.5*((o=this.E/Math.pow(ku(this.e,t.y,Math.sin(t.y)),this.B))-(a=1/o)),n=.5*(o+a),r=Math.sin(this.B*t.x),i=(e*this.singam-r*this.cosgam)/n,Math.abs(Math.abs(i)-1)<nu)throw new Error;l=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*t.x),s=Math.abs(a)<of?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,a)}else l=t.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*t.y;return this.no_rot?(c.x=s,c.y=l):(s-=this.u_0,c.x=l*this.cosrot+s*this.sinrot,c.y=s*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(t){var e,n,i,r,o,a,s,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=.5*((i=Math.exp(-this.BrA*n))-1/i),o=.5*(i+1/i),s=((a=Math.sin(this.BrA*e))*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(s)-1)<nu)l.x=0,l.y=s<0?-Jc:Jc;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=ju(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var sf={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<nu)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Fu(this.e,e,n),r=ku(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=Fu(this.e,o,a),l=ku(this.e,this.lat2,o),c=ku(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>nu?this.ns=Math.log(i/s)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=nu&&(n=Lu(n)*(Jc-2*nu));var i,r,o=Math.abs(Math.abs(n)-Jc);if(o>nu)i=ku(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var a=this.ns*Au(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,i,r,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),n=1):(e=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*a,n*s)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=ju(this.e,i)))return null}else r=-Jc;return o=Au(l/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]};var lf={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,a,s,l=t.x,c=t.y,u=Au(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,c+=1}while(0===s&&c<15);return c>=15?null:t},names:["Krovak","krovak"]},cf=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},uf=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},hf=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ff=function(t){return.05859375*t*t*(1+.75*t)},pf=function(t){return t*t*t*(35/3072)},df=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},gf=function(t){return Math.abs(t)<Jc?t:t-Lu(t)*Math.PI},mf=function(t,e,n,i,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN};var vf={init:function(){this.sphere||(this.e0=uf(this.es),this.e1=hf(this.es),this.e2=ff(this.es),this.e3=pf(this.es),this.ml0=this.a*cf(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=Au(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),s=df(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),u=c*c,h=this.es*a*a/(1-this.es);e=s*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=this.a*cf(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*o/a*u*(.5+(5-l+6*h)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=mf(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Jc)<=nu)return t.x=this.long0,t.y=Jc,r<0&&(t.y*=-1),t;var l=df(this.a,this.e,Math.sin(s)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),h=i*this.a/l,f=h*h;e=s-l*Math.tan(s)/c*h*h*(.5-(1+3*u)*h*h/24),n=h*(1-f*(u/3+(1+3*u)*u*f/15))/Math.cos(s)}return t.x=Au(n+this.long0),t.y=gf(e),t},names:["Cassini","Cassini_Soldner","cass"]},yf=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var _f=.3333333333333333,bf=.17222222222222222,xf=.10257936507936508,wf=.06388888888888888,Ef=.0664021164021164,Mf=.016415012942191543;var Of={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-Jc)<nu?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<nu?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=yf(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*_f,e=t*t,n[0]+=e*bf,n[1]=e*wf,e*=t,n[0]+=e*xf,n[1]+=e*Ef,n[2]=e*Mf,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=yf(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,a,s,l,c,u,h=t.x,f=t.y;if(h=Au(h-this.long0),this.sphere){if(o=Math.sin(f),u=Math.cos(f),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*o+this.cosph0*u*i)<=nu)return null;e=(n=Math.sqrt(2/n))*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<nu)return null;n=ou-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=i}}else{switch(s=0,l=0,c=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(f),a=yf(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:c=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=Jc+f,a=this.qp-a;break;case this.S_POLE:c=f-Jc,a=this.qp+a}if(Math.abs(c)<nu)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*s-this.sinb1*l*i):(c=Math.sqrt(2/(1+l*i)))*s*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(c=Math.sqrt(a))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,a,s,l,c,u,h=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,d=0,g=0;if((n=.5*(p=Math.sqrt(h*h+f*f)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=nu?0:Math.asin(f*g/p),h*=g,f=d*p;break;case this.OBLIQ:n=Math.abs(p)<=nu?this.lat0:Math.asin(d*this.sinph0+f*g*this.cosph0/p),h*=g*this.cosph0,f=(d-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:f=-f,n=Jc-n;break;case this.S_POLE:n-=Jc}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,f):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,f*=this.dd,(a=Math.sqrt(h*h+f*f))<nu)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*a/this.rq),i=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(s=i*this.sinb1+f*r*this.cosb1/a,o=this.qp*s,f=a*this.cosb1*i-f*this.sinb1*r):(s=f*r/a,o=this.qp*s,f=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(o=h*h+f*f))return t.x=this.long0,t.y=this.lat0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(h,f),l=Math.asin(s),c=this.apa,u=l+l,n=l+c[0]*Math.sin(u)+c[1]*Math.sin(u+u)+c[2]*Math.sin(u+u+u)}return t.x=Au(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Sf=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Cf={init:function(){Math.abs(this.lat1+this.lat2)<nu||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Fu(this.e3,this.sin_po,this.cos_po),this.qs1=yf(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Fu(this.e3,this.sin_po,this.cos_po),this.qs2=yf(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=yf(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>nu?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=yf(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*Au(e-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),o=Au(r/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,a=Sf(.5*e);if(t<nu)return a;for(var s=t*t,l=1;l<=25;l++)if(a+=o=.5*(r=1-(i=t*(n=Math.sin(a)))*i)*r/Math.cos(a)*(e/(1-s)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return a;return null}};var Tf={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,a,s,l=t.x,c=t.y;return i=Au(l-this.long0),e=Math.sin(c),n=Math.cos(c),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=nu?(a=this.x0+1*this.a*n*Math.sin(i)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),a=Sf(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=Au(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},If=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Jc:Jc;for(var i,r,o,a,s=Math.asin(.5*e),l=0;l<30;l++)if(r=Math.sin(s),o=Math.cos(s),a=t*r,s+=i=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return s;return NaN};var Pf={init:function(){this.sphere||(this.k0=Fu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=Au(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=yf(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Au(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=If(this.e,2*t.y*this.k0/this.a),e=Au(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var Rf={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=Au(e-this.long0),r=gf(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=Au(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=gf(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Ff=20;var Lf={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=uf(this.es),this.e1=hf(this.es),this.e2=ff(this.es),this.e3=pf(this.es),this.ml0=this.a*cf(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,a=Au(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=nu?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(gf(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=nu)e=this.a*a,n=-1*this.ml0;else{var s=df(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(i),n=this.a*cf(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,a,s,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=nu)e=Au(i/this.a+this.long0),n=0;else{var u;for(a=this.lat0+r/this.a,s=i*i/this.a/this.a+a*a,l=a,o=Ff;o;--o)if(l+=c=-1*(a*(l*(u=Math.tan(l))+1)-l-.5*(l*l+s)*u)/((l-a)/u-1),Math.abs(c)<=nu){n=l;break}e=Au(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=nu)n=0,e=Au(this.long0+i/this.a);else{var h,f,p,d,g;for(a=(this.ml0+r)/this.a,s=i*i/this.a/this.a+a*a,l=a,o=Ff;o;--o)if(g=this.e*Math.sin(l),h=Math.sqrt(1-g*g)*Math.tan(l),f=this.a*cf(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(a*(h*(d=f/this.a)+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*l)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*p-2/Math.sin(2*l))-p),Math.abs(c)<=nu){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Au(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var Af={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/$c*1e-5,a=r,s=1,l=0;for(e=1;e<=10;e++)s*=o,l+=this.A[e]*s;var c,u=l,h=a,f=1,p=0,d=0,g=0;for(e=1;e<=6;e++)c=p*u+f*h,f=f*u-p*h,p=c,d=d+this.B_re[e]*f-this.B_im[e]*p,g=g+this.B_im[e]*f+this.B_re[e]*p;return t.x=g*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,a=(r-this.y0)/this.a,s=o/this.a,l=1,c=0,u=0,h=0;for(e=1;e<=6;e++)n=c*a+l*s,l=l*a-c*s,c=n,u=u+this.C_re[e]*l-this.C_im[e]*c,h=h+this.C_im[e]*l+this.C_re[e]*c;for(var f=0;f<this.iterations;f++){var p,d=u,g=h,m=a,v=s;for(e=2;e<=6;e++)p=g*u+d*h,d=d*u-g*h,g=p,m+=(e-1)*(this.B_re[e]*d-this.B_im[e]*g),v+=(e-1)*(this.B_im[e]*d+this.B_re[e]*g);d=1,g=0;var y=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)p=g*u+d*h,d=d*u-g*h,g=p,y+=e*(this.B_re[e]*d-this.B_im[e]*g),_+=e*(this.B_im[e]*d+this.B_re[e]*g);var b=y*y+_*_;u=(m*y+v*_)/b,h=(v*y-m*_)/b}var x=u,w=h,E=1,M=0;for(e=1;e<=9;e++)E*=x,M+=this.D[e]*E;var O=this.lat0+M*$c*1e5,S=this.long0+w;return t.x=S,t.y=O,t},names:["New_Zealand_Map_Grid","nzmg"]};var kf={init:function(){},forward:function(t){var e=t.x,n=t.y,i=Au(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Au(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},jf=20;var Df={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=zh(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=Au(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=jf;a;--a){var s=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<nu)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*Gh(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Sf((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Sf(Math.sin(e)/this.n)),i=Au(i+this.long0),e=gf(e)):(e=qh(t.y/this.a,this.es,this.en),(r=Math.abs(e))<Jc?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=Au(n)):r-nu<Jc&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};var Nf={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=Au(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var a=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=a,Math.abs(a)<nu)break}r/=2,Math.PI/2-Math.abs(n)<nu&&(i=0);var s=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=s,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=Au(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]};var zf={init:function(){Math.abs(this.lat1+this.lat2)<nu||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=uf(this.es),this.e1=hf(this.es),this.e2=ff(this.es),this.e3=pf(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Fu(this.e,this.sinphi,this.cosphi),this.ml1=cf(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<nu?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Fu(this.e,this.sinphi,this.cosphi),this.ml2=cf(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=cf(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=cf(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*Au(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=Au(this.long0+o/this.ns),i=gf(this.g-n/this.a),t.x=r,t.y=i,t;var a=this.g-n/this.a;return i=mf(a,this.e0,this.e1,this.e2,this.e3),r=Au(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var Gf={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=Au(i-this.long0);Math.abs(r)<=nu&&(e=this.x0+this.R*o,n=this.y0);var a=Sf(2*Math.abs(r/Math.PI));(Math.abs(o)<=nu||Math.abs(Math.abs(r)-Jc)<=nu)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,c=Math.sin(a),u=Math.cos(a),h=u/(c+u-1),f=h*h,p=h*(2/c-1),d=p*p,g=Math.PI*this.R*(s*(h-d)+Math.sqrt(l*(h-d)*(h-d)-(d+l)*(f-d)))/(d+l);o<0&&(g=-g),e=this.x0+g;var m=l+h;return g=Math.PI*this.R*(p*m-s*Math.sqrt((d+l)*(l+1)-m*m))/(d+l),n=r>=0?this.y0+g:this.y0-g,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,a,s,l,c,u,h,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(l=-2*(a=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(s=a-2*r*r+i*i)*s*s/l/l/l-9*a*s/l/l)/27)/(c=(a-s*s/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,n=t.y>=0?(-u*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI:-(-u*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI,e=Math.abs(i)<nu?this.long0:Au(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var qf={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,a,s,l,c,u,h,f,p,d,g,m,v,y,_,b,x,w,E=t.x,M=t.y,O=Math.sin(t.y),S=Math.cos(t.y),C=Au(E-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=nu?(t.x=this.x0+this.a*(Jc-M)*Math.sin(C),t.y=this.y0-this.a*(Jc-M)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=nu?(t.x=this.x0+this.a*(Jc+M)*Math.sin(C),t.y=this.y0+this.a*(Jc+M)*Math.cos(C),t):(y=this.sin_p12*O+this.cos_p12*S*Math.cos(C),v=(m=Math.acos(y))?m/Math.sin(m):1,t.x=this.x0+this.a*v*S*Math.sin(C),t.y=this.y0+this.a*v*(this.cos_p12*O-this.sin_p12*S*Math.cos(C)),t):(e=uf(this.es),n=hf(this.es),i=ff(this.es),r=pf(this.es),Math.abs(this.sin_p12-1)<=nu?(o=this.a*cf(e,n,i,r,Jc),a=this.a*cf(e,n,i,r,M),t.x=this.x0+(o-a)*Math.sin(C),t.y=this.y0-(o-a)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=nu?(o=this.a*cf(e,n,i,r,Jc),a=this.a*cf(e,n,i,r,M),t.x=this.x0+(o+a)*Math.sin(C),t.y=this.y0+(o+a)*Math.cos(C),t):(s=O/S,l=df(this.a,this.e,this.sin_p12),c=df(this.a,this.e,O),u=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(c*S)),_=0===(h=Math.atan2(Math.sin(C),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(C)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=nu?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(C)*Math.cos(u)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),m=l*_*(1-(b=_*_)*(g=(p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*p)*(1-g)/6+(x=b*_)/8*(d=f*p)*(1-2*g)+(w=x*_)/120*(g*(4-7*g)-3*f*f*(1-7*g))-w*_/48*d),t.x=this.x0+m*Math.sin(h),t.y=this.y0+m*Math.cos(h),t))},inverse:function(t){var e,n,i,r,o,a,s,l,c,u,h,f,p,d,g,m,v,y,_,b,x,w,E;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*Jc*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=nu?a=this.lat0:(a=Sf(r*this.sin_p12+t.y*i*this.cos_p12/e),s=Math.abs(this.lat0)-Jc,o=Math.abs(s)<=nu?this.lat0>=0?Au(this.long0+Math.atan2(t.x,-t.y)):Au(this.long0-Math.atan2(-t.x,t.y)):Au(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=a,t}return l=uf(this.es),c=hf(this.es),u=ff(this.es),h=pf(this.es),Math.abs(this.sin_p12-1)<=nu?(f=this.a*cf(l,c,u,h,Jc),e=Math.sqrt(t.x*t.x+t.y*t.y),a=mf((f-e)/this.a,l,c,u,h),o=Au(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=nu?(f=this.a*cf(l,c,u,h,Jc),e=Math.sqrt(t.x*t.x+t.y*t.y),a=mf((e-f)/this.a,l,c,u,h),o=Au(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=df(this.a,this.e,this.sin_p12),m=Math.cos(g),y=-(v=this.e*this.cos_p12*m)*v/(1-this.es),_=3*this.es*(1-y)*this.sin_p12*this.cos_p12*m/(1-this.es),w=1-y*(x=(b=e/p)-y*(1+y)*Math.pow(b,3)/6-_*(1+3*y)*Math.pow(b,4)/24)*x/2-b*x*x*x/6,d=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*m),o=Au(this.long0+Math.asin(Math.sin(g)*Math.sin(x)/Math.cos(d))),E=Math.sin(d),a=Math.atan2((E-this.es*w*this.sin_p12)*Math.tan(d),E*(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]};var Bf={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,a,s,l=t.x,c=t.y;return i=Au(l-this.long0),e=Math.sin(c),n=Math.cos(c),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=nu)&&(a=1*this.a*n*Math.sin(i),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Sf(e/this.a),i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(e)<=nu?(s=this.lat0,t.x=a,t.y=s,t):(s=Sf(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-Jc,Math.abs(o)<=nu?(a=this.lat0>=0?Au(this.long0+Math.atan2(t.x,-t.y)):Au(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=Au(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=a,t.y=s,t))},names:["ortho"]},Uf={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Wf={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Yf(t,e,n,i){var r;return t<nu?(i.value=Wf.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=ou?i.value=Wf.AREA_0:r>ou&&r<=Jc+ou?(i.value=Wf.AREA_1,r-=Jc):r>Jc+ou||r<=-(Jc+ou)?(i.value=Wf.AREA_2,r=r>=0?r-su:r+su):(i.value=Wf.AREA_3,r+=Jc)),r}function Hf(t,e){var n=t+e;return n<-su?n+=au:n>+su&&(n-=au),n}var Xf={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Jc-ou/2?this.face=Uf.TOP:this.lat0<=-(Jc-ou/2)?this.face=Uf.BOTTOM:Math.abs(this.long0)<=ou?this.face=Uf.FRONT:Math.abs(this.long0)<=Jc+ou?this.face=this.long0>0?Uf.RIGHT:Uf.LEFT:this.face=Uf.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,a,s={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Uf.TOP)r=Jc-e,n>=ou&&n<=Jc+ou?(l.value=Wf.AREA_0,i=n-Jc):n>Jc+ou||n<=-(Jc+ou)?(l.value=Wf.AREA_1,i=n>0?n-su:n+su):n>-(Jc+ou)&&n<=-ou?(l.value=Wf.AREA_2,i=n+Jc):(l.value=Wf.AREA_3,i=n);else if(this.face===Uf.BOTTOM)r=Jc+e,n>=ou&&n<=Jc+ou?(l.value=Wf.AREA_0,i=-n+Jc):n<ou&&n>=-ou?(l.value=Wf.AREA_1,i=-n):n<-ou&&n>=-(Jc+ou)?(l.value=Wf.AREA_2,i=-n-Jc):(l.value=Wf.AREA_3,i=n>0?-n+su:-n-su);else{var c,u,h,f,p,d;this.face===Uf.RIGHT?n=Hf(n,+Jc):this.face===Uf.BACK?n=Hf(n,+su):this.face===Uf.LEFT&&(n=Hf(n,-Jc)),f=Math.sin(e),p=Math.cos(e),d=Math.sin(n),c=p*Math.cos(n),u=p*d,h=f,this.face===Uf.FRONT?i=Yf(r=Math.acos(c),h,u,l):this.face===Uf.RIGHT?i=Yf(r=Math.acos(u),h,-c,l):this.face===Uf.BACK?i=Yf(r=Math.acos(-c),h,-u,l):this.face===Uf.LEFT?i=Yf(r=Math.acos(-u),h,c,l):(r=i=0,l.value=Wf.AREA_0)}return a=Math.atan(12/su*(i+Math.acos(Math.sin(i)*Math.cos(ou))-Jc)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Wf.AREA_1?a+=Jc:l.value===Wf.AREA_2?a+=su:l.value===Wf.AREA_3&&(a+=1.5*su),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,n,i,r,o,a,s,l,c,u,h,f,p={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Wf.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Wf.AREA_1,e-=Jc):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Wf.AREA_2,e=e<0?e+su:e-su):(d.value=Wf.AREA_3,e+=Jc),c=su/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),a=Math.atan(o),(s=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===Uf.TOP)l=Math.acos(s),p.phi=Jc-l,d.value===Wf.AREA_0?p.lam=a+Jc:d.value===Wf.AREA_1?p.lam=a<0?a+su:a-su:d.value===Wf.AREA_2?p.lam=a-Jc:p.lam=a;else if(this.face===Uf.BOTTOM)l=Math.acos(s),p.phi=l-Jc,d.value===Wf.AREA_0?p.lam=-a+Jc:d.value===Wf.AREA_1?p.lam=-a:d.value===Wf.AREA_2?p.lam=-a-Jc:p.lam=a<0?-a-su:-a+su;else{var g,m,v;c=(g=s)*g,m=(c+=(v=c>=1?0:Math.sqrt(1-c)*Math.sin(a))*v)>=1?0:Math.sqrt(1-c),d.value===Wf.AREA_1?(c=m,m=-v,v=c):d.value===Wf.AREA_2?(m=-m,v=-v):d.value===Wf.AREA_3&&(c=m,m=v,v=-c),this.face===Uf.RIGHT?(c=g,g=-m,m=c):this.face===Uf.BACK?(g=-g,m=-m):this.face===Uf.LEFT&&(c=g,g=m,m=-c),p.phi=Math.acos(-v)-Jc,p.lam=Math.atan2(m,g),this.face===Uf.RIGHT?p.lam=Hf(p.lam,-Jc):this.face===Uf.BACK?p.lam=Hf(p.lam,-su):this.face===Uf.LEFT&&(p.lam=Hf(p.lam,+Jc))}return 0!==this.es&&(u=p.phi<0?1:0,h=Math.tan(p.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),u&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Kf=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Vf=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Zf=.8487,$f=1.3523,Jf=ru/5,Qf=1/Jf,tp=18,ep=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},np=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var ip={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Au(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Jf);i<0?i=0:i>=tp&&(i=tp-1),n=ru*(n-Qf*i);var r={x:ep(Kf[i],n)*e,y:ep(Vf[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*Zf+this.x0,r.y=r.y*this.a*$f+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*Zf),y:Math.abs(t.y-this.y0)/(this.a*$f)};if(e.y>=1)e.x/=Kf[tp][0],e.y=t.y<0?-Jc:Jc;else{var n=Math.floor(e.y*tp);for(n<0?n=0:n>=tp&&(n=tp-1);;)if(Vf[n][0]>e.y)--n;else{if(!(Vf[n+1][0]<=e.y))break;++n}var i=Vf[n],r=5*(e.y-i[0])/(Vf[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}(function(t){return(ep(i,t)-e.y)/np(i,t)},r,nu,100),e.x/=ep(Kf[n],r),e.y=(5*n+r)*iu,t.y<0&&(e.y=-e.y)}return e.x=Au(e.x+this.long0),e},names:["Robinson","robin"]};var rp={init:function(){this.name="geocent"},forward:function(t){return nh(t,this.es,this.a)},inverse:function(t){return ih(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},op={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ap={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var sp,lp={init:function(){if(Object.keys(ap).forEach(function(t){if("undefined"===typeof this[t])this[t]=ap[t].def;else{if(ap[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);ap[t].num&&(this[t]=parseFloat(this[t]))}ap[t].degrees&&(this[t]=this[t]*iu)}.bind(this)),Math.abs(Math.abs(this.lat0)-Jc)<nu?this.mode=this.lat0<0?op.S_POLE:op.N_POLE:Math.abs(this.lat0)<nu?this.mode=op.EQUIT:(this.mode=op.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,i,r,o=Math.sin(t.y),a=Math.cos(t.y),s=Math.cos(t.x);switch(this.mode){case op.OBLIQ:n=this.sinph0*o+this.cosph0*a*s;break;case op.EQUIT:n=a*s;break;case op.S_POLE:n=-o;break;case op.N_POLE:n=o}switch(e=(n=this.pn1/(this.p-n))*a*Math.sin(t.x),this.mode){case op.OBLIQ:n*=this.cosph0*o-this.sinph0*a*s;break;case op.EQUIT:n*=o;break;case op.N_POLE:n*=-a*s;break;case op.S_POLE:n*=a*s}return r=1/((i=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*r,n=i*r,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,i,r={x:t.x,y:t.y};i=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var o=Wh(t.x,t.y);if(Math.abs(o)<nu)r.x=0,r.y=t.y;else{var a,s;switch(s=1-o*o*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1),a=Math.sqrt(1-s*s),this.mode){case op.OBLIQ:r.y=Math.asin(a*this.sinph0+t.y*s*this.cosph0/o),t.y=(a-this.sinph0*Math.sin(r.y))*o,t.x*=s*this.cosph0;break;case op.EQUIT:r.y=Math.asin(t.y*s/o),t.y=a*o,t.x*=s;break;case op.N_POLE:r.y=Math.asin(a),t.y=-t.y;break;case op.S_POLE:r.y=-Math.asin(a)}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t},names:["Tilted_Perspective","tpers"]};vh.defaultDatum="WGS84",vh.Proj=eh,vh.WGS84=new vh.Proj("WGS84"),vh.Point=Dh,vh.toPoint=uh,vh.defs=Cu,vh.nadgrid=function(t,e){var n=new DataView(e),i=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),r=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Zu(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o={header:r,subgrids:function(t,e,n){for(var i=[],r=0;r<e.nSubgrids;r++){var o=Ju(t,176,n),a=Qu(t,176,o,n),s=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),l=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);i.push({ll:[Vu(o.lowerLongitude),Vu(o.lowerLatitude)],del:[Vu(o.longitudeInterval),Vu(o.latitudeInterval)],lim:[s,l],count:o.gridNodeCount,cvs:$u(a)})}return i}(n,r,i)};return Xu[t]=o,o},vh.transform=ph,vh.mgrs=Sh,vh.version="__VERSION__",(sp=vh).Proj.projections.add(Bh),sp.Proj.projections.add(Vh),sp.Proj.projections.add($h),sp.Proj.projections.add(ef),sp.Proj.projections.add(nf),sp.Proj.projections.add(rf),sp.Proj.projections.add(af),sp.Proj.projections.add(sf),sp.Proj.projections.add(lf),sp.Proj.projections.add(vf),sp.Proj.projections.add(Of),sp.Proj.projections.add(Cf),sp.Proj.projections.add(Tf),sp.Proj.projections.add(Pf),sp.Proj.projections.add(Rf),sp.Proj.projections.add(Lf),sp.Proj.projections.add(Af),sp.Proj.projections.add(kf),sp.Proj.projections.add(Df),sp.Proj.projections.add(Nf),sp.Proj.projections.add(zf),sp.Proj.projections.add(Gf),sp.Proj.projections.add(qf),sp.Proj.projections.add(Bf),sp.Proj.projections.add(Xf),sp.Proj.projections.add(ip),sp.Proj.projections.add(rp),sp.Proj.projections.add(lp);var cp=vh;cp("EPSG:4326"),cp.defs("BD-MC","+proj=merc +lon_0=0 +units=m +ellps=clrk66 +no_defs"),cp.defs("EPSG:3395","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"),function(t){var e,n,i,r,o,a,s,l,c=Object.keys(t.defs),u=c.length;for(e=0;e<u;++e){var h=c[e];if(!Gl(h)){var f=t.defs(h);zl(new yl({code:h,axisOrientation:f.axis,metersPerUnit:f.to_meter,units:f.units}))}}for(e=0;e<u;++e){var p=c[e],d=Gl(p);for(n=0;n<u;++n){var g=c[n],m=Gl(g);if(!kl(p,g))if(t.defs[p]===t.defs[g])Bl([d,m]);else{var v=t(p,g);i=d,r=m,o=v.forward,a=v.inverse,s=void 0,l=void 0,s=Gl(i),l=Gl(r),Al(s,l,Wl(o)),Al(l,s,Wl(a))}}}}(cp);var up=new Oc({extent:Zl([-180,-74,180,74],"EPSG:4326","BD-MC"),origin:[0,0],minZoom:3,resolutions:[262144,131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5]}),hp=function(t){var e=t[0],n=t[1],i=-t[2]-1,r=((n<<e)+i)%5;return r=r<0?r+5:r,n<0&&(n="M".concat(-n)),i<0&&(i="M".concat(-i)),"http://online{}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl".replace("{}",r).replace("{x}",n).replace("{y}",i).replace("{z}",e)};function fp(t){return{type:vo,payload:t}}function pp(t){return{type:Oo,payload:t}}function dp(t){return{type:So,payload:t}}function gp(t){return{type:bo,payload:t}}function mp(){return{type:wo}}function vp(t,e){return{type:xo,payload:t,server:e}}function yp(t){return{type:Fo,payload:t}}var _p=function(t,e,n){return{type:"app/FleetsDrawer/UPDATE_FLEETS",payload:t,server:e,task:n}},bp="app/FleetHistory/FETCH_ROUTE_HISTORY",xp="app/FleetHistory/FETCH_ROUTE_HISTORY_FAILED",wp="app/FleetHistory/FETCH_ROUTE_HISTORY_SUCCESSFUL",Ep="appSTARTSTARTSTART/FleetHistory/SET_END_DATETIME",Mp="app/FleetHistory/SET_LOADER",Op="app/FleetHistory/SET_SHOW_MARKERS",Sp="app/FleetHistory/SET_START_DATETIME",Cp="app/FleetHistory/SET_SELECTED_POSITION",Tp="app/FleetHistory/SET_SHOW_SPEED_LABELS",Ip="app/FleetHistory/SET_SORTED_PROPERTY";function Pp(t){return{type:xp,payload:t}}function Rp(t,e){return{type:wp,payload:t,selectedDevice:e}}function Fp(t){return{type:Cp,payload:t}}function Lp(t){return{type:Op,payload:t}}function Ap(t){return{type:Tp,payload:t}}var kp,jp=function(t,e,n){var i=e.forEachFeatureAtPixel(n.pixel,function(t){return t});if(i)switch(i.get("type")){case"device":return function(){return t(dp(i.get("id")))};case"position":return function(){return t(Fp({id:i.get("id")}))};default:return function(){return t(dp(null))}}return function(){t(dp(null)),t(Fp(null))}},Dp=function(t){var e=Zl(t.getView().calculateExtent(t.getSize()),"EPSG:3857","EPSG:4326");return{br:e[0],tr:e[1],tl:e[2],bl:e[3]}},Np={zoom:12,viewport:{br:0,tr:0,tl:0,bl:0},scale:1},zp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Np,e=arguments.length>1?arguments[1]:void 0;return Object(Tn.a)(t,function(t){switch(e.type){case"app/MapContainer/SET_MAP_ZOOM":t.zoom=e.zoom,t.scale=(n=e.zoom)>=6&&n<=14?20-2*Math.floor(n-6):n<=6?20:1;break;case"app/MapContainer/SET_MAP_CLUSTERING_SCALE":t.scale=e.scale;break;case"app/MapContainer/SET_VIEWPORT":t.viewport=e.viewport}var n})},Gp=function(t){return t.map||Np},qp=function(){return Object(f.a)(Gp,function(t){return t.viewport})},Bp=Gp,Up=function(t){return t.fleetsDrawer||Lo},Wp=function(){return Object(f.a)(Up,function(t){return function(t,e){var n=t;return Et()(e,function(t,e){if(!xt()(t))if("asc"===t.value||"desc"===t.value)n=_t()(Ct()(n,function(t){return void 0!==t[e]}),e,t.value);else if(vt()(t)){var i=[];Et()(t,function(t){i=[].concat(Fe(i),Fe(Ct()(n,function(n){return n[e]===t.value})))}),n=i}else n=Ct()(n,function(n){return t.value===n[e]})}),n}((e=t.fleets,(n=t.searchPhrase)?Ct()(e,function(t){return t.name.toLowerCase().indexOf(n.toLowerCase())>-1||t.uniqueId.toString().indexOf(n)>-1}):e),t.filters);var e,n})},Yp=function(){return Object(f.a)(Up,function(t){return t.pinnedDeviceUniqueId})},Hp=function(){return Object(f.a)(Up,function(t){return t.selectedDeviceUniqueId})},Xp=function(){return Object(f.a)(Wp(),Hp(),function(t,e){return Ue(t,e)})},Kp=function(){return Object(f.a)(Up,function(t){return t.groups})},Vp=regeneratorRuntime.mark(td),Zp=regeneratorRuntime.mark(ed),$p=regeneratorRuntime.mark(nd),Jp=regeneratorRuntime.mark(id),Qp=regeneratorRuntime.mark(rd);function td(t){var e,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.payload,i.prev=1,i.next=4,Object(kn.b)(Dn.b,"".concat(jn.a.API_URL,"/devices/?id=").concat(e));case 4:return n=i.sent,i.next=7,Object(kn.c)(Qr(n));case 7:i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(1),i.next=13,Object(kn.c)(to(i.t0));case 13:case"end":return i.stop()}},Vp,null,[[1,9]])}function ed(t){var e,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.payload,r.prev=1,r.next=4,Object(kn.b)(Dn.c,"".concat(jn.a.API_URL,"/devices/"),e);case 4:return n=r.sent,r.next=7,Object(kn.c)(no(n));case 7:return r.next=9,Object(kn.e)(Cn.e);case 9:return i=r.sent,r.next=12,Object(kn.c)(_p(n,i.server,"add"));case 12:return r.next=14,Object(kn.c)(qn(zn.success));case 14:r.next=22;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Object(kn.c)(io(r.t0));case 20:return r.next=22,Object(kn.c)(qn(zn.error));case 22:case"end":return r.stop()}},Zp,null,[[1,16]])}function nd(t){var e,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.payload,r.prev=1,r.next=4,Object(kn.b)(Dn.d,"".concat(jn.a.API_URL,"/devices/").concat(e.id),e);case 4:return n=r.sent,r.next=7,Object(kn.c)(oo(n));case 7:return r.next=9,Object(kn.e)(Cn.e);case 9:return i=r.sent,r.next=12,Object(kn.c)(_p(n,i.server));case 12:return r.next=14,Object(kn.c)(qn(zn.success));case 14:r.next=22;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Object(kn.c)(qn(zn.error));case 20:return r.next=22,Object(kn.c)(ao(r.t0));case 22:case"end":return r.stop()}},$p,null,[[1,16]])}function id(t){var e,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.payload,r.prev=1,r.next=4,Object(kn.b)(Dn.a,"".concat(jn.a.API_URL,"/devices/").concat(e.id),e);case 4:return n=r.sent,r.next=7,Object(kn.c)(lo(n));case 7:return r.next=9,Object(kn.e)(Cn.e);case 9:return i=r.sent,r.next=12,Object(kn.c)(_p(e,i.server,"delete"));case 12:return r.next=14,Object(kn.c)(qn(zn.success));case 14:r.next=22;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Object(kn.c)(qn(zn.error));case 20:return r.next=22,Object(kn.c)(co(r.t0));case 22:case"end":return r.stop()}},Jp,null,[[1,16]])}function rd(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(kn.a)([Object(kn.g)(Kr,td),Object(kn.g)(Vr,ed),Object(kn.g)(Zr,nd),Object(kn.g)($r,id)]);case 2:case"end":return t.stop()}},Qp)}function od(t,e,n,i){kp||(kp="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:kp,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var ad=Object(f.b)({selectedDevice:Xp(),showLoader:Object(f.a)(go,function(t){return t.showLoader}),groups:Kp()});var sd,ld=Object(u.c)(ad,function(t){return{getFleet:function(e){return t(Jr(e))},addFleet:function(e){return t(eo(e))},editFleet:function(e){return t(ro(e))},deleteFleet:function(e){return t(so(e))},setMessages:function(e){return t(Gn(e))}}}),cd=Object(h.d)(ld)(function(t){var e=t.open,n=t.onClose,i=t.task,r=t.selectedDevice,a=t.showLoader,s=t.groups,l=t.getFleet,c=t.addFleet,u=t.editFleet,h=t.deleteFleet,f=t.setMessages,p=function(t,e){return o.a.createElement(o.a.Fragment,null,od("span",{style:{marginLeft:"5px"}},void 0,t),od("span",{},void 0,e))};return Object(z.a)({key:"fleet",reducer:po}),Object(N.a)({key:"fleet",saga:rd}),e&&i&&od(Xr,{open:e,onClose:n,action:function(t){switch(i){case"add":c(t),f({success:p(t.name,o.a.createElement(k.FormattedMessage,mo.addFleetSuccessful)),error:p(o.a.createElement(k.FormattedMessage,mo.addFleetFailed))});break;case"edit":u(t),f({success:p(t.name,o.a.createElement(k.FormattedMessage,mo.editFleetSuccessful)),error:p(o.a.createElement(k.FormattedMessage,mo.editFleetFailed))});break;case"delete":h(t),f({success:p(t.name,o.a.createElement(k.FormattedMessage,mo.deleteFleetSuccessful)),error:p(o.a.createElement(k.FormattedMessage,mo.deleteFleetFailed))})}},task:i,fleet:r,showLoader:a,groups:s,getFleet:l})}),ud=Object(k.defineMessages)({battery:{id:"".concat("app.components.FleetList",".battery"),defaultMessage:"Battery"},course:{id:"".concat("app.components.FleetList",".course"),defaultMessage:"Point"},deviceTime:{id:"".concat("app.components.FleetList",".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat("app.components.FleetList",".distance"),defaultMessage:"Distance"},ignition:{id:"".concat("app.components.FleetList",".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat("app.components.FleetList",".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat("app.components.FleetList",".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat("app.components.FleetList",".motion"),defaultMessage:"Motion"},no:{id:"".concat("app.components.FleetList",".no"),defaultMessage:"No"},operator:{id:"".concat("app.components.FleetList",".operator"),defaultMessage:"Operator"},outdated:{id:"".concat("app.components.FleetList",".outdated"),defaultMessage:"Outedated"},power:{id:"".concat("app.components.FleetList",".power"),defaultMessage:"Power"},protocol:{id:"".concat("app.components.FleetList",".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat("app.components.FleetList",".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat("app.components.FleetList",".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat("app.components.FleetList",".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat("app.components.FleetList",".valid"),defaultMessage:"Valid"},yes:{id:"".concat("app.components.FleetList",".yes"),defaultMessage:"Yes"},details:{id:"".concat("app.components.FleetList",".details"),defaultMessage:"Details"},edit:{id:"".concat("app.components.FleetList",".edit"),defaultMessage:"Edit"},delete:{id:"".concat("app.components.FleetList",".delete"),defaultMessage:"Delete"}}),hd=n("3f3a0914a8688311fc1b"),fd=n.n(hd),pd=n("f2a0a9b443783f48e935"),dd=n.n(pd),gd={43211:"MCI",43235:"Irancell",43220:"RighTel",43221:"RighTel"},md={deviceTime:{format:function(t){return Hi()(t).format("HH:mm:ss jYYYY-jMM-jDD")}},valid:{format:yd},outdated:{format:yd},sat:{format:function(t){return t}},latitude:{format:function(t){return t}},longitude:{format:function(t){return t}},course:{format:function(t){var e=t;if(e<=0||e>360||"undefined"===typeof e)return"\u2608";var n={north:"\u2191 N",north_east:"\u2197 NE",east:"\u2192 E",south_east:"\u2198 SE",south:"\u2193 S",south_west:"\u2199 SW",west:"\u2190 W",north_west:"\u2196 NW"},i=Object.keys(n),r=360/i.length;e+=r/2;for(var o=0;o<i.length;o+=1)if(e>=o*r&&e<(o+1)*r)return n[i[o]];return n.north}},ignition:{format:yd},motion:{format:yd},power:{format:function(t){return t.toFixed(2)}},battery:{format:function(t){return t.toFixed(2)}},operator:{format:function(t){return gd[t]||t}},rssi:{format:function(t){return t}},distance:{format:function(t){return t}},totalDistance:{format:function(t){return t}},protocol:{format:function(t){return t}}};function vd(t){var e={};return Et()(md,function(n,i){(void 0!==t[i]&&!dd()(t[i])||void 0!==t.attributes[i]&&!dd()(t.attributes[i]))&&(e[i]=n.format(t[i]||t.attributes[i]))}),fd()(e,t.attributes,function(t,e){return t||e})}function yd(t){return o.a.createElement(k.FormattedMessage,ud[t?"yes":"no"])}function _d(t,e,n,i){sd||(sd="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:sd,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function bd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return xd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Md,Od={offline:"red",online:"green",unknown:"orange",ignitionOn:"orange"},Sd=Object(s.a)(function(t){return{enginIcon:{color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?Od.ignitionOn:"inherit"}},fleetName:{fontSize:"0.8rem",fontWeight:"bold"},lastUpdate:{fontSize:"0.6rem",fontWeight:"bold",color:"rgba(0, 0, 0, 0.54)",margin:"-4px 0 0 0"},title:{whiteSpace:"nowrap"},icon:{textAlign:"center",display:"flex",justifyContent:"center"},speed:{textAlign:"center",fontSize:"0.7rem",color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?"inherit":"lightgray"},direction:"rtl"},status:{color:function(t){return Od[t.status]},fontSize:"small"},centerFocus:{color:function(t){return t.isPinned?"inherit":"lightgray"}},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130},buttonGroup:{marginTop:10}}}),Cd=Object(mi.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(nr.a),Td=_d(ur.a,{}),Id=_d(Vi.a,{}),Pd=_d($i.a,{}),Rd=_d(Qi.a,{}),Fd=_d(rr.a,{}),Ld=o.a.memo(function(t){var e=t.user,n=t.fleet,i=t.isExpandedInfo,a=t.isPinned,s=t.onExpandInfo,l=t.onPin,c=Sd(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wd(Object(n),!0).forEach(function(e){Ed(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({isPinned:a},n)),u=bd(Object(r.useState)(!1),2),h=u[0],f=u[1],p=bd(Object(r.useState)(null),2),d=p[0],g=p[1],m=bd(Object(r.useState)(!1),2),v=m[0],y=m[1],_=bd(Object(r.useState)(null),2),b=_[0],x=_[1];Object(r.useEffect)(function(){return f(i)},[i]);var w=function(){return g(null)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;x(t),y(!v),w()};return o.a.createElement(o.a.Fragment,null,_d(Q.a,{alignItems:"center",container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,_d(Q.a,{className:c.icon,item:!0,xs:1},void 0,_d(M.a,{size:"small",onClick:function(t){return g(t.currentTarget)}},void 0,Td),_d(hr.a,{id:"long-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:w},void 0,e.readonly?_d(ot.a,{onClick:function(){return E("details")}},void 0,Id,o.a.createElement(k.FormattedMessage,ud.details)):[_d(ot.a,{onClick:function(){return E("edit")}},"edit",Pd,o.a.createElement(k.FormattedMessage,ud.edit)),_d(ot.a,{onClick:function(){return E("delete")}},"delete",Rd,o.a.createElement(k.FormattedMessage,ud.delete))])),_d(Q.a,{className:c.title,item:!0,xs:7},void 0,_d(bi.a,{className:c.fleetName,noWrap:!0},void 0,n.name),_d("p",{className:c.lastUpdate},void 0,Hi()(n.lastUpdate).fromNow())),_d(Q.a,{className:c.speed,item:!0,xs:2},void 0,n.formattedSpeed||"-"),_d(Q.a,{className:c.icon,item:!0,xs:1},void 0,_d("span",{className:"icon ico-engin ".concat(c.enginIcon)})),_d(Q.a,{className:c.icon,item:!0,xs:1},void 0,_d(lr.a,{className:c.status})),_d(Q.a,{className:c.icon,item:!0,xs:1},void 0,_d(M.a,{onClick:function(){return l(a?null:n.uniqueId)},size:"small","aria-label":"Pin"},void 0,_d(ar.a,{className:c.centerFocus}))),_d(Q.a,{className:c.icon,item:!0,xs:1},void 0,_d(M.a,{className:Object(Wi.a)(c.expand,Ed({},c.expandOpen,h)),onClick:function(){s&&s(!h),f(!h)},size:"small","aria-expanded":h,"aria-label":"show more"},void 0,Fd))),n.positions&&n.positions.length&&_d(Xi.a,{in:h,timeout:"auto",unmountOnExit:!0},void 0,h&&_d(tr.a,{cellHeight:40,className:c.gridList,cols:2},void 0,It()(vd(n.positions.slice(-1)[0]),function(t,e){return _d(er.a,{cols:1},e,_d(Cd,{title:ud[e]?o.a.createElement(k.FormattedMessage,ud[e]):e,subtitle:t||"--"}))}))),_d(cd,{open:v,onClose:E,task:b}))});function Ad(t){return(Ad="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kd(t,e,n,i){Md||(Md="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Md,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(e){Ud(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Nd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zd(t,e){return(zd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gd(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Bd(t);if(e){var r=Bd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ad(e)||"function"===typeof e))return e;return qd(t)}(this,n)}}function qd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bd(t){return(Bd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ud(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wd=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zd(t,e)}(a,o.a.Component);var e,n,i,r=Gd(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Ud(qd(e=r.call(this,t)),"handleExpantionInfo",function(t){e.onExpandInfo(t?e.index:null)}),Ud(qd(e),"selectDevice",function(){return e.onClick(e.fleet.uniqueId)}),e.user=e.props.data.user,e.fleet=e.props.data.fleets[e.props.index],e.index=e.props.index,e.onClick=e.props.data.onClick,e.onExpandInfo=e.props.data.onExpandInfo,e.onPin=e.props.data.onPin,e.isSelected=e.props.data.selectedDevice===e.fleet.uniqueId,e.isPinned=e.fleet.uniqueId===e.props.data.pinnedDevice,e}return e=a,(n=[{key:"componentDidUpdate",value:function(){this.user=this.props.data.user,this.fleet=this.props.data.fleets[this.props.index],this.index=this.props.index,this.onClick=this.props.data.onClick,this.onExpandInfo=this.props.data.onExpandInfo,this.onPin=this.props.data.onPin,this.isSelected=this.props.data.selectedDevice===this.fleet.uniqueId,this.isPinned=this.fleet.uniqueId===this.props.data.pinnedDevice,this.props.data.expandedInfoIndex!==this.props.index?this.isExpandedInfo=!1:this.isExpandedInfo=!0}},{key:"render",value:function(){return kd("div",{onClick:this.selectDevice,style:Dd(Dd({},this.styles.row),this.props.style),role:"button",tabIndex:this.index,onKeyPress:this.selectDevice},void 0,kd(Ld,{user:this.props.data.user,fleet:this.props.data.fleets[this.props.index],isExpandedInfo:this.isExpandedInfo,isPinned:this.fleet.uniqueId===this.props.data.pinnedDevice,onExpandInfo:this.handleExpantionInfo,onPin:this.onPin}))}},{key:"styles",get:function(){return{row:{padding:"5px 5px 5px",backgroundColor:this.props.data.selectedDevice===this.fleet.uniqueId?"whitesmoke":"white",outline:"none"}}}}])&&Nd(e.prototype,n),i&&Nd(e,i),a}();function Yd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Hd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Xd=Object(s.a)(function(){return{paper:{position:"absolute",right:0,left:0,bottom:0,top:45,display:function(t){return t.isVisible?"inherit":"none"},maxWidth:400,margin:0,padding:"2px 6px",width:"100%",zIndex:1}}});var Kd,Vd=o.a.memo(function(t){var e=t.user,n=t.fleets,i=void 0===n?[]:n,a=t.isVisible,s=void 0!==a&&a,l=t.onClick,c=t.onPin,u=t.pinnedDevice,h=t.selectedDevice,f=Xd({isVisible:s}),p=Object(r.createRef)(),d=Object(r.createRef)(),g=Yd(Object(r.useState)(0),2),m=g[0],v=g[1],y=Yd(Object(r.useState)(null),2),_=y[0],b=y[1],x=function(t){b(t),d.current.resetAfterIndex(t<=_?t:_,!1)};return Object(r.useEffect)(function(){s&&m!==p.current.clientHeight&&v(p.current.clientHeight)}),Object(r.useEffect)(function(){if(s&&h){var t=Lt()(i,{uniqueId:h});d.current.scrollToItem(t,"smart"),t!==_&&x(null)}},[s,h]),o.a.createElement("div",{className:f.paper,ref:p},s&&o.a.createElement(Bi,{direction:"rtl",id:"feet-list",itemCount:i.length,itemData:{user:e,fleets:i,expandedInfoIndex:_,onClick:l,onExpandInfo:x,onPin:c,pinnedDevice:u,selectedDevice:h},itemKey:function(t,e){return e.fleets[t].uniqueId},itemSize:function(t){return t===_?180:50},height:m-10,ref:d,width:"100%"},Wd))}),Zd=n("6ac3e552da79538f50d3"),$d=n("a46ffb7617c27d63a192"),Jd=n.n($d),Qd=Object(k.defineMessages)({ascending:{id:"".concat("app.components.FilterFleets",".ascending"),defaultMessage:"Ascending"},descending:{id:"".concat("app.components.FilterFleets",".descending"),defaultMessage:"Descending"},none:{id:"".concat("app.components.FilterFleets",".none"),defaultMessage:"None"},name:{id:"".concat("app.components.FilterFleets",".name"),defaultMessage:"Name"},status:{id:"".concat("app.components.FilterFleets",".status"),defaultMessage:"Status"},online:{id:"".concat("app.components.FilterFleets",".online"),defaultMessage:"Online"},offline:{id:"".concat("app.components.FilterFleets",".offline"),defaultMessage:"Offline"},group:{id:"".concat("app.components.FilterFleets",".group"),defaultMessage:"Group"},speed:{id:"".concat("app.components.FilterFleets",".speed"),defaultMessage:"Speed"},filters:{id:"".concat("app.components.FilterFleets",".filters"),defaultMessage:"Filters"},moreFilters:{id:"".concat("app.components.FilterFleets",".moreFilters"),defaultMessage:"More Filters"},customizeFilters:{id:"".concat("app.components.FilterFleets",".customizeFilters"),defaultMessage:"Customize Filters"}});function tg(t,e,n,i){Kd||(Kd="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Kd,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var eg=Object(s.a)({inputRoot:{height:34,borderRadius:35,margin:"0.15rem"},multipleSelect:{width:"100%"}}),ng=o.a.memo(function(t){var e=t.id,n=t.filters,i=t.options,r=t.onChange,a=t.title,s=t.multiple,l=t.inputVarient,c=eg();return tg(nt.a,{},void 0,tg(it.a,{},void 0,a),tg(rt.a,{size:"small",value:xt()(n[e])?s?[]:"":s?n[e].map(function(t){return t.value}):n[e].value,onChange:function(t){var n=t.target.value,o=s?[]:null;s?Et()(n,function(t){o.push(Ot()(i,function(e){return e.value===t}))}):o=Ot()(i,function(t){return t.value===n}),r(e,o||null)},multiple:s,variant:l||"standard",className:c.inputRoot,renderValue:function(t){return e=t,s?e.map(function(t){return Ot()(i,function(e){return e.value===t})}).map(function(t){return t.text}).join(", "):Ot()(i,function(t){return t.value===e}).text;var e}},void 0,!s&&tg(ot.a,{value:""},void 0,tg(nn,{},void 0,o.a.createElement(k.FormattedMessage,Qd.none))),i.map(function(t){return tg(ot.a,{value:t.value},t.value,tg(nn,{},void 0,t.text))})))});var ig;function rg(){return(rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var og,ag=Object(s.a)({inputRoot:{borderRadius:35,padding:"3px !important",paddingRight:"65px !important",margin:"0.15rem"},multipleSelect:{width:"100%"}}),sg=o.a.memo(function(t){var e=t.id,n=t.filters,i=t.options,r=t.onChange,a=t.title,s=t.multiple,l=t.inputVarient,c=ag();return function(t,e,n,i){ig||(ig="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:ig,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(mr.a,{size:"small",value:n[e],onChange:function(t,n){return r(e,n)},filterSelectedOptions:!0,multiple:s||!1,options:i,className:s?c.multipleSelect:null,classes:{inputRoot:c.inputRoot},getOptionLabel:function(t){return t.text||""},getOptionSelected:function(t){return function(t,e,n){if(e){if(t){var i=e.map(function(t){return t.value});return!!Ot()(i,function(t){return t===n.value})}return e.value===n.value}return!1}(s,n[e],t)||!1},renderInput:function(t){return o.a.createElement(tt.a,rg({},t,{classes:{root:c.inputLabel},label:a,variant:l||"standard"}))}})});function lg(t,e,n,i){og||(og="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:og,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var cg,ug=Object(s.a)({container:{"& > *":{minWidth:320}},singleSelect:{display:"flex",justifyContent:"start","& > *":{minWidth:"31%",margin:"0 7px"}}}),hg=o.a.memo(Object(k.injectIntl)(function(t){var e=t.open,n=t.onClose,i=t.filters,r=t.groups,a=t.onChange,s=t.intl,l=ug(),c=[{text:s.formatMessage(Qd.ascending),value:"asc"},{text:s.formatMessage(Qd.descending),value:"desc"}],u=[{text:s.formatMessage(Qd.online),value:"online"},{text:s.formatMessage(Qd.offline),value:"offline"}],h=function(){return r.map(function(t){return{text:t.name,value:t.id}})};return lg(J,{open:e,onClose:n,fullScreen:!1,className:l.container,modalTitle:o.a.createElement(k.FormattedMessage,Qd.filters),modalContent:o.a.createElement(k.FormattedMessage,Qd.customizeFilters)},void 0,lg("div",{className:l.singleSelect},void 0,lg(ng,{id:"name",filters:i,options:c,title:o.a.createElement(k.FormattedMessage,Qd.name),onChange:a}),lg(ng,{id:"status",filters:i,options:u,title:o.a.createElement(k.FormattedMessage,Qd.status),onChange:a}),lg(ng,{id:"speed",filters:i,options:c,onChange:a,title:o.a.createElement(k.FormattedMessage,Qd.speed)})),vt()(r)&&r.length>10?lg(sg,{id:"groupId",filters:i,options:h(),onChange:a,multiple:!0,title:o.a.createElement(k.FormattedMessage,Qd.group)}):lg("div",{className:l.singleSelect},void 0,lg(ng,{id:"groupId",multiple:!0,filters:i,options:h(),onChange:a,title:o.a.createElement(k.FormattedMessage,Qd.group)})))}));function fg(t,e,n,i){cg||(cg="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:cg,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function pg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var gg=Object(s.a)({container:{display:"flex",flexWrap:"wrap",justifyContent:"start",padding:"2px 6px","& > *":{width:"100%",flex:"1 0 21%",margin:"0.15rem"}}}),mg=fg(Jd.a,{}),vg=Object(r.memo)(function(t){var e=t.filters,n=t.groups,i=t.onChange,a=gg(),s=pg(Object(r.useState)(!1),2),l=s[0],c=s[1],u=function(){return c(!l)};return fg("div",{className:a.container},void 0,l&&fg(hg,{open:l,onClose:u,filters:e,groups:n,onChange:i}),fg(Zd.a,{icon:mg,label:o.a.createElement(k.FormattedMessage,Qd.moreFilters),clickable:!0,onClick:u,color:"primary",variant:"outlined"}))}),yg=Object(k.defineMessages)({devices:{id:"".concat("app.containers.FleetsDrawer",".devices"),defaultMessage:"Devices"},history:{id:"".concat("app.containers.FleetsDrawer",".history"),defaultMessage:"History"},shouldClusterVehicles:{id:"".concat("app.containers.FleetsDrawer",".shouldClusterVehicles"),defaultMessage:"Should Cluster Vehicles?"}}),_g=n("f8070c2fe09c11722ab2");function bg(t){return new Promise(function(e,n){var i=new WebSocket(t);i.onopen=function(){return e(i)},i.onerror=function(t){return n(t)}})}function xg(t){var e=t;return Object(_g.c)(function(t){e.onmessage=function(e){return t(e.data)},e.onclose=function(){return t(_g.a)};return function(){e.onmessage=null}})}var wg=regeneratorRuntime.mark(Sg),Eg=regeneratorRuntime.mark(Cg),Mg=regeneratorRuntime.mark(Tg),Og=regeneratorRuntime.mark(Ig);function Sg(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(kn.b)(Dn.b,"".concat(jn.a.API_URL,"/devices"));case 3:return t=e.sent,e.next=6,Object(kn.c)({type:_o,payload:t});case 6:return e.next=8,Object(kn.c)(mp());case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(kn.c)(fp(e.t0));case 14:case"end":return e.stop()}},wg,null,[[0,10]])}function Cg(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(kn.b)(Dn.b,"".concat(jn.a.API_URL,"/groups"));case 3:return t=e.sent,e.next=6,Object(kn.c)({type:Ro,payload:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(kn.c)(yp(e.t0));case 12:case"end":return e.stop()}},Eg,null,[[0,8]])}function Tg(){var t,e,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(kn.b)(bg,jn.a.WS_URL);case 3:return t=r.sent,r.next=6,Object(kn.b)(xg,t);case 6:return e=r.sent,r.next=9,Object(kn.c)({type:Eo});case 9:return r.next=12,Object(kn.f)(e);case 12:return n=r.sent,r.next=15,Object(kn.e)(Cn.e);case 15:return i=r.sent,r.next=18,Object(kn.d)(vp(JSON.parse(n),i.server));case 18:r.next=9;break;case 20:r.next=27;break;case 22:return r.prev=22,r.t0=r.catch(0),console.log(r.t0),r.next=27,Object(kn.d)(gp(r.t0));case 27:return r.prev=27,console.log("in finally"),e&&e.close(),t&&t.close(),r.next=33,Object(kn.d)(gp("WebSocket disconnected!"));case 33:return r.finish(27);case 34:return r.next=36,Object(kn.c)(mp());case 36:case"end":return r.stop()}},Mg,null,[[0,22,27,34]])}function Ig(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(kn.a)([Object(kn.g)(yo,Sg),Object(kn.g)(Po,Cg),Object(kn.g)(wo,Tg)]);case 2:case"end":return t.stop()}},Og)}var Pg=function(t,e){return(Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Rg,Fg=function(){function t(t){var e=void 0===t?{}:t,n=e.locale,i=e.instance,r=e.moment;this.yearFormat="YYYY",this.yearMonthFormat="MMMM YYYY",this.dateTime12hFormat="MMMM Do hh:mm a",this.dateTime24hFormat="MMMM Do HH:mm",this.time12hFormat="hh:mm A",this.time24hFormat="HH:mm",this.dateFormat="MMMM Do",this.moment=i||r||ho.a,this.locale=n}return t.prototype.parse=function(t,e){return""===t?null:this.moment(t,e,!0)},t.prototype.date=function(t){if(null===t)return null;var e=this.moment(t);return e.locale(this.locale),e},t.prototype.isValid=function(t){return this.moment(t).isValid()},t.prototype.isNull=function(t){return null===t},t.prototype.getDiff=function(t,e){return t.diff(e)},t.prototype.isAfter=function(t,e){return t.isAfter(e)},t.prototype.isBefore=function(t,e){return t.isBefore(e)},t.prototype.isAfterDay=function(t,e){return t.isAfter(e,"day")},t.prototype.isBeforeDay=function(t,e){return t.isBefore(e,"day")},t.prototype.isBeforeYear=function(t,e){return t.isBefore(e,"year")},t.prototype.isAfterYear=function(t,e){return t.isAfter(e,"year")},t.prototype.startOfDay=function(t){return t.clone().startOf("day")},t.prototype.endOfDay=function(t){return t.clone().endOf("day")},t.prototype.format=function(t,e){return t.locale(this.locale),t.format(e)},t.prototype.formatNumber=function(t){return t},t.prototype.getHours=function(t){return t.get("hours")},t.prototype.addDays=function(t,e){return e<0?t.clone().subtract(Math.abs(e),"days"):t.clone().add(e,"days")},t.prototype.setHours=function(t,e){return t.clone().hours(e)},t.prototype.getMinutes=function(t){return t.get("minutes")},t.prototype.setMinutes=function(t,e){return t.clone().minutes(e)},t.prototype.getSeconds=function(t){return t.get("seconds")},t.prototype.setSeconds=function(t,e){return t.clone().seconds(e)},t.prototype.getMonth=function(t){return t.get("month")},t.prototype.isSameDay=function(t,e){return t.isSame(e,"day")},t.prototype.isSameMonth=function(t,e){return t.isSame(e,"month")},t.prototype.isSameYear=function(t,e){return t.isSame(e,"year")},t.prototype.isSameHour=function(t,e){return t.isSame(e,"hour")},t.prototype.setMonth=function(t,e){return t.clone().month(e)},t.prototype.getMeridiemText=function(t){return"am"===t?"AM":"PM"},t.prototype.startOfMonth=function(t){return t.clone().startOf("month")},t.prototype.endOfMonth=function(t){return t.clone().endOf("month")},t.prototype.getNextMonth=function(t){return t.clone().add(1,"month")},t.prototype.getPreviousMonth=function(t){return t.clone().subtract(1,"month")},t.prototype.getMonthArray=function(t){for(var e=[t.clone().startOf("year")];e.length<12;){var n=e[e.length-1];e.push(this.getNextMonth(n))}return e},t.prototype.getYear=function(t){return t.get("year")},t.prototype.setYear=function(t,e){return t.clone().set("year",e)},t.prototype.mergeDateAndTime=function(t,e){return this.setMinutes(this.setHours(t,this.getHours(e)),this.getMinutes(e))},t.prototype.getWeekdays=function(){return this.moment.weekdaysShort(!0)},t.prototype.isEqual=function(t,e){return null===t&&null===e||this.moment(t).isSame(e)},t.prototype.getWeekArray=function(t){for(var e=t.clone().startOf("month").startOf("week"),n=t.clone().endOf("month").endOf("week"),i=0,r=e,o=[];r.isBefore(n);){var a=Math.floor(i/7);o[a]=o[a]||[],o[a].push(r),r=r.clone().add(1,"day"),i+=1}return o},t.prototype.getYearRange=function(t,e){for(var n=this.moment(t).startOf("year"),i=this.moment(e).endOf("year"),r=[],o=n;o.isBefore(i);)r.push(o),o=o.clone().add(1,"year");return r},t.prototype.getCalendarHeaderText=function(t){return this.format(t,this.yearMonthFormat)},t.prototype.getYearText=function(t){return this.format(t,"YYYY")},t.prototype.getDatePickerHeaderText=function(t){return this.format(t,"ddd, MMM D")},t.prototype.getDateTimePickerHeaderText=function(t){return this.format(t,"MMM D")},t.prototype.getMonthText=function(t){return this.format(t,"MMMM")},t.prototype.getDayText=function(t){return this.format(t,"D")},t.prototype.getHourText=function(t,e){return this.format(t,e?"hh":"HH")},t.prototype.getMinuteText=function(t){return this.format(t,"mm")},t.prototype.getSecondText=function(t){return this.format(t,"ss")},t}(),Lg={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},Ag=function(t){function e(e){var n=void 0===e?{}:e,i=n.moment,r=n.instance,o=t.call(this,{locale:"fa",moment:i})||this;return o.dateTime12hFormat="jMMMM jD hh:mm a",o.dateTime24hFormat="jMMMM jD HH:mm",o.time12hFormat="hh:mm A",o.time24hFormat="HH:mm",o.dateFormat="jMMMM jD",o.moment=r||i||Hi.a,o.locale="fa",o}return function(t,e){function n(){this.constructor=t}Pg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.toJMoment=function(t){return this.moment(t?t.clone():void 0).locale("fa")},e.prototype.parse=function(t,e){return""===t?null:this.moment(t,e,!0).locale("fa")},e.prototype.date=function(t){return null===t?null:this.moment(t).locale("fa")},e.prototype.isBeforeYear=function(t,e){return t.jYear()<e.jYear()},e.prototype.isAfterYear=function(t,e){return t.jYear()>e.jYear()},e.prototype.getMonth=function(t){return t.jMonth()},e.prototype.startOfMonth=function(t){return t.clone().startOf("jMonth")},e.prototype.endOfMonth=function(t){return t.clone().endOf("jMonth")},e.prototype.getNextMonth=function(t){return t.clone().add(1,"jMonth")},e.prototype.getPreviousMonth=function(t){return t.clone().subtract(1,"jMonth")},e.prototype.getYear=function(t){return t.jYear()},e.prototype.setYear=function(t,e){return t.clone().jYear(e)},e.prototype.getMeridiemText=function(t){return"am"===t?this.toJMoment().hours(2).format("A"):this.toJMoment().hours(14).format("A")},e.prototype.getWeekdays=function(){var t=this;return[0,1,2,3,4,5,6].map(function(e){return t.toJMoment().weekday(e).format("dd")})},e.prototype.isEqual=function(t,e){return null===t&&null===e||this.moment(t).isSame(e)},e.prototype.formatNumber=function(t){return t.replace(/\d/g,function(t){return Lg[t]}).replace(/,/g,"\u060c")},e.prototype.getWeekArray=function(t){for(var e=t.clone().startOf("jMonth").startOf("week"),n=t.clone().endOf("jMonth").endOf("week"),i=0,r=e,o=[];r.isBefore(n);){var a=Math.floor(i/7);o[a]=o[a]||[],o[a].push(r),r=r.clone().add(1,"day"),i+=1}return o},e.prototype.getYearRange=function(t,e){for(var n=this.moment(t).startOf("jYear"),i=this.moment(e).endOf("jYear"),r=[],o=n;o.isBefore(i);)r.push(o),o=o.clone().add(1,"jYear");return r},e.prototype.getCalendarHeaderText=function(t){return t.format("jMMMM jYYYY")},e.prototype.getYearText=function(t){return t.format("jYYYY")},e.prototype.getDatePickerHeaderText=function(t){return t.format("ddd, jMMM jD")},e.prototype.getDateTimePickerHeaderText=function(t){return t.format("jMMM jD")},e.prototype.getDayText=function(t){return t.format("jD")},e}(Fg),kg=n("7728af80fbbc041752ea"),jg=n("cc51d72b43105b8dfd61"),Dg=n("ee177d3d0966e20024dd"),Ng=Object(k.defineMessages)({cancelLabel:{id:"".concat("app.components.DatePicker",".cancelLabel"),defaultMessage:"Cancel"},clearLabel:{id:"".concat("app.components.DatePicker",".clearLabel"),defaultMessage:"Clear"},okLabel:{id:"".concat("app.components.DatePicker",".okLabel"),defaultMessage:"OK"}});function zg(t,e,n,i){Rg||(Rg="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Rg,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Gg=Object(s.a)({datePickerRoot:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:5,"& input":{padding:"5px 14px"}},datePicker:{maxWidth:120},timePicker:{maxWidth:70}});var qg,Bg=Object(r.memo)(function(t){var e=t.date,n=void 0===e?ho()().toDate():e,i=t.datePicker,r=void 0===i||i,a=t.maxDate,s=void 0===a?void 0:a,l=t.minDate,c=void 0===l?void 0:l,u=t.onChange,h=t.timePicker,f=void 0===h||h,p=Gg(),d=function(t){return u(t.toDate())};return zg("div",{className:p.datePickerRoot},void 0,zg(kg.a,{utils:Ag,locale:"fa"},void 0,r&&zg(jg.a,{className:p.datePicker,clearable:!0,cancelLabel:o.a.createElement(k.FormattedMessage,Ng.cancelLabel),clearLabel:o.a.createElement(k.FormattedMessage,Ng.clearLabel),inputVariant:"outlined",labelFunc:function(t){return t?t.format("jYYYY/jMM/jDD"):""},maxDate:s,minDate:c,okLabel:o.a.createElement(k.FormattedMessage,Ng.okLabel),onChange:d,value:n}),f&&zg(Dg.a,{className:p.timePicker,clearable:!0,cancelLabel:o.a.createElement(k.FormattedMessage,Ng.cancelLabel),clearLabel:o.a.createElement(k.FormattedMessage,Ng.clearLabel),inputVariant:"outlined",labelFunc:function(t){return t?t.format("HH:mm"):""},okLabel:o.a.createElement(k.FormattedMessage,Ng.okLabel),onChange:d,value:n})))}),Ug=n("1a661b4d25e85fc8b8d4"),Wg=n("86e872c5125e2efac7b0"),Yg=n("40adfee730b536e75ddb"),Hg=Object(k.defineMessages)({scale:{id:"".concat("app.containers.ClusteringScale",".scale"),defaultMessage:"Scale of clustering"}});function Xg(t,e,n,i){qg||(qg="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:qg,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Kg=Object(s.a)(function(){return{ClusteringScaleRoot:{width:"100%",padding:"20px 25px"},Slider:{margin:"auto"}}});var Vg=function(t){var e=t.routeHistoryLength,n=t.clusteringScale,i=t.onScaleChanged,r=Kg();return Xg("div",{className:r.ClusteringScaleRoot},void 0,Xg(bi.a,{id:"discrete-slider",gutterBottom:!0},void 0,o.a.createElement(k.FormattedMessage,Hg.scale)),Xg(Yg.a,{className:r.Slider,value:n,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:e?20:0,onChangeCommitted:function(t,e){i(e)}}))},Zg=Object(k.defineMessages)({settings:{id:"".concat("app.components.RouteHistorySettingsModal",".settings"),defaultMessage:"Route History Settings"},showMarkers:{id:"".concat("app.components.RouteHistorySettingsModal",".showMarkers"),defaultMessage:"Show Markers"},showSpeedLabels:{id:"".concat("app.components.RouteHistorySettingsModal",".showSpeedLabels"),defaultMessage:"Show Speed Labels"}}),$g=n("d10af94d6d7ac0013e81"),Jg=n.n($g);function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(e){em(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nm,im=function(t,e,n){if(t){if(1===e)return t;if(t.length<100)return t;var i=function(t){var e=Math.floor(t/1e3);return 0!==e?e:1}(t?t.length:0),r=t.filter(function(t,n){return n%(e*i)===0});if(n){var o=function(t,e){var n=[];return Et()(t,function(t){t.speed>e&&n.push(t)}),n.length>0?n:null}(t,n);r=Jg()(r,o,"id")}return r}return null},rm={endDate:ho()().toDate(),error:null,routeHistory:null,selectedPosition:null,showLoader:!1,showMarkers:!1,showSpeedLabels:!1,sortedProperty:null,startDate:ho()().subtract("minutes",10).toDate()},om=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rm,e=arguments.length>1?arguments[1]:void 0;return Object(Tn.a)(t,function(n){switch(e.type){case xp:n.error=e.payload,n.routeHistory=null,n.showLoader=!1;break;case wp:n.routeHistory=e.payload&&e.selectedDevice&&(i=e.payload,r=e.selectedDevice,o=r.attributes.speedLimit,i.map(function(t){var e=o&&o<t.speed?"#ff5500":"#00ff00";return tm(tm({},t),{},{icon:Be(Ce.arrow,e,t.course,"arrow","arrow")})})),n.error=null,n.showLoader=!1;break;case Ep:n.endDate=e.payload,t.startDate.getTime()>n.endDate&&(n.endDate=t.startDate);break;case Mp:n.showLoader=e.payload,n.routeHistory=null;break;case Cp:n.selectedPosition=e.payload;break;case Sp:n.startDate=e.payload,n.startDate.getTime()>t.endDate.getTime()&&(n.endDate=n.startDate);break;case Op:n.showMarkers=e.payload;break;case Tp:n.showSpeedLabels=e.payload;break;case Ip:n.sortedProperty=e.payload}var i,r,o})},am=function(t){return t.fleetHistory||rm},sm=function(){return Object(f.a)(am,function(t){return t.showMarkers})},lm=function(){return Object(f.a)(am,function(t){return t.routeHistory})},cm=function(){return Object(f.a)(am,function(t){return t.selectedPosition})},um=function(){return Object(f.a)(am,function(t){return t.showSpeedLabels})},hm=function(){return Object(f.a)(am,function(t){return t})},fm=function(t){return{type:"app/MapContainer/SET_MAP_ZOOM",zoom:t}},pm=function(t){return{type:"app/MapContainer/SET_MAP_CLUSTERING_SCALE",scale:t}},dm=function(t){return{type:"app/MapContainer/SET_VIEWPORT",viewport:t}};function gm(t,e,n,i){nm||(nm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:nm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var mm=Object(s.a)({modal:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around",margin:5},formControl:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around",margin:5}});var vm=Object(f.b)({showMarkers:sm(),showSpeedLabels:um(),routeHistory:lm(),clusteringScale:Object(f.a)(Gp,function(t){return t.scale})});var ym=Object(u.c)(vm,function(t){return{changeShowMarkers:function(e){return t(Lp(e.target.checked))},changeShowSpeedLabels:function(e){return t(Ap(e.target.checked))},changeClusteringScale:function(e){return t(pm(e))}}}),_m=Object(h.d)(ym)(function(t){var e=mm(),n=t.open,i=t.onClose,r=t.showMarkers,a=t.changeShowMarkers,s=t.showSpeedLabels,l=t.changeShowSpeedLabels,c=t.routeHistory,u=t.clusteringScale,h=t.changeClusteringScale;return gm(J,{open:n,onClose:i,className:e.modal,modalTitle:o.a.createElement(k.FormattedMessage,Zg.settings)},void 0,gm(Ug.a,{control:gm(Wg.a,{checked:r,onChange:a,name:"show-markers",color:"primary",size:"small"}),label:o.a.createElement(k.FormattedMessage,Zg.showMarkers)}),gm(Ug.a,{control:gm(Wg.a,{checked:s,color:"primary",name:"show-markers",onChange:l,size:"small"}),disabled:!r,label:o.a.createElement(k.FormattedMessage,Zg.showSpeedLabels)}),c?gm(Vg,{routeHistoryLength:c?c.length:0,clusteringScale:u,onScaleChanged:h}):null)}),bm=regeneratorRuntime.mark(wm),xm=regeneratorRuntime.mark(Em);function wm(t){var e,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(kn.c)({type:Mp,payload:!0});case 3:return e=new URL("".concat(jn.a.API_URL,"/reports/route")),n=new URLSearchParams,Object.keys(t.payload).forEach(function(e){return n.append(e,t.payload[e])}),e.search=n.toString(),r.next=9,Object(kn.b)(Dn.b,e);case 9:return i=r.sent,r.next=12,Object(kn.c)(Rp(i,t.payload.selectedDevice));case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(0),console.log(r.t0),r.next=19,Object(kn.c)(Pp(r.t0));case 19:case"end":return r.stop()}},bm,null,[[0,14]])}function Em(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(kn.a)([Object(kn.g)(bp,wm)]);case 2:case"end":return t.stop()}},xm)}var Mm,Om=Object(k.defineMessages)({clear:{id:"".concat("app.containers.FleetHistory",".clear"),defaultMessage:"clear"},selectDevice:{id:"".concat("app.containers.FleetHistory",".selectDevice"),defaultMessage:"Select the device"},settings:{id:"".concat("app.containers.FleetHistory",".settings"),defaultMessage:"Settings"},submit:{id:"".concat("app.containers.FleetHistory",".submit"),defaultMessage:"Submit"}}),Sm=Object(k.defineMessages)({noData:{id:"".concat("app.components.RouteHistoryList",".noData"),defaultMessage:"There are not any records."},battery:{id:"".concat("app.components.RouteHistoryList",".battery"),defaultMessage:"Battery"},course:{id:"".concat("app.components.RouteHistoryList",".course"),defaultMessage:"Point"},deviceTime:{id:"".concat("app.components.RouteHistoryList",".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat("app.components.RouteHistoryList",".distance"),defaultMessage:"Distance"},ignition:{id:"".concat("app.components.RouteHistoryList",".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat("app.components.RouteHistoryList",".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat("app.components.RouteHistoryList",".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat("app.components.RouteHistoryList",".motion"),defaultMessage:"Motion"},no:{id:"".concat("app.components.RouteHistoryList",".no"),defaultMessage:"No"},operator:{id:"".concat("app.components.RouteHistoryList",".operator"),defaultMessage:"Operator"},outdated:{id:"".concat("app.components.RouteHistoryList",".outdated"),defaultMessage:"Outedated"},power:{id:"".concat("app.components.RouteHistoryList",".power"),defaultMessage:"Power"},protocol:{id:"".concat("app.components.RouteHistoryList",".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat("app.components.RouteHistoryList",".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat("app.components.RouteHistoryList",".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat("app.components.RouteHistoryList",".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat("app.components.RouteHistoryList",".valid"),defaultMessage:"Valid"},yes:{id:"".concat("app.components.RouteHistoryList",".yes"),defaultMessage:"Yes"}}),Cm=n("97cd5d5e566200f9197b");function Tm(t){return(Tm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Im,Pm=function(t){var e=t.children,n=["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"];return function(t,e,n,i){Mm||(Mm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Mm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}("span",{},void 0,"object"!==Tm(e)?e.toString().replace(/\d/g,function(t){return n[parseInt(t,10)]}):e)};var Rm,Fm=Object(f.b)({units:Object(Cn.c)()}),Lm=Object(u.c)(Fm,null),Am=Object(h.d)(Lm)(function(t){var e=t.units,n=t.type,i=t.value;return function(t,e,n,i){Im||(Im="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Im,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(Pm,{},void 0,Re(i,n,e))});function km(t,e,n,i){Rm||(Rm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Rm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var jm,Dm=Object(s.a)(function(t){return{routeHistoryRowRoot:{backgroundColor:function(t){var e=t.isSelected,n=t.isExpanded;return(e||n)&&"whitesmoke"},borderRadius:5},buttonBase:{width:"100%",padding:5},container:{height:50},dataTime:{fontSize:"0.8rem",fontWeight:"bold"},speed:{textAlign:"center",fontSize:"0.7rem",direction:"rtl",whiteSpace:"nowrap"},distance:{textAlign:"center",fontSize:"0.7rem",direction:"rtl"},expansionButton:{textAlign:"center"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130,width:"100%",backgroundColor:"whitesmoke"}}}),Nm=Object(mi.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(nr.a),zm=km(rr.a,{}),Gm=o.a.memo(function(t){var e,n,i,r,a=t.data,s=t.index,l=t.style,c=a.expandedIndex,u=a.onClick,h=a.onExpand,f=a.selectedRow,p=a.data[s],d=f&&p.id===f.id,g=c===s,m=Dm({isSelected:d,isExpanded:g});return km("div",{className:m.routeHistoryRowRoot,style:l},void 0,km(Q.a,{alignItems:"center",className:m.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,km(Q.a,{item:!0,xs:10},void 0,km(Cm.a,{className:m.buttonBase,onClick:function(){return u(p)}},void 0,km(Q.a,{alignItems:"center",className:m.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,km(Q.a,{item:!0,xs:2},void 0,km(Pm,{},void 0,s+1)),km(Q.a,{item:!0,xs:5,zeroMinWidth:!0},void 0,km(bi.a,{className:m.dataTime},void 0,Hi()(p.deviceTime).format("jYYYY-jMM-jDD HH:mm:ss"))),km(Q.a,{className:m.distance,item:!0,xs:2},void 0,km(Am,{type:"distance",value:p.attributes.distance})),km(Q.a,{className:m.speed,item:!0,xs:3},void 0,km(Am,{type:"speed",value:p.speed}))))),km(Q.a,{className:m.expansionButton,item:!0,xs:2},void 0,km(M.a,{className:Object(Wi.a)(m.expand,(n={},i=m.expandOpen,r=g,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n)),onClick:(e=s,function(){return h(e!==c?e:null)}),size:"small","aria-expanded":g,"aria-label":"show more"},void 0,zm))),p&&km(Xi.a,{in:g,timeout:"auto",unmountOnExit:!0},void 0,g&&km(tr.a,{cellHeight:40,className:m.gridList,cols:2},void 0,It()(vd(p),function(t,e){return km(er.a,{cols:1},e,km(Nm,{title:Sm[e]?o.a.createElement(k.FormattedMessage,Sm[e]):e,subtitle:km(Am,{type:e,value:t||"--"})}))}))))});function qm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Bm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bm(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Um=Object(s.a)({routeHistoryRoot:{bottom:0,minWidth:306,maxWidth:400,margin:0,padding:"2px 6px",width:"100%",height:"100%",maxHeight:"inherit",overflowY:"auto",zIndex:1}});var Wm,Ym=Object(r.memo)(function(t){var e=t.data,n=t.onSelect,i=t.selected,r=t.isExpanded,a=Um(),s=o.a.createRef(),l=o.a.createRef(),c=qm(o.a.useState(null),2),u=c[0],h=c[1],f=qm(o.a.useState(0),2),p=f[0],d=f[1],g=function(t){h(t),s.current.resetAfterIndex(t<=u?t:u,!1)};return o.a.useLayoutEffect(function(){setTimeout(function(){s.current&&e&&!r&&(d(l.current.clientHeight),s.current&&s.current.resetAfterIndex(0,!1))},5)}),o.a.useEffect(function(){if(i){var t=Lt()(e,{id:i.id});s.current.scrollToItem(t,"smart"),t!==u&&g(null)}},[i]),o.a.createElement("div",{className:a.routeHistoryRoot,ref:l},e&&e.length?o.a.createElement(Bi,{direction:"rtl",id:"route-history-list",itemCount:e.length,itemData:{data:e,expandedIndex:u,onClick:n,onExpand:g,selectedRow:i},itemKey:function(t,e){return e.data[t].id},itemSize:function(t){return t===u?180:50},height:p-10-(r?120:0),ref:s,width:"100%"},Gm):function(t,e,n,i){jm||(jm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:jm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}("p",{},void 0,o.a.createElement(k.FormattedMessage,Sm.noData)))});function Hm(t,e,n,i){Wm||(Wm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Wm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Xm(){return(Xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Km(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Vm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vm(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Zm=Object(s.a)(function(){return{fleetHistoryRoot:{display:"flex",flexDirection:"column",height:"100%"},autocomplete:{},historyForm:{display:"flex",flexDirection:"column",padding:10},actions:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around",margin:5},expansionPanel:{margin:5,"&::before":{backgroundColor:"inherit",display:"none"},boxShadow:"none"},expansionPanelExpanded:{margin:"5 !important",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"},expansionTitle:{fontSize:"inherit"},progress:{textAlign:"center"}}}),$m=Hm(Y.a,{});var Jm=Object(f.b)({endDate:Object(f.a)(am,function(t){return t.endDate}),error:Object(f.a)(am,function(t){return t.error}),fleets:Wp(),fleetHistory:hm(),routeHistory:lm(),selectedDevice:Xp(),selectedPosition:cm(),showLoader:Object(f.a)(am,function(t){return t.showLoader}),startDate:Object(f.a)(am,function(t){return t.startDate}),sortedProperty:Object(f.a)(am,function(t){return t.sortedProperty})});var Qm,tv=Object(u.c)(Jm,function(t){return{changeEndDateTime:function(e){return t({type:Ep,payload:e})},changeShowMarkers:function(e){return t(Lp(e.target.checked))},changeShowSpeedLabels:function(e){return t(Ap(e.target.checked))},changeStartDateTime:function(e){return t({type:Sp,payload:e})},changeSortedProperty:function(e){return t({type:Ip,payload:e})},clearHistory:function(){return t(Rp(null))},getRouteHistory:function(e){return t({type:bp,payload:e})},selectDevice:function(e){return t(dp(e))},selectPosition:function(e){return t(Fp(e))},changeClusteringScale:function(e){return t(pm(e))}}}),ev=Object(h.d)(tv)(function(t){var e=t.changeEndDateTime,n=t.changeStartDateTime,i=t.clearHistory,r=t.endDate,a=t.getRouteHistory,s=t.fleets,l=t.routeHistory,c=t.selectDevice,u=t.selectPosition,h=t.selectedDevice,f=t.selectedPosition,p=t.showLoader,d=t.startDate,g=Zm(),m=Km(o.a.useState(!1),2),v=m[0],y=m[1];Object(z.a)({key:"fleetHistory",reducer:om}),Object(N.a)({key:"fleetHistory",saga:Em});var _=function(){return y(!v)};return Hm("div",{className:g.fleetHistoryRoot},void 0,Hm("div",{className:g.historyForm},void 0,Hm(mr.a,{className:g.autocomplete,options:s||[],getOptionLabel:function(t){return t.name||""},getOptionSelected:function(t,e){return t.name.match(new RegExp(e,"g"))},onChange:function(t,e){return c(e&&e.uniqueId)},renderInput:function(t){return o.a.createElement(tt.a,Xm({},t,{label:o.a.createElement(k.FormattedMessage,Om.selectDevice),size:"small",variant:"outlined"}))},value:h||""}),Hm(Bg,{date:d,onChange:n}),Hm(Bg,{date:r,minDate:d,onChange:e}),Hm(E.a,{variant:"outlined",onClick:_},void 0,o.a.createElement(k.FormattedMessage,Om.settings)),Hm(_m,{open:v,onClose:_}),Hm("div",{className:g.actions},void 0,Hm(E.a,{color:"primary",variant:"contained",onClick:function(){return h&&a({selectedDevice:h,deviceId:h.id,from:d.toISOString(),to:r.toISOString()})},disabled:p},void 0,o.a.createElement(k.FormattedMessage,Om.submit)),Hm(E.a,{variant:"outlined",onClick:function(){return i()}},void 0,o.a.createElement(k.FormattedMessage,Om.clear)))),p?Hm("div",{className:g.progress},void 0,$m):Hm(Ym,{data:l,onSelect:u,selected:f}))});function nv(t,e,n,i){Qm||(Qm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Qm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iv(Object(n),!0).forEach(function(e){sv(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ov(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return av(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return av(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function sv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lv(){return(lv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function cv(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var uv=Object(mi.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",borderRadius:"4px",boxShadow:"none",margin:"5px 5px",minWidth:306,maxWidth:358,top:55,zIndex:1,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"5px 5px"}},expanded:{}})(vi.a),hv=Object(mi.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:0,minHeight:30,"&$expanded":{minHeight:30}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(yi.a),fv=Object(mi.a)(function(){return{root:{padding:0,bottom:0,height:"80vh"}}})(_i.a),pv=Object(mi.a)(function(){return{root:{width:"80%"}}})(Mi.a),dv=function(t){return{id:"".concat(t,"-tab"),"aria-controls":"".concat(t,"-tabpannel")}},gv=function(t){var e=t.children,n=t.value,i=t.index,r=cv(t,["children","value","index"]);return n===i&&o.a.createElement("div",lv({role:"tabpanel",hidden:n!==i,id:"".concat(i,"-tabpanel"),"aria-labelledby":"".concat(i,"-tab")},r),e)},mv=Object(s.a)(function(t){return sv({expansionPanel:{width:306},expansionDetails:{display:"flex",flexFlow:"column",flexGrow:1},tabbar:{marginBottom:10},tabPannel:{position:"relative",overflow:"hidden",alignContent:"stretch",display:"flex",flexDirection:"column",height:"100%"}},t.breakpoints.up("sm"),{expansionPanel:{width:358}})}),vv=nv(pv,{}),yv=nv(pv,{animation:!1}),_v=nv(pv,{animation:"wave"}),bv=nv(ev,{});var xv=Object(f.b)({user:Object(Cn.d)(),fleets:Wp(),isFilterPanelOpen:Object(f.a)(Up,function(t){return t.isFilterPanelOpen}),pinnedDeviceUniqueId:Yp(),selectedDeviceUniqueId:Hp(),showLoader:Object(f.a)(Up,function(t){return t.showLoader}),groups:Kp(),filters:Object(f.a)(Up,function(t){return t.filters}),error:Object(f.a)(Up,function(t){return t.error})});var wv=Object(u.c)(xv,function(t){return{getFleets:function(){return t({type:yo})},getFleetsGroups:function(){return t({type:Po})},onPin:function(e){return t(pp(e))},setFilterPanelState:function(){return t({type:Mo})},selectDeviceFromList:function(e){return t(dp(e))},setFilters:function(e){return t({type:Io,payload:e})}}}),Ev=Object(h.d)(wv)(function(t){var e=t.user,n=t.fleets,i=t.getFleets,a=t.getFleetsGroups,s=t.onPin,l=t.pinnedDeviceUniqueId,c=t.selectDeviceFromList,u=t.selectedDeviceUniqueId,h=t.setFilters,f=t.groups,p=t.filters,d=mv(),g=ov(Object(r.useState)("devices"),2),m=g[0],v=g[1],y=ov(Object(r.useState)(window.innerHeight>=600),2),_=y[0],b=y[1];return Object(z.a)({key:"fleetsDrawer",reducer:Ao}),Object(N.a)({key:"fleetsDrawer",saga:Ig}),Object(r.useEffect)(function(){i(),a()},[]),nv(uv,{square:!0,expanded:_,className:d.expansionPanel,onChange:function(){return b(!_)}},void 0,nv(hv,{"aria-controls":"panel1d-content",id:"panel1d-header"},void 0,nv(bi.a,{},void 0,o.a.createElement(k.FormattedMessage,yg.devices))),nv(fv,{className:d.expansionDetails},void 0,nv(xi.a,{className:d.tabbar,color:"default",position:"static"},void 0,nv(wi.a,{onChange:function(t,e){return v(e)},value:m,variant:"fullWidth"},void 0,o.a.createElement(Ei.a,lv({label:o.a.createElement(k.FormattedMessage,yg.devices),value:"devices",wrapped:!0},dv("devices"))),o.a.createElement(Ei.a,lv({label:o.a.createElement(k.FormattedMessage,yg.history),value:"history",wrapped:!0},dv("history"))))),nv(gv,{index:"devices",value:m,className:d.tabPannel},void 0,n&&nv(vg,{filters:p,groups:f,onChange:function(t,e){h(rv(rv({},p),{},sv({},t,e)))}}),xt()(n)?nv("div",{style:{width:"100%",display:"flex",flexFlow:"column",alignItems:"center"}},void 0,vv,yv,_v):nv(Vd,{user:e,fleets:n,isVisible:_,onClick:c,onPin:s,pinnedDevice:l,selectedDevice:u})),nv(gv,{index:"history",value:m,className:d.tabPannel},void 0,bv)))}),Mv=function(t){return o.a.createElement(o.a.Fragment,null,t.children)};Mv.propTypes={children:c.a.node};var Ov=Mv,Sv="preload",Cv="useInterimTilesOnError",Tv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Iv=function(t){function e(e){var n=this,i=e||{},r=$o({},i);return delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return Tv(e,t),e.prototype.getPreload=function(){return this.get(Sv)},e.prototype.setPreload=function(t){this.set(Sv,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Cv)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Cv,t)},e}(ts),Pv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rv=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=r,o}return Pv(e,t),e}(oa);new Array(6);function Fv(t,e,n,i,r,o,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t}function Lv(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Av(t,e,n,i,r,o,a,s){var l=Math.sin(o),c=Math.cos(o);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=a*i*c-s*i*l+e,t[5]=a*r*l+s*r*c+n,t}function kv(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];Ua(0!==i,32);var r=e[0],o=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/i,t[1]=-o/i,t[2]=-a/i,t[3]=r/i,t[4]=(a*c-s*l)/i,t[5]=-(r*c-o*l)/i,t}function jv(t){return"matrix("+t.join(", ")+")"}var Dv,Nv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zv=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return Nv(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var i=t.prototype.get.call(this,e),r=Ko(n);return r in this.consumers||(this.consumers[r]={}),this.consumers[r][e]=!0,i},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=0,n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[Ko(t)]},e}(al),Gv=[],qv=[0,0,0,0],Bv=new zv,Uv={},Wv=null,Yv={},Hv=function(){var t,e,n=100,i=Uv,r="32px ",o=["monospace","serif"],a=o.length,s="wmytzilWMYTZIL@#/&?$%10\uf013";function l(t,n,i){for(var l=Xv(),c=!0,u=0;u<a;++u){var h=o[u];if(l.font=t+" "+n+" "+r+h,e=l.measureText(s).width,i!=h){l.font=t+" "+n+" "+r+i+","+h;var f=l.measureText(s).width;c=c&&f!=e}}return!!c}function c(){var e=!0;for(var r in i)i[r]<n&&(l.apply(this,r.split("\n"))?(i[r]=n,Jo(Yv),Wv=null,Dv=void 0,Bv.getCount()&&Bv.clear()):(++i[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Fa(e);if(r)for(var o=r.families,a=0,s=o.length;a<s;++a){var u=o[a],h=r.style+"\n"+r.weight+"\n"+u;h in i||(i[h]=n,l(r.style,r.weight,u)||(i[h]=0,void 0===t&&(t=setInterval(c,32))))}}}();function Xv(){return Wv||(Wv=va(1,1)),Wv}var Kv,Vv,Zv=(Vv=Yv,function(t){var e=Vv[t];return void 0==e&&(Kv||((Kv=document.createElement("div")).innerHTML="M",Kv.style.margin="0 !important",Kv.style.padding="0 !important",Kv.style.position="absolute !important",Kv.style.left="-99999px !important"),Kv.style.font=t,document.body.appendChild(Kv),e=Kv.offsetHeight,Vv[t]=e,document.body.removeChild(Kv)),e});function $v(t,e){var n=Xv();return t!=Dv&&(n.font=t,Dv=n.font),n.measureText(e).width}function Jv(t,e,n){if(e in n)return n[e];var i=$v(t,e);return n[e]=i,i}function Qv(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var ty=[1,0,0,1,0,0];function ey(t,e,n,i,r,o,a,s,l,c,u){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,a,s,l,c,a*u,s*u),1!=n&&(t.globalAlpha=h),e&&t.setTransform.apply(t,ty)}var ny=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iy=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return ny(e,t),e.prototype.getFeatures=function(t){return Ho()},e.prototype.prepareFrame=function(t){return Ho()},e.prototype.renderFrame=function(t,e){return Ho()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){var o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){},e.prototype.getDataAtPixel=function(t,e,n){return Ho()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===ds.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=ds.LOADED&&e!=ds.ERROR&&t.addEventListener(la.CHANGE,this.boundHandleImageChange_),e==ds.IDLE&&(t.load(),e=t.getState()),e==ds.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==$a.READY&&t.changed()},e}(ua),ry=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oy=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=va(1,1).canvas,n}return ry(e,t),e.prototype.useContainer=function(t,e,n){var i,r,o=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===o&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(r=s.getContext("2d")));if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement("div")).className=o;var a=i.style;a.position="absolute",a.width="100%",a.height="100%";var s=(r=va()).canvas;i.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=i,this.context=r}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i/2,o=e.size[1]*i/2,a=e.viewState.rotation,s=Bs(n),l=Us(n),c=js(n),u=ks(n);Lv(e.coordinateToPixelTransform,s),Lv(e.coordinateToPixelTransform,l),Lv(e.coordinateToPixelTransform,c),Lv(e.coordinateToPixelTransform,u),t.save(),Qv(t,-a,r,o),t.beginPath(),t.moveTo(s[0]*i,s[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(u[0]*i,u[1]*i),t.clip(),Qv(t,a,r,o)},e.prototype.clipUnrotated=function(t,e,n){var i=Bs(n),r=Us(n),o=js(n),a=ks(n);Lv(e.coordinateToPixelTransform,i),Lv(e.coordinateToPixelTransform,r),Lv(e.coordinateToPixelTransform,o),Lv(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;Lv(s,i),Lv(s,r),Lv(s,o),Lv(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=new Rv(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Ha,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Xa,t,e)},e.prototype.getRenderTransform=function(t,e,n,i,r,o,a){var s=r/2,l=o/2,c=i/e,u=-c,h=-t[0]+a,f=-t[1];return Av(this.tempTransform_,s,l,c,u,-n,h,f)},e.prototype.getDataAtPixel=function(t,e,n){var i,r=Lv(this.inversePixelTransform,t.slice()),o=this.context;try{i=o.getImageData(Math.round(r[0]),Math.round(r[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:i}return 0===i[3]?null:i},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=jv(t),this.createTransformStringCanvas_.style.transform},e}(iy),ay=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sy=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Ec(0,0,0,0),n}return ay(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==os.LOADED||n==os.EMPTY||n==os.ERROR&&!i},e.prototype.getTile=function(t,e,n,i){var r=i.pixelRatio,o=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,r,o);return s.getState()==os.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(os.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,a=i.center,s=i.rotation,l=t.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),f=u.getTileGridForProjection(r),p=f.getZForResolution(o,u.zDirection),d=f.getResolution(p),g=t.extent,m=n.extent&&oc(n.extent,r);m&&(g=qs(g,oc(n.extent,r)));var v=u.getTilePixelRatio(l),y=Math.round(t.size[0]*v),_=Math.round(t.size[1]*v);if(s){var b=Math.round(Math.sqrt(y*y+_*_));y=b,_=b}var x=d*y/2/v,w=d*_/2/v,E=[a[0]-x,a[1]-w,a[0]+x,a[1]+w],M=f.getTileRangeForExtentAndZ(g,p),O={};O[p]={};var S=this.createLoadedTileFinder(u,r,O),C=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;for(var I=M.minX;I<=M.maxX;++I)for(var P=M.minY;P<=M.maxY;++P){var R=this.getTile(p,I,P,t);if(this.isDrawableTile(R)){var F=Ko(this);if(R.getState()==os.LOADED){O[p][R.tileCoord.toString()]=R;var L=R.inTransition(F);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(R)||(this.newTiles_=!0)}if(1===R.getAlpha(F,t.time))continue}var A=f.getTileCoordChildTileRange(R.tileCoord,T,C),k=!1;A&&(k=S(p+1,A)),k||f.forEachTileCoordParentTileRange(R.tileCoord,S,T,C)}var j=d/o;Av(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/v,1/v,s,-y/2,-_/2);var D=this.createTransformString(this.pixelTransform);this.useContainer(e,D,n.opacity);var N=this.context,z=N.canvas;kv(this.inversePixelTransform,this.pixelTransform),Av(this.tempTransform_,y/2,_/2,j,j,0,-y/2,-_/2),z.width!=y||z.height!=_?(z.width=y,z.height=_):this.containerReused||N.clearRect(0,0,y,_),m&&this.clipUnrotated(N,t,m),this.preRender(N,t),this.renderedTiles.length=0;var G,q,B,U=Object.keys(O).map(Number);U.sort(ko),1!==n.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(G=[],q=[]):U=U.reverse();for(var W=U.length-1;W>=0;--W){var Y=U[W],H=u.getTilePixelSize(Y,l,r),X=f.getResolution(Y)/d,K=H[0]*X*j,V=H[1]*X*j,Z=f.getTileCoordForCoordAndZ(Bs(E),Y),$=f.getTileCoordExtent(Z),J=Lv(this.tempTransform_,[v*($[0]-E[0])/d,v*(E[3]-$[3])/d]),Q=v*u.getGutterForProjection(r),tt=O[Y];for(var et in tt){var nt=(R=tt[et]).tileCoord,it=J[0]-(Z[1]-nt[1])*K,rt=Math.round(it+K),ot=J[1]-(Z[2]-nt[2])*V,at=Math.round(ot+V),st=rt-(I=Math.round(it)),lt=at-(P=Math.round(ot)),ct=p===Y;if(!(L=ct&&1!==R.getAlpha(Ko(this),t.time)))if(G){N.save(),B=[I,P,I+st,P,I+st,P+lt,I,P+lt];for(var ut=0,ht=G.length;ut<ht;++ut)if(p!==Y&&Y<q[ut]){var ft=G[ut];N.beginPath(),N.moveTo(B[0],B[1]),N.lineTo(B[2],B[3]),N.lineTo(B[4],B[5]),N.lineTo(B[6],B[7]),N.moveTo(ft[6],ft[7]),N.lineTo(ft[4],ft[5]),N.lineTo(ft[2],ft[3]),N.lineTo(ft[0],ft[1]),N.clip()}G.push(B),q.push(Y)}else N.clearRect(I,P,st,lt);this.drawTileImage(R,t,I,P,st,lt,Q,ct,n.opacity),G&&!L&&N.restore(),this.renderedTiles.push(R),this.updateUsedTiles(t.usedTiles,u,R)}}return this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Ts(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=l,this.renderedProjection=r,this.manageTilePyramid(t,u,f,l,r,g,p,c.getPreload()),this.updateCacheSize_(t,u),this.scheduleExpireCache(t,u),this.postRender(N,t),n.extent&&N.restore(),D!==z.style.transform&&(z.style.transform=D),this.container},e.prototype.drawTileImage=function(t,e,n,i,r,o,a,s,l){var c=this.getTileImage(t);if(c){var u=Ko(this),h=s?t.getAlpha(u,e.time):1,f=l*h,p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,i,r,o),p&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=Ko(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=Ko(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=Ko(e),i=0;n in t.usedTiles&&(i+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(i+=Object.keys(t.wantedTiles[n]).length);var r=e.tileCache;r.highWaterMark<i&&(r.highWaterMark=i)},e.prototype.manageTilePyramid=function(t,e,n,i,r,o,a,s,l){var c=Ko(e);c in t.wantedTiles||(t.wantedTiles[c]={});var u,h,f,p,d,g,m=t.wantedTiles[c],v=t.tileQueue;for(g=n.getMinZoom();g<=a;++g)for(h=n.getTileRangeForExtentAndZ(o,g,h),f=n.getResolution(g),p=h.minX;p<=h.maxX;++p)for(d=h.minY;d<=h.maxY;++d)a-g<=s?((u=e.getTile(g,p,d,i,r)).getState()==os.IDLE&&(m[u.getKey()]=!0,v.isKeyQueued(u.getKey())||v.enqueue([u,c,n.getTileCoordCenter(u.tileCoord),f])),void 0!==l&&l(u)):e.useTile(g,p,d,r)},e}(oy);sy.prototype.getLayer;var ly=sy,cy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uy=function(t){function e(e){return t.call(this,e)||this}return cy(e,t),e.prototype.createRenderer=function(){return new ly(this)},e}(Iv),hy=o.a.createContext({}),fy=hy.Provider,py=(hy.Consumer,hy),dy=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,gy=/^([a-z]*)$|^hsla?\(.*\)$/i;function my(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var vy=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0===(3&r++)&&(delete t[o],--e)}i=function(t){var e,n,i,r,o;gy.exec(t)&&(t=my(t));if(dy.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),r=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?_y(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),_y(o)):Ua(!1,14);return o}(n),t[n]=i,++e}return i}}();function yy(t){return Array.isArray(t)?t:vy(t)}function _y(t){return t[0]=Aa(t[0]+.5|0,0,255),t[1]=Aa(t[1]+.5|0,0,255),t[2]=Aa(t[2]+.5|0,0,255),t[3]=Aa(t[3],0,1),t}function by(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}var xy={FRACTION:"fraction",PIXELS:"pixels"},wy=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=Ey(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var r=Ey(t,e,n);this.cache_[r]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function Ey(t,e,n){return e+":"+t+":"+(n?function(t){return"string"===typeof t?t:by(t)}(n):"null")}var My=new wy,Oy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sy=function(t){function e(e,n,i,r,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==r&&(s.image_.crossOrigin=r),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=i,s.src_=n,s.tainted_,s}return Oy(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ds.LOADED){this.tainted_=!1;var t=va(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(la.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ds.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ds.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=va(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ds.IDLE){this.imageState_=ds.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=el(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=r,n[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(sa);var Cy={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ty=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return Ho()},t.prototype.getImage=function(t){return Ho()},t.prototype.getHitDetectionImage=function(t){return Ho()},t.prototype.getImageState=function(){return Ho()},t.prototype.getImageSize=function(){return Ho()},t.prototype.getHitDetectionImageSize=function(){return Ho()},t.prototype.getOrigin=function(){return Ho()},t.prototype.getSize=function(){return Ho()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){Ho()},t.prototype.load=function(){Ho()},t.prototype.unlistenImageChange=function(t){Ho()},t}(),Iy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Py=function(t){function e(e){var n=this,i=e||{},r=void 0!==i.opacity?i.opacity:1,o=void 0!==i.rotation?i.rotation:0,a=void 0!==i.scale?i.scale:1,s=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:r,rotation:o,scale:a,rotateWithView:s})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:Cy.TOP_LEFT,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:xy.FRACTION,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:xy.FRACTION,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,u=i.src;Ua(!(void 0!==u&&l),4),Ua(!l||l&&c,5),void 0!==u&&0!==u.length||!l||(u=l.src||Ko(l)),Ua(void 0!==u&&u.length>0,6);var h=void 0!==i.src?ds.IDLE:ds.LOADED;return n.color_=void 0!==i.color?yy(i.color):null,n.iconImage_=function(t,e,n,i,r,o){var a=My.get(e,i,o);return a||(a=new Sy(t,e,n,i,r,o),My.set(e,i,o,a)),a}(l,u,c,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:Cy.TOP_LEFT,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return Iy(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==xy.FRACTION||this.anchorYUnits_==xy.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==xy.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==xy.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Cy.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Cy.TOP_RIGHT&&this.anchorOrigin_!=Cy.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Cy.BOTTOM_LEFT&&this.anchorOrigin_!=Cy.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Cy.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Cy.TOP_RIGHT&&this.offsetOrigin_!=Cy.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Cy.BOTTOM_LEFT&&this.offsetOrigin_!=Cy.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(la.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(la.CHANGE,t)},e}(Ty);function Ry(t){return Array.isArray(t)?by(t):t}var Fy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ly=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return Fy(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return ds.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e="round",n="round",i=0,r=null,o=0,a=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=Ry(t),void 0===(a=this.stroke_.getWidth())&&(a=1),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(i=this.stroke_.getMiterLimit())&&(i=10));var s=2*(this.radius_+a)+1,l={strokeStyle:t,strokeWidth:a,size:s,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i},c=va(s,s);this.canvas_=c.canvas;var u=s=this.canvas_.width;this.draw_(l,c,0,0),this.createHitDetectionCanvas_(l),this.anchor_=[s/2,s/2],this.size_=[s,s],this.imageSize_=[u,u]},e.prototype.draw_=function(t,e,n,i){var r,o,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),r=0;r<=s;r++)o=2*r*Math.PI/s-Math.PI/2+this.angle_,a=r%2===0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c="#000"),e.fillStyle=Ry(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"===typeof e&&(e=yy(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=va(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(r*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=r;a++)l=2*a*Math.PI/r-Math.PI/2+this.angle_,s=a%2===0?this.radius_:o,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(Ty),Ay=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ky=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return Ay(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(Ly),jy=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),Dy=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),Ny=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=qy,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=qy,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var zy=null;function Gy(t,e){if(!zy){var n=new jy({color:"rgba(255,255,255,0.4)"}),i=new Dy({color:"#3399CC",width:1.25});zy=[new Ny({image:new ky({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return zy}function qy(t){return t.getGeometry()}var By=Ny,Uy={POINT:"point",LINE:"line"},Wy="#333",Yy=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new jy({color:Wy}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:Uy.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();function Hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Xy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ky(t){return function(t){if(Array.isArray(t))return Vy(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Zy(t,e){var n={};Object.keys(t).forEach(function(t){var e;n[(e=t,"on".concat(e.replace(/(:[a-z])/g,function(t){return t.toUpperCase()}).replace(/^[a-z]/,function(t){return t.toUpperCase()}).replace(":","")))]=t});var i=t;return Object.keys(e).forEach(function(t){var r=n[t],o=e[t];"undefined"!==typeof o&&t.match(/^on[A-Z]/)&&r&&(i[r]=[].concat(Ky(i[r]),[o]))}),i}function $y(t){var e={};return Object.keys(t).forEach(function(n){"children"===n||"undefined"===typeof t[n]||n.match(/^on[A-Z]/)||(e[n]=t[n])}),e}function Jy(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=function(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=new Py({imgSize:[o,n],src:i,scale:(r?1.5:1)*a});return s.fill=t,s.angle=e,s}(t,e,n,i,r,o,s);return new By(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hy(Object(n),!0).forEach(function(e){Xy(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({image:l,text:new Yy({textBaseline:"middle",fill:new jy({color:"rgba(255, 255, 255, 1.0)"}),stroke:new Dy({color:"rgba(50, 50, 50, 1.0)",width:5}),offsetY:s?0:-l.getSize()[1]/2-2,textAlign:"center",font:"bold 12px IRAN-Sans"}),zIndex:r?99999999:void 0},a))}function Qy(t){return(Qy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e_(t,e){return(e_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n_(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=i_(t);if(e){var r=i_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Qy(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function i_(t){return(i_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e_(t,e)}(a,o.a.Component);var e,n,i,r=n_(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this,t)).layer=null,e.options={zIndex:void 0,opacity:void 0,preload:void 0,source:void 0,visible:void 0,extent:void 0,minResolution:void 0,maxResolution:void 0,useInterimTilesOnError:void 0},e.events={change:[],"change:extent":[],"change:maxResolution":[],"change:minResolution":[],"change:opacity":[],"change:preload":[],"change:source":[],"change:useInterimTilesOnError":[],"change:visible":[],"change:zIndex":[],postcompose:[],precompose:[],propertychange:[],render:[]},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this,e=$y(Object.assign(this.options,this.props));e.source=e.source||new Yc,this.layer=new uy(e),this.props.zIndex&&this.layer.setZIndex(this.props.zIndex),this.context.layers.push(this.layer);var n=Zy(this.events,this.props);Object.keys(n).forEach(function(e){n[e].forEach(function(n){return t.layer.on(e,n)})})}},{key:"componentDidUpdate",value:function(){if(!D()(this.options.source.getUrls(),this.props.source.getUrls())){var t=$y(Object.assign(this.options,this.props));t.source=t.source||new Yc,this.layer.setSource(t.source)}}},{key:"render",value:function(){return null}}])&&t_(e.prototype,n),i&&t_(e,i),a}();r_.contextType=py;var o_=r_,a_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s_="renderOrder",l_=function(t){function e(e){var n=this,i=e||{},r=$o({},i);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(n=t.call(this,r)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return a_(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(s_)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(s_,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:Gy,this.styleFunction_=null===t?void 0:function(t){var e;if("function"===typeof t)e=t;else{var n;Array.isArray(t)?n=t:(Ua("function"===typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(ts),c_=0,u_=1;function h_(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=e;s<n;s+=i)o[a++]=t.slice(s,s+i);return o.length=a,o}function f_(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];o[a++]=h_(t,e,c,i,o[a]),e=c}return o.length=a,o}function p_(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];o[a++]=f_(t,e,c,i,o[a]),e=c[c.length-1]}return o.length=a,o}var d_=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),g_={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},m_=[g_.FILL],v_=[g_.STROKE],y_=[g_.BEGIN_PATH],__=[g_.CLOSE_PATH],b_=g_,x_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),w_=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=r,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return x_(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=i);var l,c,u,h=t[e],f=t[e+1],p=this.tmpCoordinate_,d=!0;for(l=e+i;l<n;l+=i)p[0]=t[l],p[1]=t[l+1],(u=Ms(s,p))!==c?(d&&(this.coordinates[a++]=h,this.coordinates[a++]=f),this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],d=!1):u===ms.INTERSECTING?(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],d=!1):d=!0,h=p[0],f=p[1],c=u;return(r&&d||l===e+i)&&(this.coordinates[a++]=h,this.coordinates[a++]=f),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,a,s,l=t.getType(),c=t.getStride(),u=this.coordinates.length;if(l==fl.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var f=0,p=h.length;f<p;++f){var d=[];s=this.drawCustomCoordinates_(i,s,h[f],c,d),a.push(d)}this.instructions.push([b_.CUSTOM,u,a,t,n,p_])}else l==fl.POLYGON||l==fl.MULTI_LINE_STRING?(o=[],i=l==fl.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),c,o),this.instructions.push([b_.CUSTOM,u,o,t,n,f_])):l==fl.LINE_STRING||l==fl.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([b_.CUSTOM,u,r,t,n,h_])):l==fl.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([b_.CUSTOM,u,r,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[b_.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[b_.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==b_.END_GEOMETRY?o=t:i==b_.BEGIN_GEOMETRY&&(n[2]=t,Do(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Ry(i||"#000")}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Ry(r||"#000");var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var a=e.getLineDash();n.lineDash=a?a.slice():Gv;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[b_.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[b_.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!zo(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[b_.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=_s(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;ys(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(d_),E_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M_=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i,r)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return E_(e,t),e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([b_.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([b_.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([b_.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([b_.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(w_),O_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S_=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return O_(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),a=[b_.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([b_.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],y_);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(v_),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([b_.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],y_);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,c=0,u=o.length;c<u;++c)l=this.drawFlatCoordinates_(a,l,o[c],s);this.hitDetectionInstructions.push(v_),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(v_),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(v_),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(y_)},e}(w_);function C_(t,e,n,i,r,o,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var c=[e,n-i],u=0;c.length>0;){for(var h=c.pop(),f=c.pop(),p=0,d=t[f],g=t[f+1],m=t[h],v=t[h+1],y=f+i;y<h;y+=i){var _=ja(t[y],t[y+1],d,g,m,v);_>p&&(u=y,p=_)}p>r&&(l[(u-e)/i]=1,f+i<u&&c.push(f,u),u+i<h&&c.push(u,h))}for(y=0;y<s;++y)l[y]&&(o[a++]=t[e+y*i],o[a++]=t[e+y*i+1]);return a}function T_(t,e){return e*Math.round(t/e)}function I_(t,e,n,i,r,o,a){if(e==n)return a;var s,l,c=T_(t[e],r),u=T_(t[e+1],r);e+=i,o[a++]=c,o[a++]=u;do{if(s=T_(t[e],r),l=T_(t[e+1],r),(e+=i)==n)return o[a++]=s,o[a++]=l,a}while(s==c&&l==u);for(;e<n;){var h=T_(t[e],r),f=T_(t[e+1],r);if(e+=i,h!=s||f!=l){var p=s-c,d=l-u,g=h-c,m=f-u;p*m==d*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(d<0&&m<d||d==m||d>0&&m>d)?(s=h,l=f):(o[a++]=s,o[a++]=l,c=s,u=l,s=h,l=f)}}return o[a++]=s,o[a++]=l,a}function P_(t,e,n,i,r,o,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=I_(t,e,u,i,r,o,a),s.push(a),e=u}return a}var R_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F_=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return R_(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,s=n.length;this.instructions.push(y_),this.hitDetectionInstructions.push(y_);for(var l=0;l<s;++l){var c=n[l],u=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,i,!0,!a),f=[b_.MOVE_TO_LINE_TO,u,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(__),this.hitDetectionInstructions.push(__)),e=c}return o&&(this.instructions.push(m_),this.hitDetectionInstructions.push(m_)),a&&(this.instructions.push(v_),this.hitDetectionInstructions.push(v_)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([b_.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([b_.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var l=[b_.CIRCLE,s];this.instructions.push(y_,l),this.hitDetectionInstructions.push(y_,l),void 0!==n.fillStyle&&(this.instructions.push(m_),this.hitDetectionInstructions.push(m_)),void 0!==n.strokeStyle&&(this.instructions.push(v_),this.hitDetectionInstructions.push(v_)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([b_.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([b_.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([b_.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([b_.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,c=0,u=o.length;c<u;++c)l=this.drawFlatCoordinatess_(a,l,o[c],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,r=n.length;i<r;++i)n[i]=T_(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(w_);function L_(t,e,n,i,r){var o,a,s,l,c,u,h,f,p,d=n,g=n,m=0,v=0,y=n;for(o=n;o<i;o+=r){var _=e[o],b=e[o+1];void 0!==l&&(f=_-l,p=b-c,s=Math.sqrt(f*f+p*p),void 0!==u&&(v+=a,Math.acos((u*f+h*p)/(a*s))>t&&(v>m&&(m=v,d=y,g=o),v=0,y=o-r)),a=s,u=f,h=p),l=_,c=b}return(v+=s)>m?[y,o]:[d,g]}var A_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k_={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},j_={Circle:F_,Default:w_,Image:M_,LineString:S_,Polygon:F_,Text:function(t){function e(e,n,i,r){var o=t.call(this,e,n,i,r)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",Bv.prune(),o}return A_(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,a,s=this.coordinates.length,l=t.getType(),c=null,u=2,h=2;if(r.placement===Uy.LINE){if(!Ys(this.getBufferedMaxExtent(),t.getExtent()))return;var f=void 0;if(c=t.getFlatCoordinates(),h=t.getStride(),l==fl.LINE_STRING)f=[c.length];else if(l==fl.MULTI_LINE_STRING)f=t.getEnds();else if(l==fl.POLYGON)f=t.getEnds().slice(0,1);else if(l==fl.MULTI_POLYGON){var p=t.getEndss();for(f=[],o=0,a=p.length;o<a;++o)f.push(p[o][0])}this.beginGeometry(t,e);for(var d=r.textAlign,g=0,m=void 0,v=0,y=f.length;v<y;++v){if(void 0==d){var _=L_(r.maxAngle,c,g,f[v],h);g=_[0],m=_[1]}else m=f[v];for(o=g;o<m;o+=h)this.coordinates.push(c[o],c[o+1]);u=this.coordinates.length,g=f[v];var b=this.declutterGroups_?0===v?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(s,u,b),s=u}this.endGeometry(e)}else{var x=null;switch(r.overflow||(x=[]),l){case fl.POINT:case fl.MULTI_POINT:u=(c=t.getFlatCoordinates()).length;break;case fl.LINE_STRING:c=t.getFlatMidpoint();break;case fl.CIRCLE:c=t.getCenter();break;case fl.MULTI_LINE_STRING:u=(c=t.getFlatMidpoints()).length;break;case fl.POLYGON:c=t.getFlatInteriorPoint(),r.overflow||x.push(c[2]/this.resolution),h=3;break;case fl.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(c=[],o=0,a=w.length;o<a;o+=3)r.overflow||x.push(w[o+2]/this.resolution),c.push(w[o],w[o+1]);if(0==(u=c.length))return}u=this.appendFlatCoordinates(c,0,u,h,!1,!1),this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var E=this.pixelRatio;this.instructions.push([b_.DRAW_IMAGE,s,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,r.padding==qv?qv:r.padding.map(function(t){return t*E}),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.hitDetectionInstructions.push([b_.DRAW_IMAGE,s,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,r.padding,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=k_[r.textBaseline],u=this.textOffsetY_*l,h=this.text_,f=r.scale,p=i?i.lineWidth*f/2:0;this.instructions.push([b_.DRAW_CHARS,t,e,c,n,r.overflow,s,r.maxAngle,l,u,o,p*l,h,a,1]),this.hitDetectionInstructions.push([b_.DRAW_CHARS,t,e,c,n,r.overflow,s,r.maxAngle,1,u,o,p,h,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroups_=e;var o=t.getFill();o?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=Ry(o.getColor()||"#000")):(i=null,this.textFillState_=i);var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var s=a.getLineDash(),l=a.getLineDashOffset(),c=a.getWidth(),u=a.getMiterLimit();r.lineCap=a.getLineCap()||"round",r.lineDash=s?s.slice():Gv,r.lineDashOffset=void 0===l?0:l,r.lineJoin=a.getLineJoin()||"round",r.lineWidth=void 0===c?1:c,r.miterLimit=void 0===u?10:u,r.strokeStyle=Ry(a.getColor()||"#000")}else r=null,this.textStrokeState_=r;n=this.textState_;var h=t.getFont()||"10px sans-serif";Hv(h);var f=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||qv,n.scale=void 0===f?1:f;var p=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Ko(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Ko(i.fillStyle):""}else this.text_=""},e}(w_)},D_=function(){function t(t,e,n,i,r){this.declutter_=r,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[[1/0,1/0,-1/0,-1/0]],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var r=n[i].finish();t[e][i]=r}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[e];void 0===r&&(r=new(0,j_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r);return r},t}();function N_(t,e,n,i,r,o){for(var a=o||[],s=0,l=e;l<n;l+=i){var c=t[l],u=t[l+1];a[s++]=r[0]*c+r[2]*u+r[4],a[s++]=r[1]*c+r[3]*u+r[5]}return o&&a.length!=s&&(a.length=s),a}var z_={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function G_(t,e,n,i){for(var r=t[e],o=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],c=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return a}function q_(t,e,n,i,r,o,a,s,l,c,u){for(var h,f,p=[],d=t[e]>t[n-i],g=r.length,m=t[e],v=t[e+1],y=t[e+=i],_=t[e+1],b=0,x=Math.sqrt(Math.pow(y-m,2)+Math.pow(_-v,2)),w=!1,E=0;E<g;++E){for(var M=r[h=d?g-E-1:E],O=s*l(c,M,u),S=o+O/2;e<n-i&&b+x<S;)m=y,v=_,y=t[e+=i],_=t[e+1],b+=x,x=Math.sqrt(Math.pow(y-m,2)+Math.pow(_-v,2));var C=S-b,T=Math.atan2(_-v,y-m);if(d&&(T+=T>0?-Math.PI:Math.PI),void 0!==f){var I=T-f;if(w=w||0!==I,I+=I>Math.PI?-2*Math.PI:I<-Math.PI?2*Math.PI:0,Math.abs(I)>a)return null}f=T;var P=C/x,R=Ga(m,y,P),F=Ga(v,_,P);p[h]=[R,F,O/2,T,M],o+=O}return w?p:[[p[0][0],p[0][1],p[0][2],p[0][3],r]]}var B_=n("1c98b5ebc0a1076f8a67"),U_=n.n(B_),W_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y_=[1/0,1/0,-1/0,-1/0],H_=[1,0,0,1,0,0],X_=[],K_=[],V_=[],Z_=[],$_=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.overlaps=i,o.pixelRatio=n,o.resolution=e,o.alignFill_,o.declutterItems=[],o.instructions=r.instructions,o.coordinates=r.coordinates,o.coordinateCache_={},o.renderedTransform_=[1,0,0,1,0,0],o.hitDetectionInstructions=r.hitDetectionInstructions,o.pixelCoordinates_=null,o.viewRotation_=0,o.fillStates=r.fillStates||{},o.strokeStates=r.strokeStates||{},o.textStates=r.textStates||{},o.widths_={},o}return W_(e,t),e.prototype.disposeInternal=function(){Bv.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!Bv.containsKey(o)){var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[e],c=this.pixelRatio,u=l.scale*c,h=k_[l.textAlign||"center"],f=i&&a.lineWidth?a.lineWidth:0,p=t.split("\n"),d=p.length,g=[],m=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var a=$v(t,e[o]);r=Math.max(r,a),n.push(a)}return r}(l.font,p,g),v=Zv(l.font),y=v*d,_=m+f,b=va(Math.ceil((_+2)*u),Math.ceil((y+f)*u));r=b.canvas,Bv.set(o,r),1!=u&&b.scale(u,u),b.font=l.font,i&&(b.strokeStyle=a.strokeStyle,b.lineWidth=f,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.setLineDash&&a.lineDash.length&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset)),n&&(b.fillStyle=s.fillStyle),b.textBaseline="middle",b.textAlign="center";var x=.5-h,w=h*_+x*f,E=void 0;if(i)for(E=0;E<d;++E)b.strokeText(p[E],w+x*g[E],.5*(f+v)+E*v);if(n)for(E=0;E<d;++E)b.fillText(p[E],w+x*g[E],.5*(f+v)+E*v)}return Bv.get(o,this)},e.prototype.replayTextBackground_=function(t,e,n,i,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,a,s,l,c,u,h,f,p,d,g,m,v){var y=m||v;e-=r*=f,n-=o*=f;var _=d+c>i.width?i.width-c:d,b=s+u>i.height?i.height-u:s,x=g[3]+_*f+g[1],w=g[0]+b*f+g[2],E=e-g[3],M=n-g[0];(y||0!==h)&&(X_[0]=E,Z_[0]=E,X_[1]=M,K_[1]=M,K_[0]=E+x,V_[0]=K_[0],V_[1]=M+w,Z_[1]=V_[1]);var O=null;if(0!==h){var S=e+r,C=n+o;O=Av(H_,S,C,1,1,h,-S,-C),Lv(H_,X_),Lv(H_,K_),Lv(H_,V_),Lv(H_,Z_),Ss(Math.min(X_[0],K_[0],V_[0],Z_[0]),Math.min(X_[1],K_[1],V_[1],Z_[1]),Math.max(X_[0],K_[0],V_[0],Z_[0]),Math.max(X_[1],K_[1],V_[1],Z_[1]),Y_)}else Ss(E,M,E+x,M+w,Y_);var T=t.canvas,I=v?v[2]*f/2:0,P=Y_[0]-I<=T.width&&Y_[2]+I>=0&&Y_[1]-I<=T.height&&Y_[3]+I>=0;if(p&&(e=Math.round(e),n=Math.round(n)),a){if(!P&&1==a[4])return;Is(a,Y_);var R=P?[t,O?O.slice(0):null,l,i,c,u,_,b,e,n,f]:null;R&&(y&&R.push(m,v,X_,K_,V_,Z_),a.push(R))}else P&&(y&&this.replayTextBackground_(t,X_,K_,V_,Z_,m,v),ey(t,O,l,i,c,u,_,b,e,n,f))},e.prototype.fill_=function(t){if(this.alignFill_){var e=Lv(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,i){if(t&&t.length>5){var r=t[4];if(1==r||r==t.length-5){var o={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(i||(i=new U_.a(9)),!i.collides(o)){i.insert(o);for(var a=5,s=t.length;a<s;++a){var l=t[a],c=l[0],u=c.globalAlpha;u!==n&&(c.globalAlpha=n),l.length>11&&this.replayTextBackground_(l[0],l[13],l[14],l[15],l[16],l[11],l[12]),ey.apply(void 0,l),u!==n&&(c.globalAlpha=u)}}t.length=5,Cs(t)}}return i},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,i){var r=this.textStates[e],o=this.getTextImage(t,e,i,n),a=this.strokeStates[n],s=this.pixelRatio,l=k_[r.textAlign||"center"],c=k_[r.textBaseline||"middle"],u=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*r.scale)+2*(.5-l)*u,anchorY:c*o.height/s+2*(.5-c)*u}},e.prototype.execute_=function(t,e,n,i,r,o){var a,s,l;this.declutterItems.length=0,this.pixelCoordinates_&&zo(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=N_(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),s=this.renderedTransform_,l=e,s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5]);for(var c,u,h,f,p,d,g,m,v,y,_,b,x,w,E,M,O,S=0,C=n.length,T=0,I=0,P=0,R=null,F=null,L=this.coordinateCache_,A=this.viewRotation_,k=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,j={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},D=this.instructions!=n||this.overlaps?0:200;S<C;){var N=n[S];switch(N[0]){case b_.BEGIN_GEOMETRY:(E=N[1]).getGeometry()?void 0===o||Ys(o,N[3])?++S:S=N[2]+1:S=N[2];break;case b_.BEGIN_PATH:I>D&&(this.fill_(t),I=0),P>D&&(t.stroke(),P=0),I||P||(t.beginPath(),f=NaN,p=NaN),++S;break;case b_.CIRCLE:var z=a[T=N[1]],G=a[T+1],q=a[T+2]-z,B=a[T+3]-G,U=Math.sqrt(q*q+B*B);t.moveTo(z+U,G),t.arc(z,G,U,0,2*Math.PI,!0),++S;break;case b_.CLOSE_PATH:t.closePath(),++S;break;case b_.CUSTOM:T=N[1],c=N[2];var W=N[3],Y=N[4],H=6==N.length?N[5]:void 0;j.geometry=W,j.feature=E,S in L||(L[S]=[]);var X=L[S];H?H(a,T,c,2,X):(X[0]=a[T],X[1]=a[T+1],X.length=2),Y(X,j),++S;break;case b_.DRAW_IMAGE:T=N[1],c=N[2],y=N[3],u=N[4],h=N[5],v=r?null:N[6];var K=N[7],V=N[8],Z=N[9],$=N[10],J=N[11],Q=N[12],tt=N[13],et=N[14];if(!y&&N.length>=19){_=N[18],b=N[19],x=N[20],w=N[21];var nt=this.drawTextImageWithPointPlacement_(_,b,x,w);y=nt.label,N[3]=y;var it=N[22];u=(nt.anchorX-it)*this.pixelRatio,N[4]=u;var rt=N[23];h=(nt.anchorY-rt)*this.pixelRatio,N[5]=h,K=y.height,N[7]=K,et=y.width,N[14]=et}var ot=void 0;N.length>24&&(ot=N[24]);var at=void 0,st=void 0,lt=void 0;N.length>16?(at=N[15],st=N[16],lt=N[17]):(at=qv,st=!1,lt=!1),J&&k?Q+=A:J||k||(Q-=A);for(var ct=0,ut=0;T<c;T+=2)if(!(ot&&ot[ct++]<et/this.pixelRatio)){if(v){var ht=Math.floor(ut);v.length<ht+1&&((m=[1/0,1/0,-1/0,-1/0]).push(v[0][4]),v.push(m)),m=v[ht]}this.replayImage_(t,a[T],a[T+1],y,u,h,m,K,V,Z,$,Q,tt,i,et,at,st?R:null,lt?F:null),m&&(ut===Math.floor(ut)&&this.declutterItems.push(this,m,E),ut+=1/m[4])}++S;break;case b_.DRAW_CHARS:var ft=N[1],pt=N[2],dt=N[3];m=r?null:N[4];var gt=N[5];w=N[6];var mt=N[7],vt=N[8],yt=N[9];x=N[10];var _t=N[11];_=N[12],b=N[13];var bt=N[14],xt=this.textStates[b],wt=xt.font,Et=xt.scale*vt,Mt=void 0;wt in this.widths_?Mt=this.widths_[wt]:(Mt={},this.widths_[wt]=Mt);var Ot=G_(a,ft,pt,2),St=Et*Jv(wt,_,Mt);if(gt||St<=Ot){var Ct=this.textStates[b].textAlign,Tt=q_(a,ft,pt,2,_,(Ot-St)*k_[Ct],mt,Et,Jv,wt,Mt);if(Tt){var It=void 0,Pt=void 0,Rt=void 0,Ft=void 0,Lt=void 0;if(x)for(It=0,Pt=Tt.length;It<Pt;++It)Rt=(Lt=Tt[It])[4],Ft=this.getTextImage(Rt,b,"",x),u=Lt[2]+_t,h=dt*Ft.height+2*(.5-dt)*_t-yt,this.replayImage_(t,Lt[0],Lt[1],Ft,u,h,m,Ft.height,1,0,0,Lt[3],bt,!1,Ft.width,qv,null,null);if(w)for(It=0,Pt=Tt.length;It<Pt;++It)Rt=(Lt=Tt[It])[4],Ft=this.getTextImage(Rt,b,w,""),u=Lt[2],h=dt*Ft.height-yt,this.replayImage_(t,Lt[0],Lt[1],Ft,u,h,m,Ft.height,1,0,0,Lt[3],bt,!1,Ft.width,qv,null,null)}}this.declutterItems.push(this,m,E),++S;break;case b_.END_GEOMETRY:if(void 0!==r){var At=r(E=N[1]);if(At)return At}++S;break;case b_.FILL:D?I++:this.fill_(t),++S;break;case b_.MOVE_TO_LINE_TO:for(T=N[1],c=N[2],M=a[T],g=(O=a[T+1])+.5|0,(d=M+.5|0)===f&&g===p||(t.moveTo(M,O),f=d,p=g),T+=2;T<c;T+=2)d=(M=a[T])+.5|0,g=(O=a[T+1])+.5|0,T!=c-2&&d===f&&g===p||(t.lineTo(M,O),f=d,p=g);++S;break;case b_.SET_FILL_STYLE:R=N,this.alignFill_=N[2],I&&(this.fill_(t),I=0,P&&(t.stroke(),P=0)),t.fillStyle=N[1],++S;break;case b_.SET_STROKE_STYLE:F=N,P&&(t.stroke(),P=0),this.setStrokeStyle_(t,N),++S;break;case b_.STROKE:D?P++:t.stroke(),++S;break;default:++S}}I&&this.fill_(t),P&&t.stroke()},e.prototype.execute=function(t,e,n,i){this.viewRotation_=n,this.execute_(t,e,this.instructions,i,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,i,r)},e}(ra),J_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q_=[z_.POLYGON,z_.CIRCLE,z_.LINE_STRING,z_.IMAGE,z_.TEXT,z_.DEFAULT],tb=function(t){function e(e,n,i,r,o,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=r,s.pixelRatio_=i,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=[1,0,0,1,0,0],s.createExecutors_(o),s}return J_(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e];for(var r in i){var o=i[r];n[r]=new $_(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var i in n)n[i].disposeInternal()}if(this.hitDetectionContext_){var r=this.hitDetectionContext_.canvas;r.width=0,r.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o){var a=2*(i=Math.round(i))+1,s=Av(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=va(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(Ps(l=[1/0,1/0,-1/0,-1/0],t),ys(l,e*(this.renderBuffer_+i),l));var u,h=function(t){if(void 0!==eb[t])return eb[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var r=t,o=0,a=0;for(;r>=o;)nb(n,t+r,t+o),nb(n,t+o,t+r),nb(n,t-o,t+r),nb(n,t-r,t+o),nb(n,t-r,t-o),nb(n,t-o,t-r),nb(n,t+o,t-r),nb(n,t+r,t-o),2*((a+=1+2*++o)-r)+1>0&&(a+=1-2*(r-=1));return eb[t]=n,n}(i);function f(t){for(var e=c.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var i=0;i<a;i++)if(h[n][i]&&e[4*(i*a+n)+3]>0){var s=void 0;return(!o||u!=z_.IMAGE&&u!=z_.TEXT||-1!==o.indexOf(t))&&(s=r(t)),s||void c.clearRect(0,0,a,a)}}var p,d,g,m,v,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(ko),p=y.length-1;p>=0;--p){var _=y[p].toString();for(g=this.executorsByZIndex_[_],d=Q_.length-1;d>=0;--d)if(void 0!==(m=g[u=Q_[d]])&&(v=m.executeHitDetection(c,s,n,f,l)))return v}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],r=e[2],o=e[3],a=[n,i,n,o,r,o,r,i];return N_(a,0,8,2,t,a),a},e.prototype.isEmpty=function(){return ta(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,i,r,o){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(ko),this.maxExtent_&&(t.save(),this.clip(t,e));var s,l,c,u,h,f,p=r||Q_;for(s=0,l=a.length;s<l;++s){var d=a[s].toString();for(h=this.executorsByZIndex_[d],c=0,u=p.length;c<u;++c){var g=p[c];if(void 0!==(f=h[g]))if(!o||g!=z_.IMAGE&&g!=z_.TEXT)f.execute(t,e,n,i);else{var m=o[d];m?m.push(f,e.slice(0)):o[d]=[f,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(ra),eb={0:[[!0]]};function nb(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var ib=tb,rb=.5,ob={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=ds.LOADED)return;var o=t.getBuilder(n.getZIndex(),z_.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),z_.TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getBuilder(n.getZIndex(),z_.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),z_.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var a=t.getBuilder(n.getZIndex(),z_.POLYGON);a.setFillStrokeStyle(r,o),a.drawPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),z_.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=ds.LOADED)return;var o=t.getBuilder(n.getZIndex(),z_.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),z_.TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getBuilder(n.getZIndex(),z_.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),z_.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),z_.POLYGON);a.setFillStrokeStyle(r,o),a.drawMultiPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),z_.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,a=e.getGeometriesArray();for(r=0,o=a.length;r<o;++r){var s=ob[a[r].getType()];s(t,a[r],n,i)}},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var a=t.getBuilder(n.getZIndex(),z_.CIRCLE);a.setFillStrokeStyle(r,o),a.drawCircle(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),z_.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}};function ab(t,e){return parseInt(Ko(t),10)-parseInt(Ko(e),10)}function sb(t,e){var n=lb(t,e);return n*n}function lb(t,e){return rb*t/e}function cb(t,e,n,i,r,o){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==ds.LOADED||l==ds.ERROR?s.unlistenImageChange(r):(l==ds.IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(r),a=!0)}return function(t,e,n,i,r){var o=n.getGeometryFunction()(e);if(!o)return;var a=o.simplifyTransformed(i,r);if(n.getRenderer())!function t(e,n,i,r){if(n.getType()==fl.GEOMETRY_COLLECTION){for(var o=n.getGeometries(),a=0,s=o.length;a<s;++a)t(e,o[a],i,r);return}var l=e.getBuilder(i.getZIndex(),z_.DEFAULT);l.drawCustom(n,r,i.getRenderer())}(t,a,n,e);else{var s=ob[a.getType()];s(t,a,n,e)}}(t,e,n,i,o),a}var ub=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hb=[1,0,0,1,0,0],fb=function(t){function e(){var e,n,i,r,o,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===r&&zo(t,i)||(o=!0,r=this,i=t,n=e.apply(this,arguments)),n}),a}return ub(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Ho()},e.prototype.closestPointXY=function(t,e,n,i){return Ho()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Ho()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){Ho()},e.prototype.scale=function(t,e,n){Ho()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Ho()},e.prototype.getType=function(){return Ho()},e.prototype.applyTransform=function(t){Ho()},e.prototype.intersectsExtent=function(t){return Ho()},e.prototype.translate=function(t,e){Ho()},e.prototype.transform=function(t,e){var n=Gl(t),i=n.getUnits()==vl.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),a=n.getWorldExtent(),s=Gs(a)/Gs(o);return Av(hb,a[0],a[3],s,-s,0,0,0),N_(t,0,t.length,r,hb,i),Kl(n,e)(t,i,r)}:Kl(n,e);return this.applyTransform(i),this},e}(ma),pb={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},db=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function gb(t){var e;return t==pb.XY?e=2:t==pb.XYZ||t==pb.XYM?e=3:t==pb.XYZM&&(e=4),e}var mb=function(t){function e(){var e=t.call(this)||this;return e.layout=pb.XY,e.stride=2,e.flatCoordinates=null,e}return db(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=0,i=this.flatCoordinates.length,r=this.stride,Fs(Cs(t),e,n,i,r);var e,n,i,r},e.prototype.getCoordinates=function(){return Ho()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=gb(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Ho()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=gb(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=pb.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=pb.XY:3==t?e=pb.XYZ:4==t&&(e=pb.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,a){for(var s=a||[],l=Math.cos(r),c=Math.sin(r),u=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-u,g=t[p+1]-h;s[f++]=u+d*l-g*c,s[f++]=h+d*c+g*l;for(var m=p+2;m<p+i;++m)s[f++]=t[m]}a&&s.length!=f&&(s.length=f)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=Ds(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,i,r,o,a,s){for(var l=s||[],c=a[0],u=a[1],h=0,f=e;f<n;f+=i){var p=t[f]-c,d=t[f+1]-u;l[h++]=c+r*p,l[h++]=u+o*d;for(var g=f+2;g<f+i;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(o,0,o.length,a,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,a){for(var s=a||[],l=0,c=e;c<n;c+=i){s[l++]=t[c]+r,s[l++]=t[c+1]+o;for(var u=c+2;u<c+i;++u)s[l++]=t[u]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(fb),vb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yb=function(t){function e(e,n,i,r,o,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=r,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return vb(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=N_(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=r.length;c<u;c+=2){var h=r[c]-this.imageAnchorX_,f=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var p=h+this.imageAnchorX_,d=f+this.imageAnchorY_;Av(a,p,d,this.imageScale_,this.imageScale_,l,-p,-d),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=N_(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=Av(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,a=N_(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Ys(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return N_(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case fl.POINT:this.drawPoint(t);break;case fl.LINE_STRING:this.drawLineString(t);break;case fl.POLYGON:this.drawPolygon(t);break;case fl.MULTI_POINT:this.drawMultiPoint(t);break;case fl.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case fl.MULTI_POLYGON:this.drawMultiPolygon(t);break;case fl.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case fl.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Ys(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ys(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Ys(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=o.length;s<l;++s)r=this.moveToLineTo_(i,r,o[s],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ys(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ys(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];i=this.drawRings_(n,i,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(zo(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Ry(n||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||Gv,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==c?c:10,strokeStyle:Ry(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Ry(n||"#000")}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),c=i.getWidth(),u=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:a||Gv,lineDashOffset:s||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==u?u:10,strokeStyle:Ry(r||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),m=t.getScale(),v=t.getText(),y=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""},e}(d_);function _b(t,e,n){var i=[];if(n){var r=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[r],a=n.data[r+1],s=n.data[r+2]+256*(a+256*o),l=Math.ceil(16777216/e.length);s%l===0&&i.push(e[s/l])}return i}var bb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xb=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return bb(e,t),e.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){Fv(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),kv(this.inversePixelTransform,this.pixelTransform);var r=jv(this.pixelTransform);this.useContainer(e,r,i.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_;if(!s||s.isEmpty())return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var u=t.extent,h=t.viewState,f=h.center,p=h.resolution,d=h.projection,g=h.rotation,m=d.getExtent(),v=this.getLayer().getSource(),y=!1;if(i.extent){var _=oc(i.extent,d);(y=!ws(_,t.extent)&&Ys(_,t.extent))&&this.clip(o,t,_)}var b=t.viewHints,x=!(b[c_]||b[u_]),w=this.getRenderTransform(f,p,g,n,l,c,0),E=this.getLayer().getDeclutter()?{}:null;if(s.execute(o,w,g,x,void 0,E),v.getWrapX()&&d.canWrapX()&&!ws(m,u)){for(var M=u[0],O=Ws(m),S=0,C=void 0;M<m[0];){C=O*--S;var T=this.getRenderTransform(f,p,g,n,l,c,C);s.execute(o,T,g,x,void 0,E),M+=O}for(S=0,M=u[2];M>m[2];){C=O*++S;var I=this.getRenderTransform(f,p,g,n,l,c,C);s.execute(o,I,g,x,void 0,E),M-=O}}if(E){var P=t.viewHints;!function(t,e,n,i,r,o){for(var a=Object.keys(t).map(Number).sort(ko),s=0,l=a.length;s<l;++s)for(var c=t[a[s].toString()],u=void 0,h=0,f=c.length;h<f;){var p=c[h++];p!==u&&(u=p,o.push({items:p.declutterItems,opacity:i}));var d=c[h++];p.execute(e,d,n,r)}}(E,o,g,1,!(P[c_]||P[u_]),t.declutterItems)}y&&o.restore(),this.postRender(o,t);var R=i.opacity,F=this.container;return R!==parseFloat(F.style.opacity)&&(F.style.opacity=1===R?"":R),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){this.hitDetectionImageData_||this.animatingOrInteracting_?e(_b(t,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];Lv(this.pixelTransform,n);var i=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,l=this.getLayer(),c=[],u=n[0]/2,h=n[1]/2;c.push(this.getRenderTransform(i,r,o,.5,u,h,0).slice());var f=l.getSource(),p=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!ws(p,s)){for(var d=s[0],g=Ws(p),m=0,v=void 0;d<p[0];)v=g*--m,c.push(this.getRenderTransform(i,r,o,.5,u,h,v).slice()),d+=g;for(m=0,d=s[2];d>p[2];)v=g*++m,c.push(this.getRenderTransform(i,r,o,.5,u,h,v).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,i,r,o,a){var s=va(t[0]/2,t[1]/2);s.imageSmoothingEnabled=!1;for(var l=s.canvas,c=new yb(s,.5,r,null,a),u=n.length,h=Math.ceil(16777216/u),f={},p=0;p<u;++p){var d=n[p],g=d.getStyleFunction()||i;if(i){var m=g(d,o);Array.isArray(m)||(m=[m]);for(var v="#"+("000000"+(p*h).toString(16)).slice(-6),y=0,_=m.length;y<_;++y){var b=m[y],x=b.clone(),w=x.getFill();w&&w.setColor(v);var E=x.getStroke();E&&E.setColor(v),x.setText(void 0);var M=b.getImage();if(M){var O=M.getImageSize(),S=document.createElement("canvas");S.width=O[0],S.height=O[1];var C=S.getContext("2d",{alpha:!1});C.fillStyle=v;var T=C.canvas;C.fillRect(0,0,T.width,T.height),va(O?O[0]:T.width,O?O[1]:T.height).drawImage(T,0,0),x.setImage(new Py({img:T,imgSize:O,anchor:M.getAnchor(),anchorXUnits:xy.PIXELS,anchorYUnits:xy.PIXELS,offset:M.getOrigin(),size:M.getSize(),opacity:M.getOpacity(),scale:M.getScale(),rotation:M.getRotation(),rotateWithView:M.getRotateWithView()}))}var I=Number(x.getZIndex());(L=f[I])||(L={},f[I]=L,L[fl.POLYGON]=[],L[fl.CIRCLE]=[],L[fl.LINE_STRING]=[],L[fl.POINT]=[]);var P=x.getGeometryFunction()(d);P&&Ys(r,P.getExtent())&&L[P.getType().replace("Multi","")].push(P,x)}}}for(var R=Object.keys(f).map(Number).sort(ko),F=(p=0,R.length);p<F;++p){var L=f[R[p]];for(var A in L){var k=L[A];for(y=0,_=k.length;y<_;y+=2){c.setStyle(k[y+1]);for(var j=0,D=e.length;j<D;++j)c.setTransform(e[j]),c.drawGeometry(k[y])}}}return s.getImageData(0,0,l.width,l.height)}(n,c,this.renderedFeatures_,l.getStyleFunction(),s,r,o),e(_b(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,function(t){var e=Ko(t);if(!(e in l))return l[e]=!0,i(t,s)},s.getDeclutter()?r:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),i=t.viewHints[c_],r=t.viewHints[u_],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&i||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,c=l.projection,u=l.resolution,h=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=ab);var g=l.center.slice(),m=ys(s,p*u),v=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!ws(v,t.extent)){var y=Ws(v),_=Math.max(Ws(m)/2,y);m[0]=v[0]-_,m[2]=v[2]+_;var b=Math.floor((g[0]-v[0])/y);g[0]-=b*y}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==f&&this.renderedRenderOrder_==d&&ws(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var x,w=new D_(lb(u,h),m,u,h,e.getDeclutter()),E=ec();E?(n.loadFeatures(rc(m,c),u,E),x=Xl(E,c)):n.loadFeatures(m,u,c);var M=sb(u,h),O=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,u)),n){var r=this.renderFeature(t,M,n,w,x);this.dirty_=this.dirty_||r}}.bind(this),S=rc(m,c),C=n.getFeaturesInExtent(S);d&&C.sort(d);for(var T=0,I=C.length;T<I;++T)O(C[T]);this.renderedFeatures_=C;var P=w.finish(),R=new ib(m,u,h,n.getOverlaps(),P,e.getRenderBuffer());return this.renderedResolution_=u,this.renderedRevision_=f,this.renderedRenderOrder_=d,this.renderedExtent_=m,this.renderedRotation_=l.rotation,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=R,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=cb(i,t,n[a],e,this.boundHandleStyleImageChange_,r)||o;else o=cb(i,t,n,e,this.boundHandleStyleImageChange_,r);return o},e}(oy),wb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eb=function(t){function e(e){return t.call(this,e)||this}return wb(e,t),e.prototype.createRenderer=function(){return new xb(this)},e}(l_),Mb={ADD:"add",REMOVE:"remove"},Ob=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sb="length",Cb=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.element=n,r.index=i,r}return Ob(e,t),e}(oa),Tb=function(t){function e(e,n){var i=t.call(this)||this,r=n||{};if(i.unique_=!!r.unique,i.array_=e||[],i.unique_)for(var o=0,a=i.array_.length;o<a;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return Ob(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Sb)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Cb(Mb.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Cb(Mb.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Cb(Mb.REMOVE,i,t)),this.dispatchEvent(new Cb(Mb.ADD,e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Sb,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Ba(58)},e}(ma),Ib={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Pb=!1;function Rb(t,e){return function(t,e,n,i){return function(r,o,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(r,o,a):t,!0),e.getType()==Ib.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=Pb,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var o=e.getType(),l=void 0;o==Ib.JSON||o==Ib.TEXT?l=s.responseText:o==Ib.XML?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):o==Ib.ARRAY_BUFFER&&(l=s.response),l?n.call(this,e.readFeatures(l,{extent:r,featureProjection:a}),e.readProjection(l)):i.call(this)}else i.call(this)}.bind(this),s.onerror=function(){i.call(this)}.bind(this),s.send()}}(t,e,function(t,e){"function"===typeof this.addFeatures&&this.addFeatures(t)},Bo)}function Fb(t,e){return[[-1/0,-1/0,1/0,1/0]]}var Lb,Ab="addfeature",kb="changefeature",jb="clear",Db="removefeature",Nb=function(){function t(t){this.rbush_=new U_.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Ko(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],a=e[i],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[i]=s,this.items_[Ko(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Ko(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Ko(e)];Ts([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return ta(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Ss(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),zb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gb=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return zb(e,t),e}(oa),qb=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:$a.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=Bo,n.format_=i.format,n.overlaps_=void 0==i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Ua(n.format_,7),n.loader_=Rb(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:Fb;var r,o,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new Nb:null,n.loadedExtentsRtree_=new Nb,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?o=i.features:i.features&&(o=(r=i.features).getArray()),a||void 0!==r||(r=new Tb(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==r&&n.bindFeaturesCollection_(r),n}return zb(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Ko(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Gb(Ab,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[ea(e,la.CHANGE,this.handleFeatureChange_,this),ea(e,Zo,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(Ua(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var a=Ko(l=t[r]);this.addToIndex_(a,l)&&n.push(l)}r=0;for(var s=n.length;r<s;r++){var l;a=Ko(l=n[r]);this.setupChangeEvents_(a,l);var c=l.getGeometry();if(c){var u=c.getExtent();e.push(u),i.push(l)}else this.nullGeometryFeatures_[a]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i);r=0;for(var h=n.length;r<h;r++)this.dispatchEvent(new Gb(Ab,n[r]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Ab,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(Db,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Mb.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Mb.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(ia)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new Gb(jb);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ta(this.nullGeometryFeatures_)||No(t,Qo(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||Go;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,i,o,a))<c){r=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=i-u,s[2]=n+u,s[3]=i+u}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Ko(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Gb(kb,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Ko(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ta(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,r=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=r[t];i.forEachInExtent(s,function(t){return ws(t.extent,s)})||(a.loader_.call(a,s,e,n),i.insert(s,{extent:s.slice()}),a.loading=a.loader_!==Bo)},a=this,s=0,l=r.length;s<l;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Ts(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Ko(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Ko(t);this.featureChangeKeys_[e].forEach(ia),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Gb(Db,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Ua(this.format_,7),this.setLoader(Rb(t,this.format_))},e}(yc);function Bb(t){return(Bb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ub(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wb(t,e){return(Wb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yb(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Hb(t);if(e){var r=Hb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Bb(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Hb(t){return(Hb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xb=Object(r.createContext)(),Kb=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wb(t,e)}(a,o.a.PureComponent);var e,n,i,r=Yb(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this,t)).features=[],e.vectorSource=null,e.layer=null,e}return e=a,(n=[{key:"componentDidMount",value:function(){this.vectorSource=new qb({features:this.features}),this.layer=new Eb({source:this.vectorSource}),this.context.layers.push(this.layer)}},{key:"componentWillUnmount",value:function(){console.log("Vector layer is unmount!")}},{key:"render",value:function(){return function(t,e,n,i){Lb||(Lb="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:Lb,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(Xb.Provider,{value:this},void 0,this.props.children)}}])&&Ub(e.prototype,n),i&&Ub(e,i),a}();Kb.contextType=py;var Vb={Tile:o_,Vector:Kb},Zb=Ov;function $b(t,e,n){return function(i,r,o,a){if(i){var s=e?0:o[0]*r,l=e?0:o[1]*r,c=t[0]+s/2,u=t[2]-s/2,h=t[1]+l/2,f=t[3]-l/2;c>u&&(u=c=(u+c)/2),h>f&&(f=h=(f+h)/2);var p=Aa(i[0],c,u),d=Aa(i[1],h,f),g=30*r;return a&&n&&(p+=-g*Math.log(1+Math.max(0,c-i[0])/g)+g*Math.log(1+Math.max(0,i[0]-u)/g),d+=-g*Math.log(1+Math.max(0,h-i[1])/g)+g*Math.log(1+Math.max(0,i[1]-f)/g)),[p,d]}}}function Jb(t){return t}function Qb(t,e,n){var i=Ws(e)/n[0],r=Gs(e)/n[1];return Math.min(t,Math.min(i,r))}function tx(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Aa(i,n/2,2*e)}function ex(t,e,n,i){return function(r,o,a,s){if(void 0!==r){var l=i?Qb(t,i,a):t;return(void 0===n||n)&&s?tx(r,l,e):Aa(r,e,l)}}}function nx(t){return void 0!==t?0:void 0}function ix(t){return void 0!==t?t:void 0}var rx="center",ox="resolution",ax="rotation";function sx(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function lx(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function cx(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=a*s-o*l,o=s,a=l}return r/2}function ux(t,e,n,i){for(var r=0,o=0,a=n.length;o<a;++o){var s=n[o];r+=cx(t,e,s,i),e=s}return r}function hx(t,e,n,i,r,o,a){var s,l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;if(0===u&&0===h)s=e;else{var f=((r-l)*u+(o-c)*h)/(u*u+h*h);if(f>1)s=n;else{if(f>0){for(var p=0;p<i;++p)a[p]=Ga(t[e+p],t[n+p],f);return void(a.length=i)}s=e}}for(p=0;p<i;++p)a[p]=t[s+p];a.length=i}function fx(t,e,n,i,r){var o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],c=Da(o,a,s,l);c>r&&(r=c),o=s,a=l}return r}function px(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];r=fx(t,e,s,i,r),e=s}return r}function dx(t,e,n,i,r,o,a,s,l,c,u){if(e==n)return c;var h,f;if(0===r){if((f=Da(a,s,t[e],t[e+1]))<c){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,f}return c}for(var p=u||[NaN,NaN],d=e+i;d<n;)if(hx(t,d-i,d,i,a,s,p),(f=Da(a,s,p[0],p[1]))<c){for(c=f,h=0;h<i;++h)l[h]=p[h];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(o&&(hx(t,n-i,e,i,a,s,p),(f=Da(a,s,p[0],p[1]))<c)){for(c=f,h=0;h<i;++h)l[h]=p[h];l.length=i}return c}function gx(t,e,n,i,r,o,a,s,l,c,u){for(var h=u||[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];c=dx(t,e,d,i,r,o,a,s,l,c,h),e=d}return c}function mx(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)t[e++]=a[s];return e}function vx(t,e,n,i,r){for(var o=r||[],a=0,s=0,l=n.length;s<l;++s){var c=mx(t,e,n[s],i);o[a++]=c,e=c}return o.length=a,o}var yx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_x=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return yx(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<bs(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return cx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return h_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=C_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,pb.XY)},e.prototype.getType=function(){return fl.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mx(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mb),bx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xx=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return bx(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Da(t,e,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=t,i=e[0],r=e[1],Ss(i,r,i,r,n);var e,n,i,r},e.prototype.getType=function(){return fl.POINT},e.prototype.intersectsExtent=function(t){return Es(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mb);function wx(t,e,n,i,r){return!function(t,e){var n;return(n=e(ks(t)))?n:(n=e(js(t)))?n:(n=e(Us(t)))?n:(n=e(Bs(t)))||!1}(r,function(r){return!Ex(t,e,n,i,r[0],r[1])})}function Ex(t,e,n,i,r,o){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var c=t[e],u=t[e+1];l<=o?u>o&&(c-s)*(o-l)-(r-s)*(u-l)>0&&a++:u<=o&&(c-s)*(o-l)-(r-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function Mx(t,e,n,i,r,o){if(0===n.length)return!1;if(!Ex(t,e,n[0],i,r,o))return!1;for(var a=1,s=n.length;a<s;++a)if(Ex(t,n[a-1],n[a],i,r,o))return!1;return!0}function Ox(t,e,n,i,r,o,a){for(var s,l,c,u,h,f,p,d=r[o+1],g=[],m=0,v=n.length;m<v;++m){var y=n[m];for(u=t[y-i],f=t[y-i+1],s=e;s<y;s+=i)h=t[s],p=t[s+1],(d<=f&&p<=d||f<=d&&d<=p)&&(c=(d-f)/(p-f)*(h-u)+u,g.push(c)),u=h,f=p}var _=NaN,b=-1/0;for(g.sort(ko),u=g[0],s=1,l=g.length;s<l;++s){h=g[s];var x=Math.abs(h-u);x>b&&Mx(t,e,n,i,c=(u+h)/2,d)&&(_=c,b=x),u=h}return isNaN(_)&&(_=r[o]),a?(a.push(_,d,b),a):[_,d,b]}function Sx(t,e,n,i,r){for(var o,a=[t[e],t[e+1]],s=[];e+i<n;e+=i){if(s[0]=t[e+i],s[1]=t[e+i+1],o=r(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}function Cx(t,e,n,i,r){var o=Fs([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Ys(r,o)&&(!!ws(r,o)||(o[0]>=r[0]&&o[2]<=r[2]||(o[1]>=r[1]&&o[3]<=r[3]||Sx(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,r=Ms(t,e),o=Ms(t,n);if(r===ms.INTERSECTING||o===ms.INTERSECTING)i=!0;else{var a=t[0],s=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=n[0],p=n[1],d=(p-h)/(f-u),g=void 0,m=void 0;o&ms.ABOVE&&!(r&ms.ABOVE)&&(i=(g=f-(p-c)/d)>=a&&g<=l),i||!(o&ms.RIGHT)||r&ms.RIGHT||(i=(m=p-(f-l)*d)>=s&&m<=c),i||!(o&ms.BELOW)||r&ms.BELOW||(i=(g=f-(p-s)/d)>=a&&g<=l),i||!(o&ms.LEFT)||r&ms.LEFT||(i=(m=p-(f-a)*d)>=s&&m<=c)}return i}(r,t,e)}))))}function Tx(t,e,n,i,r){if(!function(t,e,n,i,r){return!!Cx(t,e,n,i,r)||!!Ex(t,e,n,i,r[0],r[1])||!!Ex(t,e,n,i,r[0],r[3])||!!Ex(t,e,n,i,r[2],r[1])||!!Ex(t,e,n,i,r[2],r[3])}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(wx(t,n[o-1],n[o],i,r)&&!Cx(t,n[o-1],n[o],i,r))return!1;return!0}function Ix(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function Px(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return r>0}function Rx(t,e,n,i,r){for(var o=void 0!==r&&r,a=0,s=n.length;a<s;++a){var l=n[a],c=Px(t,e,l,i);if(0===a){if(o&&c||!o&&!c)return!1}else if(o&&!c||!o&&c)return!1;e=l}return!0}function Fx(t,e,n,i,r){for(var o=void 0!==r&&r,a=0,s=n.length;a<s;++a){var l=n[a],c=Px(t,e,l,i);(0===a?o&&c||!o&&!c:o&&!c||!o&&c)&&Ix(t,e,l,i),e=l}return e}var Lx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ax=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==n&&i?(r.setFlatCoordinates(n,e),r.ends_=i):r.setCoordinates(e,n),r}return Lx(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?No(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<bs(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(px(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gx(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Mx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return ux(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Fx(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,f_(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Ds(this.getExtent());this.flatInteriorPoint_=Ox(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new xx(this.getFlatInteriorPoint(),pb.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new _x(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],l=new _x(e.slice(r,s),t);i.push(l),r=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Rx(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Fx(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=P_(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,pb.XY,i)},e.prototype.getType=function(){return fl.POLYGON},e.prototype.intersectsExtent=function(t){return Tx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=vx(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(mb),kx=Ax;function jx(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new Ax(o,pb.XY,[o.length])}var Dx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nx=0;function zx(t,e){setTimeout(function(){t(e)},0)}function Gx(t){return!(t.sourceCenter&&t.targetCenter&&!sx(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var qx=function(t){function e(e){var n=t.call(this)||this,i=$o({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Ul(i.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,i.center&&(i.center=ic(i.center,n.projection_)),i.extent&&(i.extent=oc(i.extent,n.projection_)),n.applyOptions_(i),n}return Dx(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:Nx,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=Ul(t.projection,"EPSG:3857"),u=c.getExtent(),h=t.constrainOnlyCenter,f=t.extent;s||f||!c.isGlobal()||(h=!1,f=u);if(void 0!==t.resolutions){var p=t.resolutions;n=p[r],i=void 0!==p[o]?p[o]:p[p.length-1],e=t.constrainResolution?function(t,e,n){return function(i,r,o,a){if(void 0!==i){var s=t[0],l=t[t.length-1],c=n?Qb(s,n,o):s;if(a)return void 0===e||e?tx(i,c,l):Aa(i,l,c);var u=Math.min(c,i),h=Math.floor(jo(t,u,r));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(p,l,!h&&f):ex(n,i,l,!h&&f)}else{var d=u?Math.max(Ws(u),Gs(u)):360*ml[vl.DEGREES]/c.getMetersPerUnit(),g=d/bc/Math.pow(2,Nx),m=g/Math.pow(2,28-Nx);void 0!==(n=t.maxResolution)?r=0:n=g/Math.pow(a,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):g/Math.pow(a,o):m),o=r+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,o-r),e=t.constrainResolution?function(t,e,n,i,r){return function(o,a,s,l){if(void 0!==o){var c=r?Qb(e,r,s):e,u=void 0!==n?n:0;if(l)return void 0===i||i?tx(o,c,u):Aa(o,u,c);var h=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),f=-a*(.5-1e-9)+.5,p=Math.min(c,o),d=Math.floor(Math.log(e/p)/Math.log(t)+f),g=Math.max(h,d);return Aa(e/Math.pow(t,g),u,c)}}}(a,n,i,l,!h&&f):ex(n,i,l,!h&&f)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return $b(t.extent,t.constrainOnlyCenter,e)}var n=Ul(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,$b(i,!1,!1)}return Jb}(t),i=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=r||Na(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?ix:"number"===typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):ix}return nx;var n,i;var r,o}(t);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=$o({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),$o({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=$o({},i)).center=ic(i.center,this.getProjection())),i.anchor&&((i=$o({},i)).anchor=ic(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&zx(e,!0))}for(var r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],c=0;c<n;++c){var u=arguments[c],h={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||ls,callback:e};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),void 0!==u.rotation){h.sourceRotation=s;var f=za(u.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+f,s=h.targetRotation}Gx(h)?h.complete=!0:r+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(c_,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c_]>0},e.prototype.getInteracting=function(){return this.hints_[u_]>0},e.prototype.cancelAnimations=function(){this.setHint(c_,-this.hints_[c_]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&zx(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){var l=t-s.start,c=s.duration>0?l/s.duration:1;c>=1?(s.complete=!0,c=1):r=!1;var u=s.easing(c);if(s.sourceCenter){var h=s.sourceCenter[0],f=s.sourceCenter[1],p=h+u*(s.targetCenter[0]-h),d=f+u*(s.targetCenter[1]-f);this.targetCenter_=[p,d]}if(s.sourceResolution&&s.targetResolution){var g=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var m=this.getSizeFromViewport_(this.getRotation()),v=this.constraints_.resolution(g,0,m,!0);this.targetCenter_=this.calculateCenterZoom(v,s.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var y=1===u?za(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var _=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(_,s.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(c_,-1);var b=i[0].callback;b&&zx(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,r,o=this.getCenterInternal();return void 0!==o&&(lx(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),r=e,(i=n)[0]+=+r[0],i[1]+=+r[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+Ko(this)+'"]',i=document.querySelector(n);if(i){var r=getComputedStyle(i);e[0]=parseInt(r.width,10),e[1]=parseInt(r.height,10)}if(t){var o=e[0],a=e[1];e[0]=Math.abs(o*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(o*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?nc(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(rx)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return rc(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();Ua(n,1);var i=this.getResolution();Ua(void 0!==i,2);var r=this.getRotation();return Ua(void 0!==r,3),zs(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(ox)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(oc(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),i=Ws(t)/n[0],r=Gs(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(ax)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=jo(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Aa(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Aa(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,i=$o({size:this.getSizeFromViewport_()},e||{});if(Ua(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t))Ua(!Hs(t),25),n=jx(r=oc(t,this.getProjection()));else if(t.getType()===fl.CIRCLE){var r;(n=jx(r=oc(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Ds(r))}else{var o=ec();n=o?n.clone().transform(o,this.getProjection()):t}this.fitInternal(n,i)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getSizeFromViewport_());var r,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),l=this.getRotation(),c=Math.cos(-l),u=Math.sin(-l),h=1/0,f=1/0,p=-1/0,d=-1/0,g=t.getStride(),m=0,v=s.length;m<v;m+=g){var y=s[m]*c-s[m+1]*u,_=s[m]*u+s[m+1]*c;h=Math.min(h,y),f=Math.min(f,_),p=Math.max(p,y),d=Math.max(d,_)}var b=this.getResolutionForExtentInternal([h,f,p,d],[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);b=isNaN(b)?r:Math.max(b,r),b=this.getConstrainedResolution(b,a?0:1),u=-u;var x=(h+p)/2,w=(f+d)/2,E=[(x+=(o[1]-o[3])/2*b)*c-(w+=(o[0]-o[2])/2*b)*u,w*c+x*u],M=n.callback?n.callback:Bo;void 0!==n.duration?this.animateInternal({resolution:b,center:this.getConstrainedCenter(E,b),duration:n.duration,easing:n.easing},M):(this.targetResolution_=b,this.targetCenter_=E,this.applyTargetState_(!1,!0),zx(M,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(ic(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),a=t[0]*r-t[1]*o,s=t[1]*r+t[0]*o,l=this.getResolution(),c=(a+=(e[0]/2-n[0])*l)*r-(s+=(n[1]-e[1]/2)*l)*(o=-o),u=s*r+a*o;this.setCenterInternal([c,u])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=nc(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&ic(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getSizeFromViewport_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=ic(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(ic(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getSizeFromViewport_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n);this.get(ax)!==i&&this.set(ax,i),this.get(ox)!==o&&this.set(ox,o),this.get(rx)&&sx(this.get(rx),a)||this.set(rx,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,r=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(o),s=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===i)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&sx(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:i,easing:ss,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(u_,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&ic(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(u_,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(ma),Bx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ux=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.map=n,r.frameState=void 0!==i?i:null,r}return Bx(e,t),e}(oa),Wx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yx=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==r&&r,a}return Wx(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Ux),Hx=(n("04ff8c05da014e6eacb1"),{SINGLECLICK:"singleclick",CLICK:la.CLICK,DBLCLICK:la.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}),Xx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kx=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i,r,o)||this;return a.pointerEvent=i,a}return Xx(e,t),e}(Yx),Vx={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Zx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$x=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*Js:Js,i.down_=null;var r=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=r,i.pointerdownListenerKey_=ea(r,Vx.POINTERDOWN,i.handlePointerDown_,i),i.relayedListenerKey_=ea(r,Vx.POINTERMOVE,i.relayEvent_,i),i}return Zx(e,t),e.prototype.emulateClick_=function(t){var e=new Kx(Hx.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Kx(Hx.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Kx(Hx.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Hx.POINTERUP||e.type==Hx.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Hx.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Kx(Hx.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ia),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new Kx(Hx.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(ea(document,Hx.POINTERMOVE,this.handlePointerMove_,this),ea(document,Hx.POINTERUP,this.handlePointerUp_,this),ea(this.element_,Hx.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Kx(Hx.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Kx(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ia(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(ia(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ia),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(sa),Jx={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Qx=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Jo(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){Ua(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<i&&n[l]<n[s]?l:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=r,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=r,i[e]=o},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(e=0;e<s;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,r[a++]=t);r.length=a,o.length=a,this.heapify_()},t}(),tw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ew=function(t){function e(e,n){var i=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return tw(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(la.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===os.LOADED||n===os.ERROR||n===os.EMPTY||n===os.ABORT){e.removeEventListener(la.CHANGE,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===os.ABORT?a=!0:n!==os.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&a&&this.tileChangeCallback_()},e}(Qx),nw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iw={LAYERS:"layers"},rw=function(t){function e(e){var n=this,i=e||{},r=$o({},i);delete r.layers;var o=i.layers;return(n=t.call(this,r)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(ga(iw.LAYERS),n.handleLayersChanged_),o?Array.isArray(o)?o=new Tb(o.slice(),{unique:!0}):Ua("function"===typeof o.getArray,43):o=new Tb(void 0,{unique:!0}),n.setLayers(o),n}return nw(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ia),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(ea(t,Mb.ADD,this.handleLayersAdd_,this),ea(t,Mb.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(ia);Jo(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.listenerKeys_[Ko(o)]=[ea(o,Zo,this.handleLayerChange_,this),ea(o,la.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Ko(e)]=[ea(e,Zo,this.handleLayerChange_,this),ea(e,la.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=Ko(t.element);this.listenerKeys_[e].forEach(ia),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(iw.LAYERS)},e.prototype.setLayers=function(t){this.set(iw.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var a=e[r];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==a.extent?a.extent=qs(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return $a.READY},e}(Ya),ow=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function aw(t,e){t.style.msTouchAction=e,t.style.touchAction=e,t.setAttribute("touch-action",e)}var sw=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new rw({layers:t.layers});o[Jx.LAYERGROUP]=a,o[Jx.TARGET]=t.target,o[Jx.VIEW]=void 0!==t.view?t.view:new qx,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Tb(t.controls.slice()):(Ua("function"===typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Tb(t.interactions.slice()):(Ua("function"===typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?r=new Tb(t.overlays.slice()):(Ua("function"===typeof t.overlays.getArray,49),r=t.overlays):r=new Tb;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Js,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new $x(n,e.moveTolerance);var r=n.handleMapBrowserEvent.bind(n);for(var o in Hx)n.mapBrowserEventHandler_.addEventListener(Hx[o],r);n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var a=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(la.CONTEXTMENU,a,!1),n.viewport_.addEventListener(la.WHEEL,a,!1),n.controls=i.controls||new Tb,n.interactions=i.interactions||new Tb,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new ew(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(ga(Jx.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener(ga(Jx.VIEW),n.handleViewChanged_),n.addEventListener(ga(Jx.SIZE),n.handleSizeChanged_),n.addEventListener(ga(Jx.TARGET),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(Mb.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(Mb.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(Mb.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Mb.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(Mb.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(Mb.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return ow(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(la.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(la.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(la.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:Go,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||Go;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Go,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Jx.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return nc(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Lv(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Jx.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=ic(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Lv(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Jx.SIZE)},e.prototype.getView=function(){return this.get(Jx.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!r||!(e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=r.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new Yx(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=n.length-1;i>=0;i--){var r=n[i];if(r.getActive())if(!r.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;if(r[c_]||r[u_]){var o=!Qs&&Date.now()-t.time>8;n=o?0:8,i=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(Za)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(Za,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.focusHandlerKeys_){for(var e=0,n=this.focusHandlerKeys_.length;e<n;++e)ia(this.focusHandlerKeys_[e]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(e=0,n=this.keyHandlerKeys_.length;e<n;++e)ia(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var i=!0;t.hasAttribute("tabindex")&&(i=document.activeElement===t,this.focusHandlerKeys_=[ea(t,la.FOCUS,aw.bind(this,this.viewport_,"none")),ea(t,la.BLUR,aw.bind(this,this.viewport_,"auto"))]),aw(this.viewport_,i?"none":"auto");var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[ea(r,la.KEYDOWN,this.handleBrowserEvent,this),ea(r,la.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(la.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),xa(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(la.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ia(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ia(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Ko(t)),this.viewPropertyListenerKey_=ea(t,Zo,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ea(t,la.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ia),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[ea(t,Zo,this.render,this),ea(t,la.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),i=this.frameState_,r=null;if(void 0!==e&&function(t){return t[0]>0&&t[1]>0}(e)&&n&&n.isDef()){var o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:i?i.declutterItems:[],extent:zs(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i)(!this.previousExtent_||!Hs(this.previousExtent_)&&!Ts(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Ux(Wo,this,i)),this.previousExtent_=Cs(this.previousExtent_));this.previousExtent_&&!r.viewHints[c_]&&!r.viewHints[u_]&&!Ts(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Ux(Yo,this,r)),_s(r.extent,this.previousExtent_))}this.dispatchEvent(new Ux(Uo,this,r)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Jx.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Jx.SIZE,t)},e.prototype.setTarget=function(t){this.set(Jx.TARGET,t)},e.prototype.setView=function(t){this.set(Jx.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(ma),lw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function cw(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(Ca);r||0!==n?r&&0!==n&&this.element.classList.remove(Ca):this.element.classList.add(Ca)}this.label_.style.transform=i}this.rotation_=n}}var uw=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render||cw,target:i.target})||this;var r=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7";n.label_=null,"string"===typeof o?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=o):(n.label_=o,n.label_.classList.add("ol-compass"));var a=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=r+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener(la.CLICK,n.handleClick_.bind(n),!1);var l=r+" "+Ia+" "+Pa,c=n.element;return c.className=l,c.appendChild(s),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Ca),n}return lw(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:ss}):t.setRotation(0))},e}(Sa),hw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fw=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var r=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",l=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r+"-in",u.setAttribute("type","button"),u.title=l,u.appendChild("string"===typeof a?document.createTextNode(a):a),u.addEventListener(la.CLICK,n.handleClick_.bind(n,o),!1);var h=document.createElement("button");h.className=r+"-out",h.setAttribute("type","button"),h.title=c,h.appendChild("string"===typeof s?document.createTextNode(s):s),h.addEventListener(la.CLICK,n.handleClick_.bind(n,-o),!1);var f=r+" "+Ia+" "+Pa,p=n.element;return p.className=f,p.appendChild(u),p.appendChild(h),n.duration_=void 0!==i.duration?i.duration:250,n}return hw(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:ss})):e.setZoom(i)}}},e}(Sa);function pw(t){var e=t||{},n=new Tb;return(void 0===e.zoom||e.zoom)&&n.push(new fw(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new uw(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new is(e.attributionOptions)),n}var dw=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),gw="active",mw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function vw(t,e,n,i){var r=t.getZoom();if(void 0!==r){var o=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:ss})}}var yw=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return mw(e,t),e.prototype.getActive=function(){return this.get(gw)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(gw,t)},e.prototype.setMap=function(t){this.map_=t},e}(ma),_w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function bw(t){var e=!1;if(t.type==Hx.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;vw(i.getView(),o,r,this.duration_),t.preventDefault(),e=!0}return!e}var xw=function(t){function e(e){var n=t.call(this,{handleEvent:bw})||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return _w(e,t),e}(yw),ww=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ew=function(t){return t.target.getTargetElement()===document.activeElement},Mw=Go,Ow=function(t){var e=t.originalEvent;return 0==e.button&&!(Zs&&$s&&e.ctrlKey)},Sw=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Cw=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Tw=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Iw=function(t){var e=t.pointerEvent;return Ua(void 0!==e,56),"mouse"==e.pointerType},Pw=function(t){var e=t.pointerEvent;return Ua(void 0!==e,56),e.isPrimary&&0===e.button},Rw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Fw(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var Lw=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Rw(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Hx.POINTERDRAG)this.handleDragEvent(t);else if(t.type==Hx.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Hx.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==Hx.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Hx.POINTERDOWN||e===Hx.POINTERDRAG||e===Hx.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==Hx.POINTERUP?delete this.trackedPointers_[n]:t.type==Hx.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Qo(this.trackedPointers_)}},e}(yw),Aw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function kw(t){return Sw(t)&&Pw(t)}var jw=function(t){function e(e){var n=t.call(this,{stopDown:qo})||this,i=e||{};return n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=i.condition?i.condition:kw,n.noKinetic_=!1,n}return Aw(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,r=Fw(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();e=o,n=a.getResolution(),e[0]*=n,e[1]*=n,lx(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(r),a[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:ss})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Lw),Dw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nw=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:qo})||this).condition_=i.condition?i.condition:ww,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return Dw(e,t),e.prototype.handleDragEvent=function(t){if(Iw(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==nx){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!Iw(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!Iw(t)&&(!(!Ow(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(Lw),zw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gw=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return zw(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new kx([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(ra),qw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bw="boxstart",Uw="boxdrag",Ww="boxend",Yw=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.coordinate=n,r.mapBrowserEvent=i,r}return qw(e,t),e}(oa),Hw=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new Gw(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,n.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:Bo,n.startPixel_=null,n.condition_=i.condition?i.condition:Mw,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return qw(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Iw(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Yw(Uw,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Iw(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Yw(Ww,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Iw(t)&&(!(!Ow(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Yw(Bw,t.coordinate,t)),!0))},e}(Lw),Xw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Kw(){var t,e,n=this.getMap(),i=n.getView(),r=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var a=i.calculateExtentInternal(r),s=(t=[n.getPixelFromCoordinateInternal(ks(o)),n.getPixelFromCoordinateInternal(Us(o))],Rs(Cs(e),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(a,1/i.getResolutionForExtentInternal(s,r)),o=a}var l=i.getConstrainedResolution(i.getResolutionForExtentInternal(o,r)),c=i.getConstrainedCenter(Ds(o),l);i.animateInternal({resolution:l,center:c,duration:this.duration_,easing:ss})}var Vw=function(t){function e(e){var n=this,i=e||{},r=i.condition?i.condition:Cw;return(n=t.call(this,{condition:r,className:i.className||"ol-dragzoom",minArea:i.minArea,onBoxEnd:Kw})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return Xw(e,t),e}(Hw),Zw={LEFT:37,UP:38,RIGHT:39,DOWN:40},$w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Jw(t){var e=!1;if(t.type==la.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Zw.DOWN||n==Zw.LEFT||n==Zw.RIGHT||n==Zw.UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,a=0;n==Zw.DOWN?a=-r:n==Zw.LEFT?o=-r:n==Zw.RIGHT?o=r:a=r;var s=[o,a];lx(s,i.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:cs,center:t.getConstrainedCenter(r)})}}(i,s,this.duration_),t.preventDefault(),e=!0}}return!e}var Qw=function(t){function e(e){var n=t.call(this,{handleEvent:Jw})||this,i=e||{};return n.defaultCondition_=function(t){return Sw(t)&&Tw(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return $w(e,t),e}(yw),tE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function eE(t){var e=!1;if(t.type==la.KEYDOWN||t.type==la.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;vw(i.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var nE=function(t){function e(e){var n=t.call(this,{handleEvent:eE})||this,i=e||{};return n.condition_=i.condition?i.condition:Tw,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return tE(e,t),e}(yw),iE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rE="trackpad",oE="wheel",aE=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:Mw,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return iE(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==la.WHEEL)return!0;t.preventDefault();var e,n=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==la.WHEEL&&(e=i.deltaY,Vs&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=Js),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var r=Date.now();if(void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?rE:oE),this.mode_===rE){var o=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):o.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),o.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1}this.totalDelta_+=e;var a=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),vw(e,-Aa(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(yw),sE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lE=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=qo),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return sE(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==nx){var l=a.getViewport().getBoundingClientRect(),c=Fw(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Lw),cE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uE=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=qo),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return cE(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var c=s.getViewport().getBoundingClientRect(),u=Fw(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Lw);function hE(t){var e=t||{},n=new Tb,i=new dw(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Nw),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new xw({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new jw({condition:e.onFocusOnly?Ew:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new lE),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new uE({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Qw),n.push(new nE({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new aE({condition:e.onFocusOnly?Ew:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Vw({duration:e.zoomDuration})),n}var fE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function pE(t,e){My.expire()}var dE,gE=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return fE(e,t),e.prototype.dispatchRenderEvent=function(t,e){Ho()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Av(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),kv(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,a,s){var l,c=e.viewState;function u(t,e,n){return r.call(o,e,t?n:null)}var h=c.projection,f=t,p=[[0,0]];if(h.canWrapX()){var d=h.getExtent(),g=Ws(d),m=t[0];if(m<d[0]||m>d[2])f=[m+g*Math.ceil((d[0]-m)/g),t[1]];i&&p.push([-g,0],[g,0])}var v,y=e.layerStatesArray,_=y.length;this.declutterTree_&&(v=this.declutterTree_.all().map(function(t){return t.value}));for(var b=[],x=0;x<p.length;x++)for(var w=_-1;w>=0;--w){var E=y[w],M=E.layer;if(M.hasRenderer()&&Qa(E,c)&&a.call(s,M)){var O=M.getRenderer(),S=M.getSource();if(O&&S){var C=S.getWrapX()?f:t,T=u.bind(null,E.managed);b[0]=C[0]+p[x][0],b[1]=C[1]+p[x][1],l=O.forEachFeatureAtCoordinate(b,e,n,T,v)}if(l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){return Ho()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,Go,this,r,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,i=n.length-1;i>=0;--i)for(var r=n[i],o=r.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],r.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){My.canExpireCache()&&t.postRenderFunctions.push(pE)},e}(ra),mE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vE=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=ea(Bv,la.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Ia+" ol-layers";var r=e.getViewport();return r.insertBefore(n.element_,r.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return mE(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new Rv(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){ia(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(Ka,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),i=e.viewState;this.children_.length=0;for(var r=null,o=0,a=n.length;o<a;++o){var s=n[o];if(e.layerIndex=o,Qa(s,i)&&(s.sourceState==$a.READY||s.sourceState==$a.UNDEFINED)){var l=s.layer.render(e,r);l&&l!==r&&(this.children_.push(l),r=l)}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,i=0;;++i){var r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(Va,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],c=l.layer;if(c.hasRenderer()&&Qa(l,o)&&r(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var h=i(c,u);if(h)return h}}}},e}(gE),yE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_E=function(t){function e(e){return(e=$o({},e)).controls||(e.controls=pw()),e.interactions||(e.interactions=hE()),t.call(this,e)||this}return yE(e,t),e.prototype.createRenderer=function(){return new vE(this)},e}(sw);n("403df48ddaa9afb322f2");function bE(t){return(bE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wE(t,e){return(wE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function EE(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=OE(t);if(e){var r=OE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===bE(e)||"function"===typeof e))return e;return ME(t)}(this,n)}}function ME(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OE(t){return(OE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SE={openlayersMap:{height:"100%",width:"100%",minWidth:399}},CE=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wE(t,e)}(a,o.a.PureComponent);var e,n,i,r=EE(a);function a(t){var e,n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=r.call(this,t),n=ME(e),o=function(t){var n=e.map.getEventPixel(t.originalEvent),i=e.map.hasFeatureAtPixel(n);e.map.getTarget().style.cursor=i?"pointer":"inherit"},(i="changeMarkersPointer")in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,e.map=null,e.mapDiv=null,e.layers=[],e.interactions=[],e.controls=[],e.overlays=[],e.options={pixelRation:void 0,keyboardEventTarget:void 0,loadTilesWhileAnimation:void 0,loadTilesWhileInteractiong:void 0,logo:void 0,renderer:void 0,setCenter:void 0,setZoom:void 0,setResolution:void 0,view:new qx({center:Yl([32.4279,53.688]),zoom:3}),controls:void 0,interactions:void 0,layers:void 0,overlays:void 0},e.events={change:[],"change:layerGroup":[],"change:size":[],"change:target":[],"change:view":[],click:[],dblclick:[],moveend:[],pointerdrag:[],pointermove:[],postcompose:[],postrender:[],precompose:[],propertychange:[],singleclick:[]},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t,e,n,i,r=$y(Object.assign(this.options,this.props)),a=function(t,e){for(var n,i=o.a.Children.toArray(t),r=0;r<i.length;r+=1){var a=i[r];if(a.type.name===e){n=a;break}}return n}(this.props.children,"Controls")||{},s=this.props.interactions||{};r.controls=pw(a.props).extend(this.controls),r.interactions=hE(s).extend(this.interactions),r.layers=this.layers,r.overlays=this.overlays,r.view instanceof qx||(r.view=new qx(r.view)),this.map=new _E(r),this.map.setTarget(r.target||this.mapDiv),this.map.on("pointermove",this.changeMarkersPointer),t=this.map,e=this.events,n=this.props,i=Zy(e,n),Et()(i,function(e,n){e.forEach(function(e){return t.on(n,function(n){return e(t,n)})})})}},{key:"componentDidUpdate",value:function(){if(!D()(this.options.view,this.props.view)){var t=new qx(this.props.view);this.map.setView(t)}}},{key:"render",value:function(){var t=this;return function(t,e,n,i){dE||(dE="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:dE,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(fy,{value:this},void 0,o.a.createElement("div",{style:SE.openlayersMap,ref:function(e){t.mapDiv=e}},this.props.children))}}])&&xE(e.prototype,n),i&&xE(e,i),a}(),TE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var IE=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(ga(n.geometryName_),n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var i=e;n.setGeometry(i)}else{var r=e;n.setProperties(r)}return n}return TE(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ia(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=ea(t,la.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Ua("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(ga(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(ga(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(ma);function PE(t){return(PE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function FE(t,e){return(FE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function LE(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=AE(t);if(e){var r=AE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===PE(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function AE(t){return(AE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kE=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FE(t,e)}(a,o.a.PureComponent);var e,n,i,r=LE(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"setViewCenter",value:function(t,e,n){if(n)this.context.context.map.getView().setCenter(t.getCoordinates());else if(e){if(!xs(this.context.context.map.getView().calculateExtent(this.context.context.map.getSize()),t.getCoordinates()))this.context.context.map.getView().setCenter(t.getCoordinates())}}},{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.course,i=t.height,r=t.id,o=t.icon,a=t.isPinned,s=t.isSelected,l=t.label,c=t.latitude,u=t.longitude,h=t.type,f=t.width,p=t.style,d=t.ratio,g=new xx(Yl([u,c]));this.feature=new IE({id:r,type:h,geometry:g});var m=Jy(e,n,i,o,s,f,p,d);m.getText().setText(decodeURI(l)),this.feature.setStyle(m),this.context.vectorSource&&this.context.vectorSource.addFeature(this.feature),this.setViewCenter(g,s,a)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.color,i=e.course,r=e.height,o=e.icon,a=e.isPinned,s=e.isSelected,l=e.label,c=e.latitude,u=e.longitude,h=e.style,f=e.width,p=e.ratio;if(n!==t.color||c!==t.latitude||u!==t.longitude||s!==t.isSelected||a!==t.isPinned||l!==t.label||o!==t.icon||p!==t.ratio){var d=new xx(Yl([u,c]));this.setViewCenter(d,s,a),this.feature.setGeometry(d);var g=Jy(n,i,r,o,s,f,h,p);g.getText().setText(decodeURI(l)),this.feature.setStyle(g)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Icon")}},{key:"render",value:function(){return null}}])&&RE(e.prototype,n),i&&RE(e,i),a}();kE.contextType=Xb;var jE=kE;function DE(t,e,n,i,r,o){var a=NaN,s=NaN,l=(n-e)/i;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-r)*t[e]+r*t[e+i],s=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==l){for(var c=t[e],u=t[e+1],h=0,f=[0],p=e+i;p<n;p+=i){var d=t[p],g=t[p+1];h+=Math.sqrt((d-c)*(d-c)+(g-u)*(g-u)),f.push(h),c=d,u=g}var m=r*h,v=function(t,e,n){for(var i,r,o=n||ko,a=0,s=t.length,l=!1;a<s;)(r=+o(t[i=a+(s-a>>1)],e))<0?a=i+1:(s=i,l=!r);return l?a:~a}(f,m);if(v<0){var y=(m-f[-v-2])/(f[-v-1]-f[-v-2]),_=e+(-v-2)*i;a=Ga(t[_],t[_+i],y),s=Ga(t[_+1],t[_+i+1],y)}else a=t[e+v*i],s=t[e+v*i+1]}return o?(o[0]=a,o[1]=s,o):[a,s]}function NE(t,e,n,i,r,o){if(n==e)return null;var a;if(r<t[e+i-1])return o?((a=t.slice(e,e+i))[i-1]=r,a):null;if(t[n-1]<r)return o?((a=t.slice(n-i,n))[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var s=e/i,l=n/i;s<l;){var c=s+l>>1;r<t[(c+1)*i-1]?l=c:s=c+1}var u=t[s*i-1];if(r==u)return t.slice((s-1)*i,(s-1)*i+i);var h=(r-u)/(t[(s+1)*i-1]-u);a=[];for(var f=0;f<i-1;++f)a.push(Ga(t[(s-1)*i+f],t[s*i+f],h));return a.push(r),a}var zE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GE=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return zE(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?No(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<bs(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Sx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=pb.XYM&&this.layout!=pb.XYZM)return null;var n=void 0!==e&&e;return NE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return h_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return DE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return G_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=C_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,pb.XY)},e.prototype.getType=function(){return fl.LINE_STRING},e.prototype.intersectsExtent=function(t){return Cx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mx(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mb);function qE(t){return(qE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function UE(t,e){return(UE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WE(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=YE(t);if(e){var r=YE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===qE(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function YE(t){return(YE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var HE=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UE(t,e)}(a,o.a.PureComponent);var e,n,i,r=WE(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.id,i=t.positions,r=t.width,o=i?i.map(function(t){return Yl([t.longitude,t.latitude])}):[];this.feature=new IE({geometry:new GE(o)}),this.feature.setStyle(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return new By({stroke:new Dy({color:t||"rgba(50, 50, 50, 1.0)",width:e})})}(e,r)),this.feature.setId("LINE-".concat(n)),this.context.vectorSource&&this.context.vectorSource.addFeature(this.feature)}},{key:"componentDidUpdate",value:function(t){var e=this.props.positions.slice(-1)[0],n=t.positions.slice(-1)[0];if(e.longitude!==n.longitude||e.latitude!==n.latitude){var i=this.feature.getGeometry().getCoordinates();this.props.length&&i.length>=this.props.length&&i.shift(),i.push(Yl([e.longitude,e.latitude])),this.feature.getGeometry().setCoordinates(i)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Line")}},{key:"render",value:function(){return null}}])&&BE(e.prototype,n),i&&BE(e,i),a}();HE.contextType=Xb;var XE={Icon:jE,Line:HE},KE=n("63f14ac74ce296f77f4d"),VE=n.n(KE),ZE={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},$E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JE={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},QE=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Ta,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(ga(JE.ELEMENT),n.handleElementChanged),n.addEventListener(ga(JE.MAP),n.handleMapChanged),n.addEventListener(ga(JE.OFFSET),n.handleOffsetChanged),n.addEventListener(ga(JE.POSITION),n.handlePositionChanged),n.addEventListener(ga(JE.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:ZE.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return $E(e,t),e.prototype.getElement=function(){return this.get(JE.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(JE.MAP)},e.prototype.getOffset=function(){return this.get(JE.OFFSET)},e.prototype.getPosition=function(){return this.get(JE.POSITION)},e.prototype.getPositioning=function(){return this.get(JE.POSITIONING)},e.prototype.handleElementChanged=function(){wa(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(xa(this.element),ia(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=ea(t,Uo,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(JE.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(JE.ELEMENT,t)},e.prototype.setMap=function(t){this.set(JE.MAP,t)},e.prototype.setOffset=function(t){this.set(JE.OFFSET,t)},e.prototype.setPosition=function(t){this.set(JE.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[ya(n),_a(n)]),r=this.autoPanMargin;if(!ws(e,i)){var o=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],l=e[3]-i[3],c=[0,0];if(o<0?c[0]=o-r:a<0&&(c[0]=Math.abs(a)+r),s<0?c[1]=s-r:l<0&&(c[1]=Math.abs(l)+r),0!==c[0]||0!==c[1]){var u=t.getView().getCenterInternal(),h=t.getPixelFromCoordinateInternal(u),f=[h[0]+c[0],h[1]+c[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(f),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(JE.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],a=i[1];if(r==ZE.BOTTOM_RIGHT||r==ZE.CENTER_RIGHT||r==ZE.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_="",n.left="");var s=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=s&&(this.rendered.right_=s,n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_="",n.right=""),r!=ZE.BOTTOM_CENTER&&r!=ZE.CENTER_CENTER&&r!=ZE.TOP_CENTER||(o-=this.element.offsetWidth/2);var l=Math.round(t[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=l,n.left=l)}if(r==ZE.BOTTOM_LEFT||r==ZE.BOTTOM_CENTER||r==ZE.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_="",n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=c,n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",n.bottom=""),r!=ZE.CENTER_LEFT&&r!=ZE.CENTER_CENTER&&r!=ZE.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var u=Math.round(t[1]+a)+"px";this.rendered.top_!=u&&(this.rendered.top_="top",n.top=u)}},e.prototype.getOptions=function(){return this.options},e}(ma);function tM(t){return(tM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function nM(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rM(t,e){return(rM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oM(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=sM(t);if(e){var r=sM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===tM(e)||"function"===typeof e))return e;return aM(t)}(this,n)}}function aM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(t){return(sM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cM=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rM(t,e)}(a,o.a.PureComponent);var e,n,i,r=oM(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);t.children;var n=t.onClose,i=t.onOpen,o=nM(t,["children","onClose","onOpen"]);lM(aM(e=r.call(this,t)),"renderOverlay",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.feature.getGeometry().getCoordinates();e.overlay.setPosition(n),e.onOpen(e.options.element),t&&e.forceUpdate()}),lM(aM(e),"handleOverly",function(t,n){if("ol-overlaycontainer-stopevent"===n.originalEvent.target.className){var i=e.context.map.forEachFeatureAtPixel(n.pixel,function(t){return t});i!==e.feature&&(e.feature=i,e.feature?e.renderOverlay(!0):(e.overlay.setPosition(void 0),e.onClose(),e.isVisible=!1))}else n.stopPropagation()}),e.feature=null,e.onClose=n||e.defaultHandler,e.onOpen=i||e.defaultHandler,e.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(e){lM(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o);var s=document.createElement("div");return s.style.minWidth="300px",e.options.element=s,e}return e=a,(n=[{key:"componentDidMount",value:function(){this.overlay=new QE(this.options),this.context.overlays.push(this.overlay),this.context.events.click.push(this.handleOverly)}},{key:"componentWillUnmount",value:function(){gt()(this.context.overlayers,this.overlay)}},{key:"defaultHandler",value:function(){return null}},{key:"render",value:function(){return VE.a.createPortal(this.feature?this.props.children:null,this.options.element)}}])&&iM(e.prototype,n),i&&iM(e,i),a}();cM.contextType=py;var uM,hM=cM;function fM(t,e,n,i){uM||(uM="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:uM,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var pM,dM=Object(f.b)({isLiveRouteEnabled:Object(f.a)(Up,function(t){return t.isLiveRouteEnabled}),latestPositionsInViewport:Object(f.a)(qp(),Wp(),Hp(),Yp(),function(t,e,n,i){return t&&e&&function(t,e,n,i){var r=Ue(e,n),o=Ue(e,i),a=Ge(e,r,o),s=Ye(a,t);return He(a,s,r,o)}(t,e,n,i)})}),gM=Object(u.c)(dM),mM=Object(h.d)(gM)(function(t){var e=t.isLiveRouteEnabled,n=t.latestPositionsInViewport;return fM(Vb.Vector,{},void 0,n.map(function(t){return fM("div",{},t.uniqueId,fM(XE.Icon,{id:t.uniqueId,isPinned:t.isPinned,isSelected:t.isSelected,label:t.name,latitude:t.latitude,longitude:t.longitude,course:t.course,category:t.category,color:t.color,icon:t.icon,width:t.width,height:t.height,type:t.type?t.type:"device",ratio:t.ratio}),e&&fM(XE.Line,{color:"#".concat(t.uniqueId.slice(-6)),id:t.uniqueId,length:10,positions:[t]}))}))}),vM=n("a5212af3d6b7e4a810a0"),yM=n("0da2b258a142f2074b40");function _M(t,e,n,i){pM||(pM="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:pM,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var bM=Object(s.a)({card:{},content:{padding:5}}),xM=Object(f.b)({user:Object(Cn.d)(),selectedDevice:Xp(),pinnedDevice:Yp()});var wM,EM=Object(u.c)(xM,function(t){return{onPin:function(e){return t(pp(e))}}}),MM=Object(h.d)(EM)(o.a.memo(function(t){var e=t.user,n=t.onPin,i=t.pinnedDevice,r=t.selectedDevice,o=bM();return _M(hM,{autoPan:!0,offset:[0,-50],positioning:"bottom-center"},void 0,r&&_M(vM.a,{className:o.card},r.uniqueId,_M(yM.a,{className:o.content},void 0,_M(Ld,{user:e,fleet:r,isPinned:r.uniqueId===i,onPin:n}))))}));function OM(t,e,n,i){wM||(wM="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:wM,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var SM,CM=Object(f.b)({positions:lm(),selectedPosition:cm(),showMarkers:sm(),showSpeedLabels:um(),units:Object(Cn.c)(),clusteredPositionsInViewport:Object(f.a)(Object(f.a)(Bp,am,Xp(),function(t,e,n){return e.showMarkers&&im(e.routeHistory,t.scale,n?n.attributes.speedLimit:null)}),qp(),function(t,e){return Ye(t,e)})}),TM=Object(u.c)(CM),IM=Object(h.d)(TM)(function(t){var e=t.positions,n=t.selectedPosition,i=t.showMarkers,r=t.showSpeedLabels,o=t.units,a=t.clusteredPositionsInViewport,s=!i,l=a&&i&&!Ot()(a,n),c=n&&n.icon&&(s||l);return OM(Vb.Vector,{},void 0,i&&a&&a.map(function(t){var e=n&&n.id===t.id;return OM("div",{},t.id,OM(XE.Icon,{id:t.id,isSelected:e,label:r||e?Re(t.speed,"speed",o):"",latitude:t.latitude,longitude:t.longitude,course:t.course,icon:t.icon.source,width:t.icon.width,height:t.icon.height,type:"position"}))}),c&&OM(XE.Icon,{id:n.id,isSelected:!0,label:Re(n.speed,"speed",o),latitude:n.latitude,longitude:n.longitude,course:n.course,icon:n.icon.source,width:n.icon.width,height:n.icon.height}),e&&e.length>0&&OM(XE.Line,{id:e[0].deviceId,color:"#00ff00",positions:e}))});function PM(t,e,n,i){SM||(SM="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:SM,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var RM=Object(s.a)(function(){return{map:{margin:0,top:0,right:0,bottom:0,left:0,minHeight:"100%",position:"absolute"}}}),FM=0,LM=PM(IM,{}),AM=PM(mM,{}),kM=PM(MM,{});var jM=Object(f.b)({server:Object(Cn.b)(),user:Object(Cn.d)(),mapSource:Object(f.a)(Object(Cn.b)(),Object(Cn.d)(),function(t,e){return function(t,e){switch(e.map||t.map){case"custom":return new Bc({url:"https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga",attributions:[new is({html:""})]});case"bingRoad":return new Bc({url:"https://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga",attributions:[new is({html:""})]});case"carto":return new Bc({url:"https://cartodb-basemaps-{a-d}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attributions:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attributions">CARTO</a>'});case"osm":return new Yc;case"baidu":return new Bc({projection:"BD-MC",tileUrlFunction:hp,tileGrid:up,attributions:'&copy; <a href="http://map.baidu.com/">Baidu</a>'});case"yandexMap":return new Bc({url:"https://vec0{1-4}.maps.yandex.net/tiles?l=map&x={x}&y={y}&z={z}",projection:"EPSG:3395",attributions:'&copy; <a href="https://yandex.com/maps/">Yandex</a>'});case"yandexSat":return new Bc({url:"https://sat0{1-4}.maps.yandex.net/tiles?l=sat&x={x}&y={y}&z={z}",projection:"EPSG:3395",attributions:'&copy; <a href="https://yandex.com/maps/">Yandex</a>'});case"WikiMedia":return new Yc({url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png"});default:return new Yc}}(t,e)})});var DM,NM=Object(u.c)(jM,function(t){return{onClick:function(e,n){return jp(t,e,n)()},onZoomChange:function(e){return t(fm(e))},onViewChange:function(e){return t(dm(e))}}}),zM=Object(h.d)(NM)(function(t){var e=t.mapSource,n=t.onClick,i=t.server,r=t.user,o=t.onZoomChange,a=t.onViewChange,s=RM(),l=Yl([r.longitude||i.longitude,r.latitude||i.latitude]);return Object(z.a)({key:"map",reducer:zp}),PM("div",{className:s.map},void 0,PM(CE,{onClick:n,onMoveend:function(t){var e=Dp(t);a(e);var n=Math.floor(t.getView().getZoom());n!==FM&&(FM=n,o(n))},view:{center:l,zoom:r.zoom||i.zoom},interactions:{altShiftDragRotate:!1,pinchRotate:!1}},void 0,PM(Zb,{},void 0,PM(Vb.Tile,{source:e}),LM,AM,kM)))}),GM=n("2f761e1ddb491333d12e"),qM=n("0632976be3f6b2e67ae2"),BM=n("16db539c7d0db86c9d7a"),UM={open:!1,success:null,error:null,info:null,warning:null,mode:null},WM=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UM,e=arguments.length>1?arguments[1]:void 0;return Object(Tn.a)(t,function(t){var n=e.payload;switch(e.type){case"app/AlertContainer/SET_MESSAGES":t.success=n.success,t.error=n.error,t.info=n.info,t.warning=n.warning;break;case"app/AlertContainer/OPEN_ALERT":t.open=!0,t.mode=n;break;case"app/AlertContainer/CLOSE_ALERT":t.open=!1}})},YM=function(t){return t.alert||UM};function HM(t,e,n,i){DM||(DM="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:DM,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function XM(){return(XM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var KM,VM=function(t){return o.a.createElement(GM.a,XM({},t,{direction:"up",variant:"filled"}))},ZM=Object(f.b)({open:Object(f.a)(YM,function(t){return t.open}),message:Object(f.a)(YM,function(t){return function(t){switch(t.mode){case zn.success:return t.success;case zn.error:return t.error;case zn.info:return t.info;case zn.warning:return t.warning;default:return null}}(t)}),mode:Object(f.a)(YM,function(t){return t.mode})}),$M=Object(u.c)(ZM,function(t){return{closeSnackbar:function(){return t({type:"app/AlertContainer/CLOSE_ALERT"})}}}),JM=Object(h.d)($M)(function(t){var e=t.open,n=t.message,i=t.mode,r=t.closeSnackbar;Object(z.a)({key:"alert",reducer:WM});var o=window.innerWidth>680?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"center"};return HM(qM.a,{open:e,onClose:r,autoHideDuration:6e3,anchorOrigin:o,TransitionComponent:VM},void 0,HM(BM.a,{onClose:r,severity:i},void 0,n))});function QM(t,e,n,i){KM||(KM="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),1===o)e.children=i;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];e.children=a}if(e&&r)for(var l in r)void 0===e[l]&&(e[l]=r[l]);else e||(e=r||{});return{$$typeof:KM,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function tO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return eO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"HomePage",function(){return sO});var nO=Object(s.a)(function(){return{root:{minHeight:"100%"}}}),iO=QM(a.a,{}),rO=QM(Ev,{}),oO=QM(zM,{}),aO=QM(JM,{});function sO(t){var e=t.user,n=t.onLiveRoute,i=t.onSearch,r=t.logout,a=nO(),s=tO(o.a.useState(!1),2),l=s[0],c=s[1],u=tO(o.a.useState(null),2),h=u[0],f=u[1];return QM("div",{id:"home_page",className:a.root},void 0,iO,QM(gi,{user:e,onSearch:i,onLiveRoute:n,logout:r,openAddFleetModal:function(t){f(t),c(!0)}}),rO,oO,l&&h&&QM(cd,{open:l,onClose:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f(t),c(!l)},task:h}),aO)}var lO=Object(f.b)({user:Object(Cn.d)()});var cO=Object(u.c)(lO,function(t){return{onLiveRoute:function(){return t({type:To})},onSearch:function(e){return t({type:Co,payload:e})},logout:function(){return t(Object(Nn.c)())}}});e.default=Object(h.d)(cO)(sO)},"0cd3c73b0976507cb4f5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88712' d='m14.606 13.91v1.7742h6.2098v0.88712c-2.6614 0-3.5165 1.7281-3.5485 1.7742h-3.5485v0.88712 0.88712l3.5485 0.88712c0 1.3236 1.3378 2.6614 2.6614 2.6614h2.6614c2.6614 0 4.4356-0.76026 4.4356-2.6614 0-1.6225-2.2284-3.988-5.3227-4.3802v-0.94256h6.2098v-1.7742l-6.2098 0.88712v-0.44356c0-0.24485-0.19872-0.44356-0.44356-0.44356s-0.44356 0.19871-0.44356 0.44356v0.44356l-6.2098-0.88712zm-0.88712 5.3227c0-0.97989-0.79436-1.7742-1.7742-1.7742-0.97988 0-1.7742 0.79435-1.7742 1.7742 0 0.97988 0.79436 1.7742 1.7742 1.7742 0.97989 0 1.7742-0.79436 1.7742-1.7742zm7.9841-0.88712c0.2821-0.03992 2.8831 0.79042 3.5485 2.6614h-3.5485v-2.6614zm4.4356 5.3227v0.88712h-8.8712v1.7742h8.8712c0.98027 0 1.7742-0.79397 1.7742-1.7742v-0.88712h-1.7742z'/%3E %3C/g%3E %3C/svg%3E"},"0eb14ef7a7fd07df1a3f":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o});var i="app/LoginPage/LOGIN_REQUEST",r="app/LoginPage/LOGIN_FAILED",o="app/LoginPage/SESSION_REQUEST"},"0efece4c8cb91e128a85":function(t,e,n){"use strict";t.exports=n("82c3e6e6e3fe41af700d")},"1c98b5ebc0a1076f8a67":function(t,e,n){t.exports=function(){"use strict";function t(t,i,r,o,a){!function t(n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=i-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),f=Math.max(r,Math.floor(i-l*u/s+h)),p=Math.min(o,Math.floor(i+(s-l)*u/s+h));t(n,i,f,p,a)}var d=n[i],g=r,m=o;for(e(n,r,i),a(n[o],d)>0&&e(n,r,o);g<m;){for(e(n,g,m),g++,m--;a(n[g],d)<0;)g++;for(;a(n[m],d)>0;)m--}0===a(n[r],d)?e(n,r,m):e(n,++m,o),m<=i&&(r=m+1),i<=m&&(o=m-1)}}(t,i,r||0,o||t.length-1,a||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(r,t.leaf?i(a):a)}return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,r,o){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=r)){var s=n+Math.ceil((i-n)/r/2)*r;t(e,s,n,i,o),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?i(a):a;p(t,s)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):r.push(a))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],o=e.leaf?this.toBBox(r):r;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,o,a=this.data,s=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=c.pop(),o=!0),a.leaf){var u=r(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}o||a.leaf||!f(a,s)?i?(n++,a=i.children[n],o=!1):a=null:(l.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,a=n-e+1,s=this._maxEntries;if(a<=s)return o(r=d(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(r=d([])).leaf=!1,r.height=i;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));g(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);g(t,u,h,l,this.compareMinY);for(var f=u;f<=h;f+=l){var p=Math.min(f+l-1,h);r.children.push(this._build(t,f,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=u(l),h=(f=t,p=l,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-c);h<o?(o=h,r=c<r?c:r,a=l):h===o&&c<r&&(r=c,a=l)}e=a||e.children[0]}var f,p;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),s(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var a=this._chooseSplitIndex(n,r,i),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,o,s,l,c,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),m=a(t,d,n,this.toBBox),v=(r=g,o=m,s=void 0,l=void 0,c=void 0,h=void 0,s=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),c=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,c-s)*Math.max(0,h-l)),y=u(g)+u(m);v<f?(f=v,i=d,p=y<p?y:p):v===f&&y<p&&(p=y,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,o=a(t,0,e,r),l=a(t,n-e,n,r),c=h(o)+h(l),u=e;u<n-e;u++){var f=t.children[u];s(o,t.leaf?r(f):f),c+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(l,t.leaf?r(d):d),c+=h(l)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}()},"34d538758fadc195d9b0":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m19.525 15.802q0 0.5865-0.17372 1.1144-0.17372 0.51808-0.57602 0.8993t-0.96004 0.38122q-0.69489 0-1.2618-0.55718-0.56688-0.56695-0.84118-1.3294t-0.2743-1.476q0-0.5865 0.17372-1.1046 0.17372-0.52785 0.57602-0.90908 0.4023-0.38122 0.96004-0.38122 0.70403 0 1.2618 0.56695 0.56688 0.55718 0.84118 1.3196 0.2743 0.75268 0.2743 1.476zm-3.127 4.7213q0 0.782-0.38402 1.3587-0.38402 0.57672-1.088 0.57672-0.69489 0-1.2983-0.53763-0.59431-0.5474-0.91432-1.3099-0.32001-0.76245-0.32001-1.4858 0-0.782 0.38402-1.3587 0.38402-0.5865 1.088-0.5865 0.69488 0 1.2892 0.5474 0.60345 0.53763 0.92347 1.3099 0.32001 0.76245 0.32001 1.4858zm3.602-0.264q1.0789 0 2.3315 0.95795 1.2526 0.94818 2.0938 2.3167 0.84118 1.3587 0.84118 2.4829 0 0.44965-0.15544 0.7429-0.15544 0.30302-0.44802 0.43988-0.28344 0.14662-0.58517 0.1955-0.30173 0.05865-0.69489 0.05865-0.62174 0-1.7189-0.43988-1.088-0.44-1.664-0.44-0.60345 0-1.7646 0.4301-1.152 0.43988-1.8286 0.43988-1.6732 0-1.6732-1.4272 0-0.84065 0.51202-1.867 0.51202-1.0362 1.2709-1.8866 0.76803-0.85043 1.7189-1.4272 0.951-0.577 1.765-0.577zm2.1852-2.0625q-0.55774 0-0.96004-0.38122t-0.57602-0.8993q-0.17372-0.52785-0.17372-1.1144 0-0.72335 0.2743-1.476 0.2743-0.76245 0.83204-1.3196 0.56688-0.56695 1.2709-0.56695 0.55774 0 0.96004 0.38122t0.57602 0.90908q0.17372 0.51808 0.17372 1.1046 0 0.71358-0.2743 1.476-0.2743 0.76245-0.84118 1.3294-0.56688 0.55718-1.2618 0.55718zm3.9499-1.0166q0.70403 0 1.088 0.5865 0.38402 0.57673 0.38402 1.3587 0 0.72335-0.32001 1.4858t-0.92347 1.3099q-0.59431 0.53763-1.2892 0.53763-0.70403 0-1.088-0.57672-0.38402-0.57673-0.38402-1.3587 0-0.72335 0.32001-1.4858 0.32001-0.77222 0.91432-1.3099 0.60345-0.5474 1.2983-0.5474z'/%3E %3C/g%3E %3C/svg%3E"},"37b9a59b1709fe27f5f8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='block-progression:tb;text-transform:none;text-indent:0' stroke-width='.80151' overflow='visible' d='m12.987 13.989c-0.51858 0-0.78749 0.10941-1.052 0.55104-0.2645 0.44164-1.5529 4.3925-1.5529 5.0345v2.7803c0 0.65003 0.60274 1.2524 1.2023 1.2524h0.40076c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045h7.2136c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045c0-0.07005-0.01918-0.13186-0.02505-0.20038 0.37553-0.28539 0.82656-0.80321 0.82656-1.052v-2.2292c0-0.86884-1.5457-1.1858-4.258-1.8535 0 0-2.4963-2.9345-3.156-3.732-0.42881-0.51858-0.98827-0.55104-1.4026-0.55104h-7.8148zm2.655 1.2774h1.9537v3.5317h-2.8303c-0.36549 0-0.64622-0.1066-0.52599-0.70132 0.12504-0.62037 0.51638-2.1555 0.62618-2.4296 0.12504-0.31099 0.38132-0.40076 0.77647-0.40076zm3.5567 0h1.7283c0.30858 0 0.65684 0.09879 0.85161 0.32562l2.2793 2.7051c0.25408 0.33664 0.14287 0.50095-0.17533 0.50095h-4.6838v-3.5317zm-4.8091 7.1385c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023zm12.023 0c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023z'/%3E %3C/g%3E %3C/svg%3E"},"38a5cf7bd4a34adb836d":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg3369' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='26' viewBox='0 0 26 26' width='26' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E %3Cpolygon id='arrow' stroke='%23000' points='19 22 13 19 7 22 13 4' stroke-width='1px' fill='%23008000'/%3E %3C/svg%3E"},"3d16292fc1c5dac51b2b":function(t,e,n){"use strict";function i(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}n.d(e,"a",function(){return i})},"403df48ddaa9afb322f2":function(t,e,n){var i=n("ad3d8a7a012d80fe28e9");"string"===typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(i,r);i.locals&&(t.exports=i.locals)},"4061d78159b3c8762e5a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='text-decoration-color:%23000000;block-progression:tb;isolation:auto;mix-blend-mode:normal;text-indent:0;text-decoration-line:none;white-space:normal;text-transform:none;text-decoration-style:solid' stroke-width='.60887' d='m20.609 12.298a0.60893 0.60893 0 1 0 0 1.2177h1.3795l2.0228 6.443-2.5163 3.9077h-5.871c-0.25412-0.70466-0.92507-1.2177-1.7124-1.2177-1.0016 0-1.8266 0.82501-1.8266 1.8266s0.82501 1.8266 1.8266 1.8266c0.78736 0 1.4583-0.51307 1.7124-1.2177h6.2028a0.60893 0.60893 0 0 0 0.51135 -0.27946l2.1477-3.3345 0.49232 1.5697c-0.43114 0.33547-0.71589 0.85238-0.71589 1.4354 0 1.0016 0.82501 1.8266 1.8266 1.8266s1.8266-0.82501 1.8266-1.8266c0-0.98654-0.80143-1.7976-1.7826-1.8218l-3.1157-9.9286a0.60893 0.60893 0 0 0 -0.58151 -0.42692h-1.8266zm-6.6975 11.568c0.33112 0 0.58355 0.24891 0.60173 0.57438a0.60893 0.60893 0 0 0 0 0.07017c-0.01874 0.32487-0.27102 0.57319-0.60173 0.57319-0.34348 0-0.60887-0.26539-0.60887-0.60887s0.26539-0.60887 0.60887-0.60887zm12.177 0c0.34348 0 0.60887 0.26539 0.60887 0.60886 0 0.34348-0.26539 0.60887-0.60887 0.60887s-0.60886-0.26539-0.60886-0.60887 0.26539-0.60886 0.60886-0.60886z' white-space='normal' overflow='visible' font-weight='400'/%3E %3C/g%3E %3C/svg%3E"},"49f4067ee71e74f7bfe5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.094 25.102q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265zm-12.188-0.294q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.49554-0.49554v-2.2686l-1.626-2.4312q-0.13163-0.20131-0.0542-0.43359 0.07743-0.24003 0.30971-0.31745l1.3705-0.44908v-2.3151h0.99107v-0.99107h1.9821v-0.99107h1.9821v0.99107h1.9821v0.99107h0.99107v2.3151l1.3705 0.44908q0.23228 0.07742 0.30971 0.31745 0.07743 0.23228-0.0542 0.43359l-1.626 2.4312v2.2686l0.14711-0.13937q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64264-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265zm3.1203-8.7725v0.99107l2.974-0.991 2.9732 0.99107v-0.99107h-0.99107v-0.99107h-3.9643v0.99107h-0.99107z'/%3E %3C/g%3E %3C/svg%3E"},"5bf5452f9fdfd0d8cf6c":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a});var i=n("0eb14ef7a7fd07df1a3f");function r(t){return{type:i.b,payload:t}}function o(t){return{type:i.a,payload:t}}function a(){return{type:i.c}}},"774b962f7f8ee233d0d8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.793 22.105h-2.5821q-0.32893 0-0.47695-0.28781-0.1398-0.28782 0.05757-0.55096l1.546-2.064q-0.53451-0.25492-1.1266-0.25492-1.0855 0-1.8585 0.77299-0.77299 0.77299-0.77299 1.8585t0.77299 1.8585q0.77299 0.77299 1.8585 0.77299 0.94568 0 1.6693-0.59208 0.72365-0.6003 0.91278-1.5131zm-1.5295-1.0526h1.5295q-0.14802-0.69898-0.61674-1.217l-0.91278 1.217zm3.9472 0 2.3683-3.1577h-3.9472l-0.8141 1.0855q0.86344 0.847 1.0361 2.0723h1.3568zm8.4371 2.3848q0.77299-0.77299 0.77299-1.8585t-0.77299-1.8585q-0.77299-0.77299-1.8585-0.77299-0.4934 0-0.99502 0.19736l1.4308 2.1381q0.12335 0.18914 0.08224 0.40294-0.04112 0.2138-0.22203 0.32893-0.12335 0.09046-0.29604 0.09046-0.28781 0-0.43583-0.23847l-1.4308-2.1381q-0.76476 0.78121-0.76476 1.8502 0 1.0855 0.77299 1.8585 0.77299 0.77299 1.8585 0.77299t1.8585-0.77299zm0.74009-4.457q1.0855 1.0772 1.0855 2.5986 0 1.5213-1.0855 2.6068-1.0772 1.0772-2.5986 1.0772-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068 0-0.79766 0.32071-1.5049 0.32893-0.71542 0.90456-1.2335l-0.53451-0.80588-2.9028 3.8567q-0.14802 0.2138-0.41939 0.2138h-1.62q-0.18914 1.3486-1.2253 2.2532-1.0361 0.90456-2.4176 0.90456-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068t1.0772-2.5986q1.0855-1.0855 2.6068-1.0855 0.93745 0 1.768 0.45228l1.1266-1.5049h-1.842q-0.21381 0-0.37005-0.15624t-0.15624-0.37005q0-0.2138 0.15624-0.37005 0.15624-0.15624 0.37005-0.15624h3.1577v1.0526h3.5771l-0.69898-1.0526h-1.8256q-0.21381 0-0.37005-0.15624t-0.15624-0.37005 0.15624-0.37005 0.37005-0.15624h2.1052q0.27137 0 0.43583 0.23025l2.1956 3.2893q0.74832-0.36182 1.5789-0.36182 1.5213 0 2.5986 1.0855z'/%3E %3C/g%3E %3C/svg%3E"},"82c3e6e6e3fe41af700d":function(t,e,n){"use strict";var i=60103,r=60106,o=60107,a=60108,s=60114,l=60109,c=60110,u=60112,h=60113,f=60120,p=60115,d=60116,g=60121,m=60122,v=60117,y=60129,_=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;i=b("react.element"),r=b("react.portal"),o=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),l=b("react.provider"),c=b("react.context"),u=b("react.forward_ref"),h=b("react.suspense"),f=b("react.suspense_list"),p=b("react.memo"),d=b("react.lazy"),g=b("react.block"),m=b("react.server.block"),v=b("react.fundamental"),y=b("react.debug_trace_mode"),_=b("react.legacy_hidden")}function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case o:case s:case a:case h:case f:return t;default:switch(t=t&&t.$$typeof){case c:case u:case d:case p:case l:return t;default:return e}}case r:return e}}}var w=l,E=i,M=u,O=o,S=d,C=p,T=r,I=s,P=a,R=h;e.ContextConsumer=c,e.ContextProvider=w,e.Element=E,e.ForwardRef=M,e.Fragment=O,e.Lazy=S,e.Memo=C,e.Portal=T,e.Profiler=I,e.StrictMode=P,e.Suspense=R,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return x(t)===u},e.isFragment=function(t){return x(t)===o},e.isLazy=function(t){return x(t)===d},e.isMemo=function(t){return x(t)===p},e.isPortal=function(t){return x(t)===r},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===a},e.isSuspense=function(t){return x(t)===h},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===s||t===y||t===a||t===h||t===f||t===_||"object"===typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===p||t.$$typeof===l||t.$$typeof===c||t.$$typeof===u||t.$$typeof===v||t.$$typeof===g||t[0]===m)},e.typeOf=x},"8e5ff0d18795eecbe193":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.78953' d='m20 11.146c-2.1317 5.5267-6.3162 6.785-6.3162 6.785l6.316 1.9v-8.685zm0 8.6848h-6.711v0.64149c0 0.93043 0.77808 1.7633 1.8011 2.3686-0.36215 0.12387-0.72989 0.14804-1.0116 0.14804-0.55267 0-1.4212-0.15791-1.9738-0.78953v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.39586 0-0.94322-0.09201-1.431-0.37009 1.0794-0.59227 2.1544-1.4653 2.9361-2.788h-2.6893-4.7372zm4.7372 0s0.0099-4.0167-3.3062-7.2538c0.63162 4.3424-0.64149 5.9215-0.64149 5.9215l3.9476 1.3323zm-12.632 4.7372v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953z'/%3E %3C/g%3E %3C/svg%3E"},"911f6b041ac8efd77294":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.238 13.763q0.4325 0.51114 0.11796 1.4548-0.31455 0.94364-1.0616 1.6907l-1.5826 1.5826 1.5727 6.8414q0.04915 0.18676-0.11796 0.32438l-1.2582 0.94364q-0.06881 0.05897-0.18676 0.05897-0.03931 0-0.06881-0.0099-0.14744-0.0295-0.20642-0.15727l-2.7425-4.9934-2.5459 2.5459 0.52097 1.9069q0.04915 0.1671-0.07864 0.30472l-0.94364 0.94364q-0.08847 0.08847-0.22608 0.08847h-0.01966q-0.14744-0.01966-0.23591-0.12778l-1.8578-2.477-2.4771-1.8578q-0.10813-0.06881-0.12778-0.22608-0.0099-0.12778 0.08847-0.24574l0.94364-0.95343q0.08847-0.08847 0.22608-0.08847 0.05898 0 0.07864 0.0099l1.9069 0.52097 2.5459-2.5459-4.9934-2.7425q-0.13762-0.07863-0.1671-0.23591-0.01966-0.15728 0.08847-0.2654l1.2582-1.2582q0.13762-0.12778 0.29489-0.07864l6.5367 1.5629 1.5727-1.5727q0.74705-0.74705 1.6907-1.0616 0.94364-0.31455 1.4548 0.11796z'/%3E %3C/g%3E %3C/svg%3E"},"9f8408bc240279d0b00a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Ccircle id='icon' cx='20' cy='20' r='5.8251'/%3E %3C/g%3E %3C/svg%3E"},a7e9ffa2c081a2fb5ea5:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1' stroke='%23333'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m15.029 22.296q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm0.69818-3.6423h8.5463l-0.74865-3.003q-0.01682-0.06729-0.11777-0.143-0.10094-0.08412-0.17665-0.08412h-6.4602q-0.07572 0-0.17665 0.08412-0.10095 0.07571-0.11777 0.143l-0.74865 3.003zm11.146 3.6423q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm1.7412-1.7581v3.2301q0 0.11777-0.07571 0.19347-0.07572 0.07571-0.19347 0.07571h-0.80753v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-8.6136v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-0.80753q-0.11777 0-0.19347-0.07571-0.07571-0.07572-0.07571-0.19347v-3.2301q0-0.78229 0.54676-1.3291 0.55518-0.55518 1.3375-0.55518h0.23553l0.88324-3.5245q0.19347-0.7907 0.87482-1.3206 0.68135-0.53835 1.5057-0.53835h6.4602q0.82435 0 1.5057 0.53835 0.68135 0.52994 0.87482 1.3206l0.88323 3.5245h0.23553q0.78229 0 1.3291 0.55518 0.55518 0.54676 0.55518 1.3291z' stroke-width='.1'/%3E %3C/g%3E %3C/svg%3E"},ab0f7027a5d5d72ab9da:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m20 11.299c-2.5762 0-3.8283 0.45542-3.8283 1.3921 0 0.19168 0.15634 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.17129 0.34666-0.45134 1.4247-0.59817l0.294 1.719c-2.8141 0.3154-4.5026 1.5512-4.5026 2.7081v8.1024c0 1.0726 0.7545 1.978 1.7836 2.2513l-1.4574 1.2181c-0.14546 0.12235-0.16586 0.33307-0.0435 0.47853 0.06797 0.08157 0.16314 0.13051 0.26102 0.13051 0.07749 0 0.16314-0.03264 0.22839-0.087l1.9794-1.6531h6.3297l1.9794 1.6531c0.06525 0.05438 0.1509 0.087 0.22839 0.087 0.09788 0 0.19304-0.04894 0.26102-0.13051 0.12235-0.14546 0.10196-0.35618-0.0435-0.47853l-1.4574-1.2181c1.0291-0.27325 1.7836-1.1787 1.7836-2.2513v-8.1024c0-1.1569-1.6885-2.3927-4.5026-2.7081l0.29364-1.7184c1.0781 0.14682 1.4247 0.42687 1.4247 0.59817 0 0.19168 0.15498 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.93667-1.2521-1.3921-3.8283-1.3921zm0 0.69605c0.37793 0 0.70285 0.01359 1.0006 0.03264l-0.29365 1.7292c-0.23111-0.01223-0.46358-0.02175-0.70692-0.02175-0.24335 0-0.47581 0.0095-0.70692 0.02175l-0.294-1.729c0.29772-0.01903 0.62264-0.03264 1.0006-0.03264zm-2.0881 3.8283h4.1763c0.19304 0 0.34802 0.15634 0.34802 0.34802v0.69605h-4.8723v-0.69605c0-0.19168 0.15634-0.34802 0.34803-0.34802zm-1.3921 1.7401h6.9605c0.38473 0 0.69605 0.28957 0.69605 0.64167v2.5449c0 0.3521-0.31132 0.64167-0.69605 0.64167h-6.9605c-0.38473 0-0.69605-0.28957-0.69605-0.64167v-2.5449c0-0.3521 0.31132-0.64167 0.69605-0.64167zm0.34802 5.5684c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441zm6.2644 0c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441z'/%3E %3C/g%3E %3C/svg%3E"},ad3d8a7a012d80fe28e9:function(t,e,n){(t.exports=n("0e326f80368fd0b1333e")(!1)).push([t.i,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},bc52778aa4babd5538cf:function(t,e,n){"use strict";function i(t){var e,n,r="";if("string"===typeof t||"number"===typeof t)r+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=i(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}e.a=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=i(t))&&(r&&(r+=" "),r+=e);return r}},ca58d6a6a484c1aaa883:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m18.127 11.484c-0.59864 0-1.0869 0.44565-1.1707 1.0217h-0.362c-1.3143 0-2.3839 1.027-2.3839 2.2881v9.7272c0 0.878 0.51749 1.6389 1.2771 2.0221l-1.6389 1.3622c-0.14633 0.12106-0.16895 0.3379-0.04789 0.48423s0.3379 0.16895 0.48423 0.04789l1.9688-1.6496c0.11175 0.01596 0.22482 0.02128 0.34056 0.02128h6.8111c0.11574 0 0.22881-0.0054 0.34056-0.02128l1.9688 1.6496c0.14633 0.12106 0.36317 0.09844 0.48423-0.04789s0.09844-0.36317-0.04789-0.48423l-1.6389-1.3622c0.7596-0.38313 1.2771-1.1441 1.2771-2.0221v-9.727c0-1.2611-1.0696-2.2881-2.3839-2.2881h-0.36183c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217-0.59864 0-1.0869 0.44565-1.1707 1.0217h-1.4048c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217zm0 0.68111c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm3.7461 0c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm-3.9164 2.7245h4.0867c0.1889 0 0.34056 0.15298 0.34056 0.34056v0.68111h-4.7678v-0.68111c0-0.18757 0.15298-0.34056 0.34056-0.34056zm-1.3622 1.7028h6.8111c0.37648 0 0.68111 0.28336 0.68111 0.6279v2.4903c0 0.34455-0.30464 0.6279-0.68111 0.6279h-6.8111c-0.37648 0-0.68111-0.28335-0.68111-0.6279v-2.4903c0-0.34455 0.30464-0.6279 0.68111-0.6279zm0.34056 6.13c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217zm6.13 0c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217z'/%3E %3C/g%3E %3C/svg%3E"},cc9cb34247c192a15852:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.144 23.756q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm9.3571 0q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm-0.0731-4.4501-0.65793-3.5089q-0.04569-0.21017-0.21017-0.3381-0.15534-0.13707-0.36551-0.13707h-8.3885q-0.21017 0-0.37465 0.13707-0.15534 0.12793-0.20103 0.3381l-0.65792 3.5089q-0.046 0.274 0.128 0.484t0.448 0.21h9.7044q0.27414 0 0.44775-0.21017 0.17362-0.21017 0.12794-0.48431zm-2.193-5.282q0.12794-0.12794 0.12794-0.31069 0-0.18276-0.12794-0.31069-0.12793-0.12794-0.31069-0.12794h-5.8482q-0.18276 0-0.31069 0.12794-0.12793 0.12793-0.12793 0.31069t0.12793 0.31069q0.12794 0.12794 0.31069 0.12794h5.8482q0.18276 0 0.31069-0.12794zm3.7831 6.3142v5.5101h-1.1696v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-7.0179v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-1.1696v-5.5101q0-1.0234 0.22844-2.0377l0.9412-4.1486q0.08224-0.71275 0.88637-1.2519 0.81327-0.53913 2.1017-0.81327 1.2976-0.27414 2.8601-0.27414 1.5626 0 2.851 0.27414 1.2976 0.27413 2.1017 0.81327 0.81327 0.53913 0.89551 1.2519l0.95948 4.1486q0.21017 0.93206 0.21017 2.0377z'/%3E %3C/g%3E %3C/svg%3E"},d00ca599655a685685b3:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88152' d='m17.19 14.711a0.8816 0.8816 0 0 0 -0.68868 0.66114l-0.71623 2.8649h-3.2781c-0.96967 0-1.763 0.79336-1.763 1.763v2.1211c0 0.35261 0.17079 0.62257 0.5234 0.79887l1.2672 0.4683c0.14704 1.0824 1.0477 1.9008 2.1762 1.9008 1.0799 0 1.9462-0.75066 2.1487-1.763h7.1623c0.20247 1.0124 1.0688 1.763 2.1487 1.763 1.157 0 2.0652-0.85999 2.1762-1.9834l0.4683-0.30302c0.26446-0.1763 0.44076-0.52891 0.44076-0.88152v-1.5151c0-0.35261-0.25344-0.68318-0.60604-0.77133l-3.9668-1.3498-2.1762-2.7272-0.0551-0.08264-0.02755 0.02755c-0.44623-0.66103-1.2059-0.99171-1.9008-0.99171h-3.1679a0.8816 0.8816 0 0 0 -0.08265 0 0.8816 0.8816 0 0 0 -0.08264 0zm0.85397 1.763h2.4793c0.33302 0 0.40036 0.03368 0.49585 0.19283a0.8816 0.8816 0 0 0 0.0551 0.08264l1.1845 1.4876h-4.6555l0.44076-1.763zm-3.3332 5.8125c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887zm11.46 0c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887z'/%3E %3C/g%3E %3C/svg%3E"},d2538cc52c3c9ed4b50a:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4126' width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E %3Ccircle id='circle' cx='20' cy='19' r='12' stroke='%23333333' stroke-width='2'/%3E %3C/svg%3E"},dd1a86c57d873df39098:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("238fef99c154a7dfd239"),r=n("8af190b70a6bc55c6f1b"),o=function(t){function e(e){var n;return(n=t.call(this,e)||this)._state=null,n._del=!1,n._handleChange=function(t){var e=n.state.value,i=t.target.value,r=t.target,o=i.length>e.length,a=n._del,s=e===n.props.format(i);n.setState({value:i,local:!0},function(){var t=r.selectionStart,l=n.props.refuse||/[^\d]+/g,c=i.substr(0,t).replace(l,"");if(n._state={input:r,before:c,op:o,di:a&&s,del:a},n.props.replace&&n.props.replace(e)&&o&&!s){for(var u=-1,h=0;h!==c.length;++h)u=Math.max(u,i.toLowerCase().indexOf(c[h].toLowerCase(),u+1));var f=i.substr(u+1).replace(l,"")[0];u=i.indexOf(f,u+1),i=""+i.substr(0,u)+i.substr(u+1)}var p=n.props.format(i);e===p?n.setState({value:i}):n.props.onChange(p)})},n._hKD=function(t){"Delete"===t.code&&(n._del=!0)},n._hKU=function(t){"Delete"===t.code&&(n._del=!1)},n.state={value:e.value,local:!0},n}Object(i.a)(e,t),e.getDerivedStateFromProps=function(t,e){return{value:e.local?e.value:t.value,local:!1}};var n=e.prototype;return n.render=function(){var t=this._handleChange,e=this.state.value;return(0,this.props.children)({value:e,onChange:t})},n.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},n.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},n.componentDidUpdate=function(){var t=this._state;if(t){for(var e=this.state.value,n=-1,i=0;i!==t.before.length;++i)n=Math.max(n,e.toLowerCase().indexOf(t.before[i].toLowerCase(),n+1));if(this.props.replace&&(t.op||t.del&&!t.di))for(;e[n+1]&&(this.props.refuse||/[^\d]+/).test(e[n+1]);)n+=1;t.input.selectionStart=t.input.selectionEnd=n+1+(t.di?1:0)}this._state=null},e}(r.Component)},dd8173cc67fa36d7ff4a:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='0.87' d='m12.17 13.91c-0.48024 0-0.87 0.38976-0.87 0.87v3.48 4.35c0 0.96135 0.77865 1.74 1.74 1.74h0.05438c0.20276 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h5.3287c0.20277 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h0.05438c0.96135 0 1.74-0.77865 1.74-1.74v-3.2081-0.27188s-1.1719-3.5328-3.2625-5.0841c-0.13137-0.09831-0.29863-0.13594-0.46219-0.13594h-12.805zm10.44 1.74h2.0119c0.74211 0.65859 1.3787 1.7078 1.8216 2.61h-3.8334v-2.61zm-7.395 7.395c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87zm9.57 0c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87z'/%3E %3C/g%3E %3C/svg%3E"},dfd42df999446333fe96:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m17.031 24.899q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm-3.1507-5.4819h3.4968v-2.3312h-1.4388q-0.11838 0-0.20034 0.08196l-1.7757 1.7757q-0.08196 0.08196-0.08196 0.20033v0.27318zm11.31 5.4819q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm2.6772-10.727v9.3247q0 0.13659-0.03642 0.24587-0.03642 0.10017-0.12749 0.16391-0.08196 0.06375-0.1457 0.10927-0.06374 0.03642-0.21855 0.05463-0.1457 0.0091-0.20034 0.01821-0.05463 0-0.23676 0-0.17302-0.0091-0.20034-0.0091 0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68292-0.68296-1.6482h-3.4968q0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68296-0.68296-1.6482h-0.58279q-0.02732 0-0.20944 0.0091-0.17302 0-0.22765 0-0.05463-0.0091-0.20944-0.01821-0.1457-0.01821-0.20944-0.05463-0.06375-0.04553-0.1548-0.10927-0.08196-0.06375-0.11838-0.16391-0.03642-0.10927-0.03642-0.24586 0-0.23676 0.17302-0.40978t0.40978-0.17302v-2.914q0-0.07285-0.0091-0.31871 0-0.24587 0-0.34603 0.0091-0.10017 0.02732-0.30961 0.01821-0.21855 0.05463-0.33693 0.04554-0.12749 0.12749-0.28229 0.09106-0.1548 0.20944-0.27318l1.803-1.803q0.17302-0.17302 0.45531-0.2914 0.2914-0.11838 0.53726-0.11838h1.457v-1.7484q0-0.23676 0.17302-0.40978t0.40978-0.17302h9.3247q0.23676 0 0.40978 0.17302t0.17302 0.40978z'/%3E %3C/g%3E %3C/svg%3E"},e0e8ac40fdfb7ae1c907:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.287 24.941q0 1.0708-0.6189 1.837-0.60907 0.76625-1.4736 0.76625h-8.3895q-0.86449 0-1.4834-0.76625-0.60907-0.76625-0.60907-1.837 0-0.83502 0.07859-1.5718 0.08841-0.7466 0.31436-1.4932 0.22595-0.75643 0.56978-1.2869 0.35366-0.54031 0.92343-0.87432 0.5796-0.34383 1.3262-0.34383 1.2869 1.2574 3.0748 1.2574t3.0748-1.2574q0.7466 0 1.3164 0.34383 0.5796 0.33401 0.92343 0.87432 0.35366 0.53048 0.5796 1.2869 0.22595 0.7466 0.30454 1.4932 0.08842 0.73678 0.08842 1.5718zm-3.625-11.376q1.1101 1.1003 1.1101 2.6622 0 1.562-1.1101 2.6721-1.1 1.101-2.662 1.101t-2.6721-1.1003q-1.1003-1.1101-1.1003-2.6721t1.1003-2.6622q1.11-1.11 2.672-1.11t2.6622 1.1101z'/%3E %3C/g%3E %3C/svg%3E"},e35698e68d1df72089c6:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.75357' d='m24.334 12.464-4.2153 3.0143c0.10399 0.11605 0.20347 0.23888 0.28259 0.37679l0.51808 0.91842 2.0252-1.4601-1.5778 2.2372 0.49453 0.87132c0.14017 0.18613 0.25282 0.39374 0.32969 0.61228l4.5921-6.5702h-2.4491zm2.4491 1.3188-1.5071 2.143v4.074c0 0.41597 0.3376 0.75357 0.75358 0.75357 0.41522 0 0.75357 0.33836 0.75357 0.75358s-0.33836 0.75357-0.75357 0.75357c-0.41522 0-0.75358-0.33835-0.75358-0.75357h-1.5071c0 1.3858 1.2521 2.4766 2.6846 2.2136 0.88771-0.16277 1.6164-0.87999 1.7897-1.7662 0.22909-1.1718-0.45328-2.2074-1.4601-2.5669v-5.6047zm-12.057 1.6955c-0.8327 0-1.5071 0.67445-1.5071 1.5071v3.7679c0 0.41597 0.3376 0.75358 0.75358 0.75358h0.75357v0.75357h5.275v-0.75357h0.75358c0.41597 0 0.75358-0.3376 0.75358-0.75358v-1.5071l-1.8368-3.0143c-0.269-0.468-0.756-0.753-1.296-0.753h-3.6501zm1.5071 1.5071h2.143l1.2952 2.2607h-3.4382v-2.2607zm-2.2607 6.0286c-1.2487 0-2.2607 1.0121-2.2607 2.2607 0 1.2487 1.012 2.2607 2.2607 2.2607h6.7822c1.2487 0 2.2607-1.0121 2.2607-2.2607 0-1.2487-1.0121-2.2607-2.2607-2.2607h-6.7822zm0 1.5071c0.41597 0 0.75357 0.3376 0.75357 0.75357s-0.3376 0.75358-0.75357 0.75358-0.75358-0.3376-0.75358-0.75358c0-0.41597 0.3376-0.75357 0.75358-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75358-0.3376-0.75358-0.75358 0-0.41597 0.3376-0.75357 0.75358-0.75357z'/%3E %3C/g%3E %3C/svg%3E"},f1d2accb1cb5589a1510:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.909 11.561c-0.10947 0.01846-0.20311 0.091-0.24927 0.19256-0.04615 0.10024-0.03956 0.21894 0.01715 0.31389l0.70692 1.1817h-1.7726c-1.3031 0-2.3634 1.0604-2.3634 2.3634v10.467c0 0.29807 0.13189 0.56316 0.33763 0.74912v0.60141c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.33763h6.0774v0.33763c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.601c0.204-0.186 0.336-0.451 0.336-0.749v-10.467c0-1.3031-1.0604-2.3634-2.3634-2.3634h-1.7726l0.70692-1.1817c0.06594-0.1121 0.062-0.25191-0.0092-0.35874-0.07254-0.10815-0.20047-0.16618-0.3284-0.14771-0.09892 0.01846-0.18332 0.08045-0.23212 0.16882l-0.90739 1.5193h-3.693l-0.908-1.518c-0.06726-0.12002-0.20179-0.18596-0.33763-0.16882zm-0.96014 3.3763h8.1032c0.57371 0 1.0129 0.43919 1.0129 1.0129v4.7269c0 0.57371-0.43919 1.0129-1.0129 1.0129h-8.1032c-0.57371 0-1.0129-0.43919-1.0129-1.0129v-4.7269c0-0.57371 0.43919-1.0129 1.0129-1.0129zm-3.0387 2.0258c-0.39171 0-0.67527 0.28356-0.67527 0.67526v2.0258c0 0.39171 0.28356 0.67527 0.67527 0.67527zm14.181 0v3.3763c0.39171 0 0.67527-0.28356 0.67527-0.67527v-2.0258c0-0.39171-0.28356-0.67526-0.67527-0.67526zm-11.142 6.415c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129zm8.1032 0c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129z'/%3E %3C/g%3E %3C/svg%3E"},fb27460172bd4593ba8b:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m29.386 21.143q0.09803 0.8414-0.17972 1.6256-0.27774 0.77605-0.80873 1.3315-0.53098 0.55549-1.2989 0.86591-0.75971 0.31042-1.6011 0.25324-1.3152-0.08986-2.2873-1.0211-0.96394-0.93126-1.0946-2.2383-0.09803-0.90675 0.22056-1.7155 0.32676-0.8169 0.9721-1.3969l-0.58-0.87408q-0.78422 0.65352-1.2335 1.5848-0.44929 0.93126-0.44929 1.9932 0 0.22056-0.15521 0.38394-0.14704 0.15521-0.3676 0.15521h-2.0913-0.56366q-0.18789 1.3397-1.2172 2.2383-1.0293 0.89858-2.4017 0.89858-1.5113 0-2.5896-1.0701-1.0701-1.0783-1.0701-2.5896t1.0701-2.5814q1.0783-1.0783 2.5896-1.0783 0.62084 0 1.2417 0.22056l0.19606-0.3676q-1.0048-0.89858-2.4834-0.89858h-0.52281q-0.21239 0-0.3676-0.15521t-0.15521-0.3676 0.15521-0.3676 0.3676-0.15521h1.0456q0.63718 0 1.1845 0.11437 0.54732 0.1062 0.9476 0.31042 0.40845 0.20422 0.58816 0.32676 0.17972 0.11437 0.41662 0.29408h4.1825 0.93943l-0.69436-1.0456h-1.8135q-0.24507 0-0.40028-0.17972-0.15521-0.18789-0.11437-0.43296 0.03267-0.18789 0.18788-0.31042t0.35126-0.12253h2.0667q0.26958 0 0.43296 0.22873l0.57183 0.85774 0.93126-0.93126q0.15521-0.15521 0.37577-0.15521h0.82506q0.21239 0 0.3676 0.15521t0.15521 0.3676v1.0456q0 0.21239-0.15521 0.3676t-0.3676 0.15521h-1.4622l0.93943 1.4051q1.0701-0.51465 2.2465-0.29408 1.1682 0.21239 1.9932 1.1028 0.82506 0.88225 0.96394 2.0667zm-15.137 3.039q0.93943 0 1.6583-0.58816 0.71887-0.59634 0.90675-1.5031h-2.5651q-0.28591 0-0.44929-0.25324-0.14704-0.26141-0.0082-0.51464l1.2008-2.2628q-0.38394-0.1062-0.74338-0.1062-1.0783 0-1.8462 0.76788-0.76788 0.76788-0.76788 1.8462t0.76788 1.8462q0.76788 0.76788 1.8462 0.76788zm9.6557-0.76788q0.76788 0.76788 1.8462 0.76788t1.8462-0.76788q0.76788-0.76788 0.76788-1.8462t-0.76788-1.8462q-0.76788-0.76788-1.8462-0.76788-0.49014 0-0.98844 0.19606l1.4214 2.1239q0.12254 0.18789 0.0817 0.40028-0.04085 0.21239-0.22056 0.32676-0.12253 0.08986-0.29408 0.08986-0.28591 0-0.43296-0.2369l-1.4214-2.1239q-0.75971 0.77605-0.75971 1.838 0 1.0783 0.76788 1.8462z'/%3E %3C/g%3E %3C/svg%3E"},fc6e320ad802f37372f2:function(t,e,n){"use strict";function i(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function r(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=i(t.className,e):t.setAttribute("class",i(t.className&&t.className.baseVal||"",e))}n.d(e,"a",function(){return r})}}]);