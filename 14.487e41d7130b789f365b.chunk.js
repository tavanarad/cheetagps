(window.webpackJsonp=window.webpackJsonp||[]).push([[14,6],{"04ff8c05da014e6eacb1":function(t,e,n){t.exports=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var o=document.createEvent("Event");o.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var r,a=2;a<t.length;a++)r=t[a],o[r]=i[r]||e[a];o.buttons=i.buttons||0;var s=0;return s=void 0!==i.pressure&&o.buttons?i.pressure:o.buttons?.5:0,o.x=o.clientX,o.y=o.clientY,o.pointerId=i.pointerId||0,o.width=i.width||1,o.height=i.height||1,o.pressure=s,o.tiltX=i.tiltX||0,o.tiltY=i.tiltY||0,o.twist=i.twist||0,o.tangentialPressure=i.tangentialPressure||0,o.pointerType=i.pointerType||"",o.hwTimestamp=i.hwTimestamp||0,o.isPrimary=i.isPrimary||!1,o.detail=0,o}var i=window.Map&&window.Map.prototype.forEach?Map:o;function o(){this.array=[],this.size=0}o.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}};var r=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!==typeof SVGElementInstance,c={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,i=n.events;i&&(i.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=new n(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),i=0;i<r.length;i++)n[e=r[i]]=t[e]||a[i],!l||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var i=t.target,o=[];null!=i&&i!==document&&!i.contains(t.relatedTarget);)if(o.push(i),!(i=i.parentNode))return;n&&o.reverse(),o.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,i){this.captureInfo[t]&&this.releaseCapture(t,i),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var o=new n("gotpointercapture",{bubbles:!0});o.pointerId=t,o._target=e,i||this.asyncDispatchEvent(o)},releaseCapture:function(t,e){var i=this.captureInfo[t];if(i){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var o=new n("lostpointercapture",{bubbles:!0});o.pointerId=t,o._target=i,e||this.asyncDispatchEvent(o)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};c.boundHandler=c.eventHandler.bind(c);var u={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var i,o,r=t.elementFromPoint(e,n);for(o=this.targetingShadow(r);o;){if(i=o.elementFromPoint(e,n)){var a=this.targetingShadow(i);return this.searchRoot(a,e,n)||i}o=this.olderShadow(o)}return r}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,i=this.owner(t.target);return i.elementFromPoint(e,n)||(i=document),this.searchRoot(i,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),f=Array.prototype.slice.call.bind(Array.prototype.slice),d=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function m(t,e,n,i){this.addCallback=t.bind(i),this.removeCallback=e.bind(i),this.changedCallback=n.bind(i),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function y(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}m.prototype={watchSubtree:function(t){this.observer&&u.canTarget(t)&&this.observer.observe(t,v)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(f(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=p(t,this.findElements,this);return e.push(d(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var _=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],b="",x=window.PointerEvent||window.MSPointerEvent,w=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,E=c.pointermap,O=[1,4,2,8,16],S=!1;try{S=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var T,C={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,o=t.clientY,r=0,a=n.length;r<a&&(e=n[r]);r++){var s=Math.abs(i-e.x),l=Math.abs(o-e.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(t){var e=c.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=E.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=E.get(this.POINTER_ID),n=this.prepareEvent(t);S||(n.buttons=O[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),E.set(this.POINTER_ID,t),e&&0!==e.buttons?c.move(n):c.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);S||this.prepareButtonsForMove(e,t),e.button=-1,E.set(this.POINTER_ID,t),c.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=E.get(this.POINTER_ID),n=this.prepareEvent(t);if(!S){var i=O[n.button];n.buttons=e?e.buttons&~i:0,t.buttons=n.buttons}E.set(this.POINTER_ID,t),n.buttons&=~O[n.button],0===n.buttons?c.up(n):c.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);S||this.prepareButtonsForMove(e,t),e.button=-1,E.set(this.POINTER_ID,t),c.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);S||this.prepareButtonsForMove(e,t),e.button=-1,c.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},I=c.captureInfo,P=u.findTarget.bind(u),R=u.allShadows.bind(u),M=c.pointermap,L={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){T.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"===typeof n&&(t._scrollType=n,c.listen(t,this.events),R(t).forEach(function(t){t._scrollType=n,c.listen(t,this.events)},this))},elementRemoved:function(t){if(M.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,c.unlisten(t,e)})}else t._scrollType=void 0,c.unlisten(t,this.events);R(t).forEach(function(t){t._scrollType=void 0,c.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),i=this.touchActionToScrollType(n),o=this.touchActionToScrollType(e);"number"===typeof i&&"number"===typeof o?(t._scrollType=i,R(t).forEach(function(t){t._scrollType=i},this)):"number"===typeof o?this.elementRemoved(t):"number"===typeof i&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===M.size||1===M.size&&M.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=c.cloneEvent(t),i=n.pointerId=t.identifier+2;if(n.target=I[i]||P(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var o=Math.tan(t.altitudeAngle),r=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/o)*r,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/o)*r}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var i,o=0;o<n.length;o++)i=n[o],e.call(this,this.touchToPointer(i))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var i=t.changedTouches[0],o=i.clientY-this.firstXY.Y,r=Math.abs(o),a=i.clientX-this.firstXY.X,s=Math.abs(a),l=1&n,c=2&n,u=4&n,h=8&n;u&&h?e=s>r:u?e=s>r&&a>0:h&&(e=s>r&&a<0),e||(l&&c?e=s<r:l?e=s<r&&o>0:c&&(e=s<r&&o<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,i=0,o=t.length;i<o&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(M.size>=e.length){var n=[];M.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var o=t.out;n.push(o)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){M.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),c.enterOver(t),c.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=M.get(e.pointerId);if(n){var i=n.out,o=n.outTarget;c.move(e),i&&o!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=o,i.target=o,e.target?(c.leaveOut(i),c.enterOver(e)):(e.target=o,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(c.up(t),c.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){c.cancel(t),c.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){M.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=C.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var o=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(o,2500)}}};T=new m(L.elementAdded,L.elementRemoved,L.elementChanged,L);var F,D,k,A=c.pointermap,j=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,N={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return j&&((e=c.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){A.delete(t)},MSPointerDown:function(t){A.set(t.pointerId,t);var e=this.prepareEvent(t);c.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);c.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);c.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);c.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);c.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=c.makeEvent("lostpointercapture",t);c.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=c.makeEvent("gotpointercapture",t);c.dispatchEvent(e)}};function z(t){if(!c.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function G(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function Y(t){var e=c.pointermap.get(t);return 0!==e.buttons}return window.navigator.msPointerEnabled?(F=function(t){z(t),G(this),Y(t)&&(c.setCapture(t,this,!0),this.msSetPointerCapture(t))},D=function(t){z(t),c.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(F=function(t){z(t),G(this),Y(t)&&c.setCapture(t,this)},D=function(t){z(t),c.releaseCapture(t)}),k=function(t){return!!c.captureInfo[t]},function(){if(x){_.forEach(function(t){b+=t.selector+y(t.value)+"\n",w&&(b+="body /shadow-deep/ "+t.selector+y(t.value)+"\n")});var t=document.createElement("style");t.textContent=b,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),c.registerSource("ms",N)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),c.registerSource("mouse",C),void 0!==window.ontouchstart&&c.registerSource("touch",L);c.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:F},releasePointerCapture:{value:D},hasPointerCapture:{value:k}}),{dispatcher:c,Installer:m,PointerEvent:n,PointerMap:i,targetFinding:u}}()},"05951c2f2bda4691bed3":function(t,e,n){"use strict";(function(t){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,i=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var o=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function r(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:l(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?u:10===t?h:u||h}function f(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?f(n):n:t?t.ownerDocument.documentElement:document.documentElement}function d(t){return null!==t.parentNode?d(t.parentNode):t}function g(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var a,s,l=r.commonAncestorContainer;if(t!==l&&e!==l||i.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&f(a.firstElementChild)!==a?f(l):l;var c=d(t);return c.host?g(c.host,e):g(t,d(e).host)}function v(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function m(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,i=p(10)&&getComputedStyle(n);return{height:y("Height",e,n,i),width:y("Width",e,n,i)}}var b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function O(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function S(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?_(t.ownerDocument):{},s=r.width||t.clientWidth||o.width,l=r.height||t.clientHeight||o.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var h=a(t);c-=m(h,"x"),u-=m(h,"y"),o.width-=c,o.height-=u}return O(o)}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),o="HTML"===e.nodeName,r=S(t),s=S(e),c=l(t),u=a(e),h=parseFloat(u.borderTopWidth),f=parseFloat(u.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=O({top:r.top-s.top-h,left:r.left-s.left-f,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!i&&o){var g=parseFloat(u.marginTop),m=parseFloat(u.marginLeft);d.top-=h-g,d.bottom-=h-g,d.left-=f-m,d.right-=f-m,d.marginTop=g,d.marginLeft=m}return(i&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),o=v(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}(d,e)),d}function C(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function I(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},u=o?C(t):g(t,c(e));if("viewport"===i)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=T(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:v(n),s=e?0:v(n,"left");return O({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r})}(u,o);else{var h=void 0;"scrollParent"===i?"BODY"===(h=l(s(e))).nodeName&&(h=t.ownerDocument.documentElement):h="window"===i?t.ownerDocument.documentElement:i;var p=T(h,u,o);if("HTML"!==h.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(e,"position"))return!0;var i=s(e);return!!i&&t(i)}(u))r=p;else{var f=_(t.ownerDocument),d=f.height,m=f.width;r.top+=p.top-p.marginTop,r.bottom=d+p.top,r.left+=p.left-p.marginLeft,r.right=m+p.left}}var y="number"===typeof(n=n||0);return r.left+=y?n:n.left||0,r.top+=y?n:n.top||0,r.right-=y?n:n.right||0,r.bottom-=y?n:n.bottom||0,r}function P(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=I(n,i,r,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return E({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function R(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(n,i?C(e):g(e,c(n)),i)}function M(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function F(t,e,n){n=n.split("-")[0];var i=M(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[a]=e[a]+e[l]/2-i[l]/2,o[s]=n===s?e[s]-i[c]:e[L(s)],o}function D(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function k(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=D(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&r(n)&&(e.offsets.popper=O(e.offsets.popper),e.offsets.reference=O(e.offsets.reference),e=n(e,t))}),e}function A(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if("undefined"!==typeof document.body.style[r])return r}return null}function N(t){var e=t.ownerDocument;return e?e.defaultView:window}function z(t,e,n,i){n.updateBound=i,N(t).addEventListener("resize",n.updateBound,{passive:!0});var o=l(t);return function t(e,n,i,o){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),r||t(l(a.parentNode),n,i,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,N(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Y(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function W(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(e[n])&&(i="px"),t.style[n]=e[n]+i})}var X=n&&/Firefox/i.test(navigator.userAgent);function B(t,e,n){var i=D(t,function(t){return t.name===e}),o=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!o){var r="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],H=U.slice(3);function q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H.indexOf(t),i=H.slice(n+1).concat(H.slice(0,n));return e?i.reverse():i}var K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function V(t,e,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(D(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,i){var o=(1===i?!r:r)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return O(s)[e]/100*r}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(t,o,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){Y(n)&&(o[e]+=n*("-"===t[i-1]?-1:1))})}),o}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:w({},l,r[l]),end:w({},l,r[l]+r[c]-a[c])};t.offsets.popper=E({},a,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,o=t.offsets,r=o.popper,a=o.reference,s=i.split("-")[0],l=void 0;return l=Y(+n)?[+n,0]:V(n,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||f(t.instance.popper);t.instance.reference===n&&(n=f(n));var i=j("transform"),o=t.instance.popper.style,r=o.top,a=o.left,s=o[i];o.top="",o.left="",o[i]="";var l=I(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=a,o[i]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),w({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),w({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=E({},u,h[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(i[l])&&(t.offsets.popper[l]=r(i[l])-n[c]),n[l]>r(i[s])&&(t.offsets.popper[l]=r(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!B(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"===typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,s=r.popper,l=r.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",h=c?"Top":"Left",p=h.toLowerCase(),f=c?"left":"top",d=c?"bottom":"right",g=M(i)[u];l[d]-g<s[p]&&(t.offsets.popper[p]-=s[p]-(l[d]-g)),l[p]+g>s[d]&&(t.offsets.popper[p]+=l[p]+g-s[d]),t.offsets.popper=O(t.offsets.popper);var v=l[p]+l[u]/2-g/2,m=a(t.instance.popper),y=parseFloat(m["margin"+h]),_=parseFloat(m["border"+h+"Width"]),b=v-t.offsets.popper[p]-y-_;return b=Math.max(Math.min(s[u]-g,b),0),t.arrowElement=i,t.offsets.arrow=(w(n={},p,Math.round(b)),w(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(A(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=I(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],o=L(i),r=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case K.FLIP:a=[i,o];break;case K.CLOCKWISE:a=q(i);break;case K.COUNTERCLOCKWISE:a=q(i,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],o=L(i);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,p="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),d=h(c.right)>h(n.right),g=h(c.top)<h(n.top),v=h(c.bottom)>h(n.bottom),m="left"===i&&f||"right"===i&&d||"top"===i&&g||"bottom"===i&&v,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===r&&f||y&&"end"===r&&d||!y&&"start"===r&&g||!y&&"end"===r&&v),b=!!e.flipVariationsByContent&&(y&&"start"===r&&d||y&&"end"===r&&f||!y&&"start"===r&&v||!y&&"end"===r&&g),x=_||b;(p||m||x)&&(t.flipped=!0,(p||m)&&(i=a[l+1]),x&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=i+(r?"-"+r:""),t.offsets.popper=E({},t.offsets.popper,F(t.instance.popper,t.offsets.reference,t.placement)),t=k(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),t.placement=L(e),t.offsets.popper=O(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!B(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=D(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=D(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:e.gpuAcceleration,s=f(t.instance.popper),l=S(s),c={position:o.position},u=function(t,e){var n=t.offsets,i=n.popper,o=n.reference,r=Math.round,a=Math.floor,s=function(t){return t},l=r(o.width),c=r(i.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),p=e?u||h||l%2===c%2?r:a:s,f=e?r:s;return{left:p(l%2===1&&c%2===1&&!h&&e?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:p(i.right)}}(t,window.devicePixelRatio<2||!X),h="bottom"===n?"top":"bottom",p="right"===i?"left":"right",d=j("transform"),g=void 0,v=void 0;if(v="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&d)c[d]="translate3d("+g+"px, "+v+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var m="bottom"===h?-1:1,y="right"===p?-1:1;c[h]=v*m,c[p]=g*y,c.willChange=h+", "+p}var _={"x-placement":t.placement};return t.attributes=E({},_,t.attributes),t.styles=E({},c,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return W(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&W(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=R(o,e,t,n.positionFixed),a=P(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),W(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function t(e,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=E({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,a.modifiers)).forEach(function(e){i.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return E({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&r(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return x(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=P(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=F(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=k(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,A(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();J.Utils=("undefined"!==typeof window?window:t).PopperUtils,J.placements=U,J.Defaults=Z,e.a=J}).call(this,n("698d75b157f24ae829cc"))},"064ca696732477a7857b":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.84153' d='m13.105 12.427a0.84162 0.84162 0 0 0 -0.68375 0.84153v5.0492a0.84162 0.84162 0 0 0 0 0.07889v1.8672c0.84153-0.67323 1.8514-1.1045 2.9454-1.1045 2.5246 0 4.6284 2.1038 4.6284 4.6284v0.42077h3.7869c-0.25895 0.34961-0.42077 0.78515-0.42077 1.2623 0 1.1781 0.92569 2.1038 2.1038 2.1038s2.1038-0.92569 2.1038-2.1038c0-0.55373-0.21318-1.0478-0.55226-1.4201 0.49718-0.2262 0.85521-0.67323 0.97302-1.2623l0.42077-2.7087c0.08415-0.42077-0.33661-0.92043-0.84153-0.92043l-7.1267-0.78894-1.3149-5.3122a0.84162 0.84162 0 0 0 -0.81524 -0.63115h-5.0492a0.84162 0.84162 0 0 0 -0.07889 0 0.84162 0.84162 0 0 0 -0.07889 0zm0.99932 1.6831h3.5502l1.0256 4.0499-4.5758-0.49966v-3.5502zm10.098 0v3.6291l1.6831 0.23668v-3.8658h-1.6831zm-8.8361 5.8907c-2.1038 0-3.7869 1.6831-3.7869 3.7869s1.6831 3.7869 3.7869 3.7869 3.7869-1.6831 3.7869-3.7869-1.6831-3.7869-3.7869-3.7869zm0 1.2623c1.4306 0 2.5246 1.094 2.5246 2.5246s-1.094 2.5246-2.5246 2.5246-2.5246-1.094-2.5246-2.5246 1.094-2.5246 2.5246-2.5246zm10.098 3.3661c0.50492 0 0.84154 0.33661 0.84154 0.84154 0 0.50492-0.33661 0.84153-0.84154 0.84153-0.50492 0-0.84153-0.33661-0.84153-0.84153s0.33661-0.84154 0.84153-0.84154z'/%3E %3C/g%3E %3C/svg%3E"},"0b8eb3e35929778b339a":function(t,e,n){"use strict";n.r(e);var i,o=n("8af190b70a6bc55c6f1b"),r=n.n(o),a=n("7aa8db87e3c9e814f06d"),s=n("fc43733ec9d3f066c334"),l=n("8a2d1b95e05b6a321e74"),c=n.n(l),u=n("0a81c721557e72a0975d"),h=n("1f7eb4558e149d7a2535"),p=n("71d2f9a0d515b86993c4"),f=n("7c819471f8086f26a136"),d=n("721170d9c04e3d2551ec"),g=n.n(d),v=n("ef4865002b343d63dc0c"),m=n("ecad9051054967dddd1d"),y=n("5967b2c4674ec19411e2"),_=n("d8682765e772da6a405c"),b=n("8fdd8041225f426c1db2"),x=n.n(b),w=n("73c491490691b18f8f8a"),E=n("fdae765a9a200f4374cf"),O=n("ea78a4d6077b4ce99010"),S=n.n(O),T=n("b5b7bafeb7add2b1fc09"),C=n("9095151026da8c51dd60"),I=n.n(C),P=n("ab039aecd4a1d4fedc0e"),R="app.components.Header",M=Object(P.defineMessages)({header:{id:"".concat(R,".header"),defaultMessage:"This is the Header component!"},search:{id:"".concat(R,".search"),defaultMessage:"Search"},following:{id:"".concat(R,".following"),defaultMessage:"Following"},logout:{id:"".concat(R,".logout"),defaultMessage:"Logout"}});function L(t,e,n,o){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),e&&r)for(var s in r)void 0===e[s]&&(e[s]=r[s]);else e||(e=r||{});if(1===a)e.children=o;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];e.children=l}return{$$typeof:i,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=Object(s.a)(function(t){return{paper:{margin:"5px 5px",padding:"2px 4px",display:"flex",alignItems:"center",minWidth:306,maxWidth:358,zIndex:1,position:"absolute"},input:{marginLeft:t.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},list:{minWidth:306,maxWidth:358}}}),k=L(S.a,{}),A=L(I.a,{}),j=L(x.a,{}),N=L(y.a,{},void 0,L(g.a,{}));var z=Object(o.memo)(function(t){var e=t.onLiveRoute,n=t.onSearch,i=t.searchPhrase,o=D(),a=function(t){return n(t.target.value)},s=F(r.a.useState(!1),2),l=s[0],c=s[1];return r.a.createElement(r.a.Fragment,null,L(T.a,{className:o.paper},void 0,L(w.a,{className:o.iconButton,"aria-label":"menu",onClick:function(){return c(!0)}},void 0,k),r.a.createElement(P.FormattedMessage,M.search,function(t){return L(E.a,{className:o.input,placeholder:t,onChange:a,value:i})}),L(w.a,{className:o.iconButton,"arial-label":r.a.createElement(P.FormattedMessage,M.search)},void 0,A),L(p.a,{className:o.divider,orientation:"vertical"}),L(w.a,{className:o.iconButton,"aria-label":r.a.createElement(P.FormattedMessage,M.following),onClick:e},void 0,j)),L(f.a,{anchor:"left",open:l,onClose:function(){return c(!1)}},void 0,L("div",{className:o.list,role:"presentation"},void 0,L(v.a,{},void 0,L(m.a,{button:!0,onClick:function(){return c(!1)}},"logout",N,L(_.a,{primary:r.a.createElement(P.FormattedMessage,M.logout)}))))))}),G=n("7cf11b681aa7b74d9725"),Y=n("dd5b2b46ceaa05102c8a"),W=n("7e93ed78f45371ed48a5"),X=n("398fee01cee86d8d3bfd"),B=n("85b71a27cbcf93ff4854"),U=n("14407cc432f2bf4f958e"),H=n("a28fc3c963a1d4d1a2e5"),q=n("96100616be21446d392a"),K=n.n(q),V=n("f1c990499b5bad8f3731"),Z=n("238fef99c154a7dfd239"),J=n("9ae32c517479bfbc8a70"),$=n("8e0d8d60b701f2c2a59e"),Q=(n("eafcfe49e6bd3eeab38b"),"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function tt(t){cancelAnimationFrame(t.id)}function et(t,e){var n=Q();var i={id:requestAnimationFrame(function o(){Q()-n>=e?t.call(null):i.id=requestAnimationFrame(o)})};return i}var nt=null;function it(t){if(void 0===t&&(t=!1),null===nt||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),o=i.style;return o.width="100px",o.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?nt="positive-descending":(e.scrollLeft=1,nt=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),nt}return nt}var ot=150,rt=function(t,e){return t};function at(t){var e,n,i=t.getItemOffset,r=t.getEstimatedTotalSize,a=t.getItemSize,s=t.getOffsetForIndexAndAlignment,l=t.getStartIndexForOffset,c=t.getStopIndexForStartIndex,u=t.initInstanceProps,h=t.shouldResetStyleCacheOnItemSizeChange,p=t.validateProps;return n=e=function(t){function e(e){var n;return(n=t.call(this,e)||this)._instanceProps=u(n.props,Object(J.a)(Object(J.a)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(J.a)(Object(J.a)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object($.a)(function(t,e,i,o){return n.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:i,visibleStopIndex:o})}),n._callOnScroll=void 0,n._callOnScroll=Object($.a)(function(t,e,i){return n.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:i})}),n._getItemStyle=void 0,n._getItemStyle=function(t){var e,o=n.props,r=o.direction,s=o.itemSize,l=o.layout,c=n._getItemStyleCache(h&&s,h&&l,h&&r);if(c.hasOwnProperty(t))e=c[t];else{var u,p=i(n.props,t,n._instanceProps),f=a(n.props,t,n._instanceProps),d="horizontal"===r||"horizontal"===l;c[t]=((u={position:"absolute"})["rtl"===r?"right":"left"]=d?p:0,u.top=d?0:p,u.height=d?"100%":f,u.width=d?f:"100%",e=u)}return e},n._getItemStyleCache=void 0,n._getItemStyleCache=Object($.a)(function(t,e,n){return{}}),n._onScrollHorizontal=function(t){var e=t.currentTarget,i=e.clientWidth,o=e.scrollLeft,r=e.scrollWidth;n.setState(function(t){if(t.scrollOffset===o)return null;var e=n.props.direction,a=o;if("rtl"===e)switch(it()){case"negative":a=-o;break;case"positive-descending":a=r-i-o}return a=Math.max(0,Math.min(a,r-i)),{isScrolling:!0,scrollDirection:t.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._onScrollVertical=function(t){var e=t.currentTarget,i=e.clientHeight,o=e.scrollHeight,r=e.scrollTop;n.setState(function(t){if(t.scrollOffset===r)return null;var e=Math.max(0,Math.min(r,o-i));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._outerRefSetter=function(t){var e=n.props.outerRef;n._outerRef=t,"function"===typeof e?e(t):null!=e&&"object"===typeof e&&e.hasOwnProperty("current")&&(e.current=t)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&tt(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=et(n._resetIsScrolling,ot)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},function(){n._getItemStyleCache(-1,null)})},n}Object(Z.a)(e,t),e.getDerivedStateFromProps=function(t,e){return st(t,e),p(t),null};var n=e.prototype;return n.scrollTo=function(t){t=Math.max(0,t),this.setState(function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},n.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props.itemCount,i=this.state.scrollOffset;t=Math.max(0,Math.min(t,n-1)),this.scrollTo(s(this.props,t,e,i,this._instanceProps))},n.componentDidMount=function(){var t=this.props,e=t.direction,n=t.initialScrollOffset,i=t.layout;if("number"===typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===e||"horizontal"===i?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var t=this.props,e=t.direction,n=t.layout,i=this.state,o=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var r=this._outerRef;if("horizontal"===e||"horizontal"===n)if("rtl"===e)switch(it()){case"negative":r.scrollLeft=-o;break;case"positive-ascending":r.scrollLeft=o;break;default:var a=r.clientWidth,s=r.scrollWidth;r.scrollLeft=s-a-o}else r.scrollLeft=o;else r.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&tt(this._resetIsScrollingTimeoutId)},n.render=function(){var t=this.props,e=t.children,n=t.className,i=t.direction,a=t.height,s=t.innerRef,l=t.innerElementType,c=t.innerTagName,u=t.itemCount,h=t.itemData,p=t.itemKey,f=void 0===p?rt:p,d=t.layout,g=t.outerElementType,v=t.outerTagName,m=t.style,y=t.useIsScrolling,_=t.width,b=this.state.isScrolling,x="horizontal"===i||"horizontal"===d,w=x?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),O=E[0],S=E[1],T=[];if(u>0)for(var C=O;C<=S;C++)T.push(Object(o.createElement)(e,{data:h,key:f(C,h),index:C,isScrolling:y?b:void 0,style:this._getItemStyle(C)}));var I=r(this.props,this._instanceProps);return Object(o.createElement)(g||v||"div",{className:n,onScroll:w,ref:this._outerRefSetter,style:Object(V.a)({position:"relative",height:a,width:_,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},m)},Object(o.createElement)(l||c||"div",{children:T,ref:s,style:{height:x?"100%":I,pointerEvents:b?"none":void 0,width:x?I:"100%"}}))},n._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],i=t[2],o=t[3];this._callOnItemsRendered(e,n,i,o)}if("function"===typeof this.props.onScroll){var r=this.state,a=r.scrollDirection,s=r.scrollOffset,l=r.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},n._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,i=this.state,o=i.isScrolling,r=i.scrollDirection,a=i.scrollOffset;if(0===e)return[0,0,0,0];var s=l(this.props,a,this._instanceProps),u=c(this.props,s,a,this._instanceProps),h=o&&"backward"!==r?1:Math.max(1,n),p=o&&"forward"!==r?1:Math.max(1,n);return[Math.max(0,s-h),Math.max(0,Math.min(e-1,u+p)),s,u]},e}(o.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var st=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},lt=function(t,e,n){var i=t.itemSize,o=n.itemMetadataMap,r=n.lastMeasuredIndex;if(e>r){var a=0;if(r>=0){var s=o[r];a=s.offset+s.size}for(var l=r+1;l<=e;l++){var c=i(l);o[l]={offset:a,size:c},a+=c}n.lastMeasuredIndex=e}return o[e]},ct=function(t,e,n,i,o){for(;i<=n;){var r=i+Math.floor((n-i)/2),a=lt(t,r,e).offset;if(a===o)return r;a<o?i=r+1:a>o&&(n=r-1)}return i>0?i-1:0},ut=function(t,e,n,i){for(var o=t.itemCount,r=1;n<o&&lt(t,n,e).offset<i;)n+=r,r*=2;return ct(t,e,Math.min(n,o-1),Math.floor(n/2),i)},ht=function(t,e){var n=t.itemCount,i=e.itemMetadataMap,o=e.estimatedItemSize,r=e.lastMeasuredIndex,a=0;if(r>=n&&(r=n-1),r>=0){var s=i[r];a=s.offset+s.size}return a+(n-r-1)*o},pt=at({getItemOffset:function(t,e,n){return lt(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:ht,getOffsetForIndexAndAlignment:function(t,e,n,i,o){var r=t.direction,a=t.height,s=t.layout,l=t.width,c="horizontal"===r||"horizontal"===s?l:a,u=lt(t,e,o),h=ht(t,o),p=Math.max(0,Math.min(h-c,u.offset)),f=Math.max(0,u.offset-c+u.size);switch("smart"===n&&(n=i>=f-c&&i<=p+c?"auto":"center"),n){case"start":return p;case"end":return f;case"center":return Math.round(f+(p-f)/2);case"auto":default:return i>=f&&i<=p?i:i<f?f:p}},getStartIndexForOffset:function(t,e,n){return function(t,e,n){var i=e.itemMetadataMap,o=e.lastMeasuredIndex;return(o>0?i[o].offset:0)>=n?ct(t,e,o,0,n):ut(t,e,Math.max(0,o),n)}(t,n,e)},getStopIndexForStartIndex:function(t,e,n,i){for(var o=t.direction,r=t.height,a=t.itemCount,s=t.layout,l=t.width,c="horizontal"===o||"horizontal"===s?l:r,u=lt(t,e,i),h=n+c,p=u.offset+u.size,f=e;f<a-1&&p<h;)p+=lt(t,++f,i).size;return f},initInstanceProps:function(t,e){var n={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,i){void 0===i&&(i=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),i&&e.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});var ft=n("3dde4251a4e36fb3d2d7"),dt=n.n(ft),gt=n("bc52778aa4babd5538cf"),vt=n("2f3d4de668fb4d70ea9c"),mt=n.n(vt),yt=n("0b25eed4e425475e9ff9"),_t=n("8113359511cd270e25e9"),bt=n("52b94d0fd50d848aba95"),xt=n("f8c4cc511a2da4f715ef"),wt=n("cfab155c45befb529f46"),Et=n("80e80f602055becd595c"),Ot=n.n(Et),St=n("d49b87ecf6a512a7e380"),Tt=n.n(St),Ct=n("a804b82c14c8fd248b2b"),It=n.n(Ct),Pt="app.components.FleetList",Rt=Object(P.defineMessages)({battery:{id:"".concat(Pt,".battery"),defaultMessage:"Battery"},course:{id:"".concat(Pt,".course"),defaultMessage:"Point"},deviceTime:{id:"".concat(Pt,".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat(Pt,".distance"),defaultMessage:"Distance"},ignition:{id:"".concat(Pt,".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat(Pt,".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat(Pt,".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat(Pt,".motion"),defaultMessage:"Motion"},no:{id:"".concat(Pt,".no"),defaultMessage:"No"},operator:{id:"".concat(Pt,".operator"),defaultMessage:"Operator"},outdated:{id:"".concat(Pt,".outdated"),defaultMessage:"Outedated"},power:{id:"".concat(Pt,".power"),defaultMessage:"Power"},protocol:{id:"".concat(Pt,".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat(Pt,".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat(Pt,".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat(Pt,".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat(Pt,".valid"),defaultMessage:"Valid"},yes:{id:"".concat(Pt,".yes"),defaultMessage:"Yes"}}),Mt=n("3f3a0914a8688311fc1b"),Lt=n.n(Mt),Ft=n("f2a0a9b443783f48e935"),Dt=n.n(Ft),kt=n("3cfaddbc49b3b4520d9c"),At=n.n(kt),jt={dd:{name:"DecimalDegree",factor:1},km:{name:"km",factor:.001},kn:{name:"kn",factor:1},kmh:{name:"km/h",factor:1.852},mi:{name:"mi",factor:621371e-9},mph:{name:"mph",factor:1.15078},nmi:{name:"nmi",factor:539957e-9}};function Nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(jt[e||n].factor*(t||0)).toFixed(i)}function zt(t,e){return"".concat(Nt(t,e,"kmh",0)," ").concat(jt[e||"kmh"].name)}function Gt(t,e,n){if(Object.keys(n).indexOf("".concat(e,"Unit"))>-1){if(e.match(/speed/g))return zt(t,n["".concat(e,"Unit")]);if(e.match(/distance/g))return function(t,e){return"".concat(Nt(t,e,"km")," ").concat(jt[e||"km"].name)}(t,n["".concat(e,"Unit")])}return t}var Yt,Wt={43211:"MCI",43235:"Irancell",43220:"RighTel",43221:"RighTel"},Xt={deviceTime:{format:function(t){return mt()(t).format("HH:mm:ss jYYYY-jMM-jDD")}},valid:{format:Ut},outdated:{format:Ut},sat:{format:function(t){return t}},latitude:{format:function(t){return t}},longitude:{format:function(t){return t}},course:{format:function(t){var e=t;if(e<=0||e>360||"undefined"===typeof e)return"\u2608";var n={north:"\u2191 N",north_east:"\u2197 NE",east:"\u2192 E",south_east:"\u2198 SE",south:"\u2193 S",south_west:"\u2199 SW",west:"\u2190 W",north_west:"\u2196 NW"},i=Object.keys(n),o=360/i.length;e+=o/2;for(var r=0;r<i.length;r+=1)if(e>=r*o&&e<(r+1)*o)return n[i[r]];return n.north}},ignition:{format:Ut},motion:{format:Ut},power:{format:function(t){return t.toFixed(2)}},battery:{format:function(t){return t.toFixed(2)}},operator:{format:function(t){return Wt[t]||t}},rssi:{format:function(t){return t}},distance:{format:function(t){return t}},totalDistance:{format:function(t){return t}},protocol:{format:function(t){return t}}};function Bt(t){var e={};return At()(Xt,function(n,i){(void 0!==t[i]&&!Dt()(t[i])||void 0!==t.attributes[i]&&!Dt()(t.attributes[i]))&&(e[i]=n.format(t[i]||t.attributes[i]))}),Lt()(e,t.attributes,function(t,e){return t||e})}function Ut(t){return r.a.createElement(P.FormattedMessage,Rt[t?"yes":"no"])}function Ht(t,e,n,i){Yt||(Yt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Yt,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function qt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vt,Zt={offline:"red",online:"green",unknown:"orang",ignitionOn:"orange"},Jt=Object(s.a)(function(t){return{enginIcon:{color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?Zt.ignitionOn:"inherit"}},fleetName:{fontSize:"0.8rem",fontWeight:"bold"},lastUpdate:{fontSize:"0.6rem",fontWeight:"bold",color:"rgba(0, 0, 0, 0.54)",margin:"-4px 0 0 0"},title:{whiteSpace:"nowrap"},icon:{textAlign:"center"},speed:{textAlign:"center",fontSize:"0.7rem",color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?"inherit":"lightgray"},direction:"rtl"},status:{color:function(t){return Zt[t.status]},fontSize:"small"},centerFocus:{color:function(t){return t.isPinned?"inherit":"lightgray"}},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130}}}),$t=Object(X.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(wt.a),Qt=Ht(Ot.a,{}),te=r.a.memo(function(t){var e=t.fleet,n=t.isExpanded,i=t.isPinned,o=t.onExpand,a=t.onPin,s=Jt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Kt(t,e,n[e])})}return t}({isPinned:i},e)),l=qt(r.a.useState(!1),2),c=l[0],u=l[1];r.a.useEffect(function(){return u(n)},[n]);return r.a.createElement(r.a.Fragment,null,Ht(_t.a,{alignItems:"center",container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,Ht(_t.a,{className:s.title,item:!0,xs:7,zeroMinWidth:!0},void 0,Ht(B.a,{className:s.fleetName,noWrap:!0},void 0,e.name),Ht("p",{className:s.lastUpdate},void 0,mt()(e.lastUpdate).fromNow())),Ht(_t.a,{className:s.speed,item:!0,xs:2},void 0,e.formattedSpeed||"-"),Ht(_t.a,{className:s.icon,item:!0,xs:1},void 0,Ht("span",{className:"icon ico-engin ".concat(s.enginIcon)})),Ht(_t.a,{className:s.icon,item:!0,xs:1},void 0,Ht(It.a,{className:s.status})),Ht(_t.a,{className:s.icon,item:!0,xs:1},void 0,Ht(w.a,{onClick:function(){return a(i?null:e.uniqueId)},size:"small","aria-label":"Pin"},void 0,Ht(Tt.a,{className:s.centerFocus}))),Ht(_t.a,{className:s.icon,item:!0,xs:1},void 0,Ht(w.a,{className:Object(gt.a)(s.expand,Kt({},s.expandOpen,c)),onClick:function(){o&&o(!c),u(!c)},size:"small","aria-expanded":c,"aria-label":"show more"},void 0,Qt))),e.positions&&e.positions.length&&Ht(yt.a,{in:c,timeout:"auto",unmountOnExit:!0},void 0,c&&Ht(bt.a,{cellHeight:40,className:s.gridList,cols:2},void 0,dt()(Bt(e.positions.slice(-1)[0]),function(t,e){return Ht(xt.a,{cols:1},e,Ht($t,{title:Rt[e]?r.a.createElement(P.FormattedMessage,Rt[e]):e,subtitle:t||"--"}))}))))});function ee(t){return(ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e,n,i){Vt||(Vt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Vt,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){le(t,e,n[e])})}return t}function oe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ce=function(t){function e(t){var n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,o=re(e).call(this,t),n=!o||"object"!==ee(o)&&"function"!==typeof o?ae(i):o,le(ae(n),"handleExpantion",function(t){n.onExpand(t?n.index:null)}),le(ae(n),"selectDevice",function(){return n.onClick(n.fleet.uniqueId)}),n.fleet=n.props.data.fleets[n.props.index],n.index=n.props.index,n.onClick=n.props.data.onClick,n.onExpand=n.props.data.onExpand,n.onPin=n.props.data.onPin,n.isSelected=n.props.data.selectedDevice===n.fleet.uniqueId,n.isPinned=n.fleet.uniqueId===n.props.data.pinnedDevice,n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(e,r.a.Component),n=e,(i=[{key:"componentDidUpdate",value:function(){this.fleet=this.props.data.fleets[this.props.index],this.index=this.props.index,this.onClick=this.props.data.onClick,this.onExpand=this.props.data.onExpand,this.onPin=this.props.data.onPin,this.isSelected=this.props.data.selectedDevice===this.fleet.uniqueId,this.isPinned=this.fleet.uniqueId===this.props.data.pinnedDevice,this.props.data.expandedIndex!==this.props.index?this.isExpanded=!1:this.isExpanded=!0}},{key:"render",value:function(){return ne("div",{onClick:this.selectDevice,style:ie({},this.styles.row,this.props.style),role:"button",tabIndex:this.index,onKeyPress:this.selectDevice},void 0,ne(te,{fleet:this.fleet,isExpanded:this.isExpanded,isPinned:this.isPinned,onExpand:this.handleExpantion,onPin:this.onPin}))}},{key:"styles",get:function(){return{row:{padding:"5px 5px 5px",backgroundColor:this.isSelected?"whitesmoke":"white"}}}}])&&oe(n.prototype,i),o&&oe(n,o),e}();function ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var he=Object(s.a)(function(){return{paper:{bottom:0,display:function(t){return t.isVisible?"inherit":"none"},minWidth:306,maxWidth:400,margin:0,padding:"2px 6px",position:"absolute",top:100,width:"100%",zIndex:1}}});var pe=r.a.memo(function(t){var e=t.fleets,n=void 0===e?[]:e,i=t.isVisible,a=void 0!==i&&i,s=t.onClick,l=t.onPin,c=t.pinnedDevice,u=t.selectedDevice,h=he({isVisible:a}),p=Object(o.createRef)(),f=Object(o.createRef)(),d=ue(Object(o.useState)(0),2),g=d[0],v=d[1],m=ue(Object(o.useState)(null),2),y=m[0],_=m[1],b=function(t){_(t),f.current.resetAfterIndex(t<=y?t:y,!1)};return Object(o.useEffect)(function(){a&&g!==p.current.clientHeight&&v(p.current.clientHeight)}),Object(o.useEffect)(function(){if(a&&u){var t=K()(n,{uniqueId:u});f.current.scrollToItem(t,"smart"),t!==y&&b(null)}},[a,u]),r.a.createElement("div",{className:h.paper,ref:p},a&&r.a.createElement(pt,{direction:"rtl",id:"feet-list",itemCount:n.length,itemData:{fleets:n,expandedIndex:y,onClick:s,onExpand:b,onPin:l,pinnedDevice:c,selectedDevice:u},itemKey:function(t,e){return e.fleets[t].uniqueId},itemSize:function(t){return t===y?180:50},height:g-10,ref:f,width:"100%"},ce))}),fe=n("adc20f99e57c573c589c"),de=n("d95b0cf107403b178365"),ge=n("3a1f560dcc2cef217ef6"),ve=n("016e72efd45bf6ae01f9"),me=n("1977fad39392966fc780"),ye="app/FleetsDrawer/FETCH_DEVICES_FAIL",_e="app/FleetsDrawer/FETCH_DEVICES_REQUEST",be="app/FleetsDrawer/FETCH_DEVICES_SUCCESS",xe="app/FleetsDrawer/SOCKET_CONNECTION_FAIL",we="app/FleetsDrawer/SOCKET_MESSAGE_RECEIVE",Ee="app/FleetsDrawer/SOCKET_CONNECTION_REQUEST",Oe="app/FleetsDrawer/SOCKET_CONNECTION_SUCCESS",Se="app/FleetDrawer/UPDATE_FLEET_PANEL_STATE",Te="app/FleetDrawer/UPDATE_FILTER_PANEL_STATE",Ce="app/FleetsDrawer/PIN_DEVICE",Ie="app/FleetsDrawer/SELECT_DEVICE_IN_LIST",Pe="app/FleetsDrawer/SET_SEARCH_PHRASE",Re="app/FleetsDrawer/TOGGLE_LIVE_ROUTE";function Me(t){return{type:ye,payload:t}}function Le(t){return{type:Ce,payload:t}}function Fe(t){return{type:Ie,payload:t}}function De(t){return{type:xe,payload:t}}function ke(){return{type:Ee}}function Ae(t,e){return{type:we,payload:t,server:e}}var je=Object(P.defineMessages)({devices:{id:"".concat("app.containers.FleetsDrawer",".devices"),defaultMessage:"Devices"},history:{id:"".concat("app.containers.FleetsDrawer",".history"),defaultMessage:"History"}}),Ne=n("7edf83707012a871cdfb"),ze=n("6a55381db84a511b309a"),Ge=n.n(ze),Ye=n("98f11010eed1f30a67e8"),We=n.n(Ye),Xe=n("5ad5fa305fb9d8886d1b"),Be=n.n(Xe);function Ue(t){var e=decodeURIComponent(t).replace("data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ","");return(new DOMParser).parseFromString(e,"image/svg+xml")}var He=n("34d538758fadc195d9b0"),qe=n.n(He),Ke=n("38a5cf7bd4a34adb836d"),Ve=n.n(Ke),Ze=n("774b962f7f8ee233d0d8"),Je=n.n(Ze),$e=n("8e5ff0d18795eecbe193"),Qe=n.n($e),tn=n("cc9cb34247c192a15852"),en=n.n(tn),nn=n("a7e9ffa2c081a2fb5ea5"),on=n.n(nn),rn=n("e35698e68d1df72089c6"),an=n.n(rn),sn=n("9f8408bc240279d0b00a"),ln=n.n(sn),cn=n("0cd3c73b0976507cb4f5"),un=n.n(cn),hn=n("fb27460172bd4593ba8b"),pn=n.n(hn),fn=n("37b9a59b1709fe27f5f8"),dn=n.n(fn),gn=n("e0e8ac40fdfb7ae1c907"),vn=n.n(gn),mn=n("d00ca599655a685685b3"),yn=n.n(mn),_n=n("911f6b041ac8efd77294"),bn=n.n(_n),xn=n("4061d78159b3c8762e5a"),wn=n.n(xn),En=n("49f4067ee71e74f7bfe5"),On=n.n(En),Sn=n("064ca696732477a7857b"),Tn=n.n(Sn),Cn=n("ca58d6a6a484c1aaa883"),In=n.n(Cn),Pn=n("ab0f7027a5d5d72ab9da"),Rn=n.n(Pn),Mn=n("f1d2accb1cb5589a1510"),Ln=n.n(Mn),Fn=n("dfd42df999446333fe96"),Dn=n.n(Fn),kn=n("dd8173cc67fa36d7ff4a"),An=n.n(kn),jn={animal:Ue(qe.a),arrow:Ue(Ve.a),bicycle:Ue(Je.a),boat:Ue(Qe.a),bus:Ue(en.a),car:Ue(on.a),crane:Ue(an.a),default:Ue(ln.a),helicopter:Ue(un.a),motorcycle:Ue(pn.a),offroad:Ue(dn.a),person:Ue(vn.a),pickup:Ue(yn.a),plane:Ue(bn.a),scooter:Ue(wn.a),ship:Ue(On.a),tractor:Ue(Tn.a),train:Ue(In.a),tram:Ue(Rn.a),trolleybus:Ue(Ln.a),truck:Ue(Dn.a),van:Ue(An.a)};function Nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){zn(t,e,n[e])})}return t}function zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e){return"offline"===t.status?"rgba(255, 162, 173, 1.0)":"online"===t.status&&e&&(e.attributes.motion||e.attributes.ignition)?"rgba(77, 250, 144, 1.0)":"rgba(250, 190, 77, 1.0)"}function Yn(t){return"data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ".concat(encodeURIComponent((new XMLSerializer).serializeToString(t.documentElement)))}function Wn(t,e,n,i,o){var r=t,a=parseFloat(r.documentElement.getAttribute("width")),s=parseFloat(r.documentElement.getAttribute("height"));r.getElementById(i).style.fill=e;var l="rotate(".concat(n," ").concat(a/2," ").concat(s/2,")");return r.getElementById(o).setAttribute("transform",l),{height:s,source:Yn(r),width:a}}var Xn={error:null,fleets:[],isFleetPanelOpen:!0,isFilterPanelOpen:!1,isLiveRouteEnabled:!1,selectedDeviceUniqueId:null,pinnedDeviceUniqueId:null,searchPhrase:null,showLoader:!1},Bn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,e=arguments.length>1?arguments[1]:void 0;return Object(Ne.a)(t,function(t){switch(e.type){case ye:t.fleets=[],t.error=e.payload,t.showLoader=!1;break;case _e:t.fleets=[],t.showLoader=!0,t.error=null;break;case be:t.fleets=e.payload,t.showLoader=!1,t.error=null;break;case Ce:t.pinnedDeviceUniqueId=e.payload;break;case Ie:t.selectedDeviceUniqueId!==e.payload&&(t.pinnedDeviceUniqueId=null),t.selectedDeviceUniqueId=e.payload;break;case Pe:t.searchPhrase=e.payload||null;break;case we:e.payload.devices?t.fleets=(n=t.fleets,i=e.payload.devices,o=e.server,i.forEach(function(t){var e=K()(n,["id",t.id]),i=n[e].positions?n[e].positions.slice(-1)[0]:null,r=Nt(i?i.speed:0,o.attributes.speedUnit),a=zt(i?i.speed:0,o.attributes.speedUnit),s=n[e].icon;n[e].status!==t.status&&(s=Wn(jn[t.category||"default"],Gn(t,i),i?i.course:0,"arrow"===t.category?"arrow":"background","arrow"===t.category?"arrow":"background")),e>-1?Be()(n[e],t,{icon:s,speed:r,formattedSpeed:a}):n.push(Be()(t,{icon:s,speed:r,formattedSpeed:a}))}),n):e.payload.positions&&(t.fleets=function(t,e,n){var i=t;return e.forEach(function(t){var e=K()(i,["id",t.deviceId]);if(e>-1){var o=i[e];if(o.positions=i[e].positions||[],o.positions.length>0&&o.positions.slice(-1)[0].id===t.id)return;o.speed=Nt(t.speed,n.attributes.speedUnit),o.formattedSpeed=zt(t.speed,n.attributes.speedUnit),o.icon=Wn(jn[o.category||"default"],Gn(o,t),t.course,"arrow"===o.category?"arrow":"background","arrow"===o.category?"arrow":"background"),o.positions.push(Nn({uniqueId:o.uniqueId,category:o.category||"default",color:Gn(o,t),height:o.icon.height,icon:o.icon.source,name:o.name,width:o.icon.width},t)),i[e].positions.length>10&&i[e].positions.shift()}}),i}(t.fleets,e.payload.positions,e.server));break;case Re:t.isLiveRouteEnabled=!t.isLiveRouteEnabled;break;case Te:t.isFilterPanelOpen=!t.isFilterPanelOpen;break;case Se:t.isFleetPanelOpen=!t.isFleetPanelOpen}var n,i,o})},Un=function(t){return t.fleetsDrawer||Xn},Hn=function(){return Object(H.a)(Un,function(t){return e=t.fleets,(n=t.searchPhrase)?We()(e,function(t){return t.name.indexOf(n)>-1||t.uniqueId.toString().indexOf(n)>-1}):e;var e,n})},qn=function(){return Object(H.a)(Un,function(t){return t.pinnedDeviceUniqueId})},Kn=function(){return Object(H.a)(Un,function(t){return t.selectedDeviceUniqueId})},Vn=function(){return Object(H.a)(Hn(),Kn(),function(t,e){return function(t,e){return Ge()(t,{uniqueId:e})}(t,e)})},Zn=n("124b48bac274890c1fae"),Jn=n("2cb3248ea08cdbff4a37"),$n=n("6542cd13fd5dd1bcffd4"),Qn=n("f363639bc5c3c97af546"),ti=n("f8070c2fe09c11722ab2");function ei(t){return new Promise(function(e,n){var i=new WebSocket(t);i.onopen=function(){return e(i)},i.onerror=function(t){return n(t)}})}function ni(t){var e=t;return Object(ti.c)(function(t){e.onmessage=function(e){return t(e.data)},e.onclose=function(){return t(ti.a)};return function(){e.onmessage=null}})}var ii=regeneratorRuntime.mark(ai),oi=regeneratorRuntime.mark(si),ri=regeneratorRuntime.mark(li);function ai(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Zn.b)(Qn.a,"".concat(Jn.a,"/devices"));case 3:return t=e.sent,e.next=6,Object(Zn.c)({type:be,payload:t});case 6:return e.next=8,Object(Zn.c)(ke());case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(Zn.c)(Me(e.t0));case 14:case"end":return e.stop()}},ii,null,[[0,10]])}function si(){var t,e,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Zn.b)(ei,Jn.b);case 3:return t=o.sent,o.next=6,Object(Zn.b)(ni,t);case 6:return e=o.sent,o.next=9,Object(Zn.c)({type:Oe});case 9:return o.next=12,Object(Zn.f)(e);case 12:return n=o.sent,o.next=15,Object(Zn.e)($n.e);case 15:return i=o.sent,o.next=18,Object(Zn.d)(Ae(JSON.parse(n),i.server));case 18:o.next=9;break;case 20:o.next=27;break;case 22:return o.prev=22,o.t0=o.catch(0),console.log(o.t0),o.next=27,Object(Zn.d)(De(o.t0));case 27:return o.prev=27,console.log("in finally"),e&&e.close(),t&&t.close(),o.next=33,Object(Zn.d)(De("WebSocket disconnected!"));case 33:return o.finish(27);case 34:return o.next=36,Object(Zn.c)(ke());case 36:case"end":return o.stop()}},oi,null,[[0,22,27,34]])}function li(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Zn.a)([Object(Zn.g)(_e,ai),Object(Zn.g)(Ee,si)]);case 2:case"end":return t.stop()}},ri)}var ci=n("ad2ec3ce61b4e80ca5b7"),ui=n("95304742f100121de3ed"),hi=n("86e872c5125e2efac7b0"),pi=n("d7f9c90bb9eec3ae4c76"),fi=n("1a661b4d25e85fc8b8d4"),di=n("a11eacdcf2a3861858dc"),gi=n("da010f21fea25912dd9e"),vi=n.n(gi),mi=function(t,e){return(mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var yi,_i=function(){function t(t){var e=void 0===t?{}:t,n=e.locale,i=e.instance,o=e.moment;this.yearFormat="YYYY",this.yearMonthFormat="MMMM YYYY",this.dateTime12hFormat="MMMM Do hh:mm a",this.dateTime24hFormat="MMMM Do HH:mm",this.time12hFormat="hh:mm A",this.time24hFormat="HH:mm",this.dateFormat="MMMM Do",this.moment=i||o||vi.a,this.locale=n}return t.prototype.parse=function(t,e){return""===t?null:this.moment(t,e,!0)},t.prototype.date=function(t){if(null===t)return null;var e=this.moment(t);return e.locale(this.locale),e},t.prototype.isValid=function(t){return this.moment(t).isValid()},t.prototype.isNull=function(t){return null===t},t.prototype.getDiff=function(t,e){return t.diff(e)},t.prototype.isAfter=function(t,e){return t.isAfter(e)},t.prototype.isBefore=function(t,e){return t.isBefore(e)},t.prototype.isAfterDay=function(t,e){return t.isAfter(e,"day")},t.prototype.isBeforeDay=function(t,e){return t.isBefore(e,"day")},t.prototype.isBeforeYear=function(t,e){return t.isBefore(e,"year")},t.prototype.isAfterYear=function(t,e){return t.isAfter(e,"year")},t.prototype.startOfDay=function(t){return t.clone().startOf("day")},t.prototype.endOfDay=function(t){return t.clone().endOf("day")},t.prototype.format=function(t,e){return t.locale(this.locale),t.format(e)},t.prototype.formatNumber=function(t){return t},t.prototype.getHours=function(t){return t.get("hours")},t.prototype.addDays=function(t,e){return e<0?t.clone().subtract(Math.abs(e),"days"):t.clone().add(e,"days")},t.prototype.setHours=function(t,e){return t.clone().hours(e)},t.prototype.getMinutes=function(t){return t.get("minutes")},t.prototype.setMinutes=function(t,e){return t.clone().minutes(e)},t.prototype.getSeconds=function(t){return t.get("seconds")},t.prototype.setSeconds=function(t,e){return t.clone().seconds(e)},t.prototype.getMonth=function(t){return t.get("month")},t.prototype.isSameDay=function(t,e){return t.isSame(e,"day")},t.prototype.isSameMonth=function(t,e){return t.isSame(e,"month")},t.prototype.isSameYear=function(t,e){return t.isSame(e,"year")},t.prototype.isSameHour=function(t,e){return t.isSame(e,"hour")},t.prototype.setMonth=function(t,e){return t.clone().month(e)},t.prototype.getMeridiemText=function(t){return"am"===t?"AM":"PM"},t.prototype.startOfMonth=function(t){return t.clone().startOf("month")},t.prototype.endOfMonth=function(t){return t.clone().endOf("month")},t.prototype.getNextMonth=function(t){return t.clone().add(1,"month")},t.prototype.getPreviousMonth=function(t){return t.clone().subtract(1,"month")},t.prototype.getMonthArray=function(t){for(var e=[t.clone().startOf("year")];e.length<12;){var n=e[e.length-1];e.push(this.getNextMonth(n))}return e},t.prototype.getYear=function(t){return t.get("year")},t.prototype.setYear=function(t,e){return t.clone().set("year",e)},t.prototype.mergeDateAndTime=function(t,e){return this.setMinutes(this.setHours(t,this.getHours(e)),this.getMinutes(e))},t.prototype.getWeekdays=function(){return this.moment.weekdaysShort(!0)},t.prototype.isEqual=function(t,e){return null===t&&null===e||this.moment(t).isSame(e)},t.prototype.getWeekArray=function(t){for(var e=t.clone().startOf("month").startOf("week"),n=t.clone().endOf("month").endOf("week"),i=0,o=e,r=[];o.isBefore(n);){var a=Math.floor(i/7);r[a]=r[a]||[],r[a].push(o),o=o.clone().add(1,"day"),i+=1}return r},t.prototype.getYearRange=function(t,e){for(var n=this.moment(t).startOf("year"),i=this.moment(e).endOf("year"),o=[],r=n;r.isBefore(i);)o.push(r),r=r.clone().add(1,"year");return o},t.prototype.getCalendarHeaderText=function(t){return this.format(t,this.yearMonthFormat)},t.prototype.getYearText=function(t){return this.format(t,"YYYY")},t.prototype.getDatePickerHeaderText=function(t){return this.format(t,"ddd, MMM D")},t.prototype.getDateTimePickerHeaderText=function(t){return this.format(t,"MMM D")},t.prototype.getMonthText=function(t){return this.format(t,"MMMM")},t.prototype.getDayText=function(t){return this.format(t,"D")},t.prototype.getHourText=function(t,e){return this.format(t,e?"hh":"HH")},t.prototype.getMinuteText=function(t){return this.format(t,"mm")},t.prototype.getSecondText=function(t){return this.format(t,"ss")},t}(),bi={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},xi=function(t){function e(e){var n=void 0===e?{}:e,i=n.moment,o=n.instance,r=t.call(this,{locale:"fa",moment:i})||this;return r.dateTime12hFormat="jMMMM jD hh:mm a",r.dateTime24hFormat="jMMMM jD HH:mm",r.time12hFormat="hh:mm A",r.time24hFormat="HH:mm",r.dateFormat="jMMMM jD",r.moment=o||i||mt.a,r.locale="fa",r}return function(t,e){function n(){this.constructor=t}mi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.toJMoment=function(t){return this.moment(t?t.clone():void 0).locale("fa")},e.prototype.parse=function(t,e){return""===t?null:this.moment(t,e,!0).locale("fa")},e.prototype.date=function(t){return null===t?null:this.moment(t).locale("fa")},e.prototype.isBeforeYear=function(t,e){return t.jYear()<e.jYear()},e.prototype.isAfterYear=function(t,e){return t.jYear()>e.jYear()},e.prototype.getMonth=function(t){return t.jMonth()},e.prototype.startOfMonth=function(t){return t.clone().startOf("jMonth")},e.prototype.endOfMonth=function(t){return t.clone().endOf("jMonth")},e.prototype.getNextMonth=function(t){return t.clone().add(1,"jMonth")},e.prototype.getPreviousMonth=function(t){return t.clone().subtract(1,"jMonth")},e.prototype.getYear=function(t){return t.jYear()},e.prototype.setYear=function(t,e){return t.clone().jYear(e)},e.prototype.getMeridiemText=function(t){return"am"===t?this.toJMoment().hours(2).format("A"):this.toJMoment().hours(14).format("A")},e.prototype.getWeekdays=function(){var t=this;return[0,1,2,3,4,5,6].map(function(e){return t.toJMoment().weekday(e).format("dd")})},e.prototype.isEqual=function(t,e){return null===t&&null===e||this.moment(t).isSame(e)},e.prototype.formatNumber=function(t){return t.replace(/\d/g,function(t){return bi[t]}).replace(/,/g,"\u060c")},e.prototype.getWeekArray=function(t){for(var e=t.clone().startOf("jMonth").startOf("week"),n=t.clone().endOf("jMonth").endOf("week"),i=0,o=e,r=[];o.isBefore(n);){var a=Math.floor(i/7);r[a]=r[a]||[],r[a].push(o),o=o.clone().add(1,"day"),i+=1}return r},e.prototype.getYearRange=function(t,e){for(var n=this.moment(t).startOf("jYear"),i=this.moment(e).endOf("jYear"),o=[],r=n;r.isBefore(i);)o.push(r),r=r.clone().add(1,"jYear");return o},e.prototype.getCalendarHeaderText=function(t){return t.format("jMMMM jYYYY")},e.prototype.getYearText=function(t){return t.format("jYYYY")},e.prototype.getDatePickerHeaderText=function(t){return t.format("ddd, jMMM jD")},e.prototype.getDateTimePickerHeaderText=function(t){return t.format("jMMM jD")},e.prototype.getDayText=function(t){return t.format("jD")},e}(_i),wi=n("7728af80fbbc041752ea"),Ei=n("cc51d72b43105b8dfd61"),Oi=n("ee177d3d0966e20024dd"),Si=Object(P.defineMessages)({cancelLabel:{id:"".concat("app.components.DatePicker",".cancelLabel"),defaultMessage:"Cancel"},clearLabel:{id:"".concat("app.components.DatePicker",".clearLabel"),defaultMessage:"Clear"},okLabel:{id:"".concat("app.components.DatePicker",".okLabel"),defaultMessage:"OK"}});function Ti(t,e,n,i){yi||(yi="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:yi,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Ci=Object(s.a)({datePickerRoot:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:5,"& input":{padding:"5px 14px"}},datePicker:{maxWidth:120},timePicker:{maxWidth:70}});var Ii=Object(o.memo)(function(t){var e=t.date,n=void 0===e?vi()().toDate():e,i=t.datePicker,o=void 0===i||i,a=t.maxDate,s=void 0===a?void 0:a,l=t.minDate,c=void 0===l?void 0:l,u=t.onChange,h=t.timePicker,p=void 0===h||h,f=Ci(),d=function(t){return u(t.toDate())};return Ti("div",{className:f.datePickerRoot},void 0,Ti(wi.a,{utils:xi,locale:"fa"},void 0,o&&Ti(Ei.a,{className:f.datePicker,clearable:!0,cancelLabel:r.a.createElement(P.FormattedMessage,Si.cancelLabel),clearLabel:r.a.createElement(P.FormattedMessage,Si.clearLabel),inputVariant:"outlined",labelFunc:function(t){return t?t.format("jYYYY/jMM/jDD"):""},maxDate:s,minDate:c,okLabel:r.a.createElement(P.FormattedMessage,Si.okLabel),onChange:d,value:n}),p&&Ti(Oi.a,{className:f.timePicker,clearable:!0,cancelLabel:r.a.createElement(P.FormattedMessage,Si.cancelLabel),clearLabel:r.a.createElement(P.FormattedMessage,Si.clearLabel),inputVariant:"outlined",labelFunc:function(t){return t?t.format("HH:mm"):""},okLabel:r.a.createElement(P.FormattedMessage,Si.okLabel),onChange:d,value:n})))}),Pi="app/FleetHistory/FETCH_ROUTE_HISTORY",Ri="app/FleetHistory/FETCH_ROUTE_HISTORY_FAILED",Mi="app/FleetHistory/FETCH_ROUTE_HISTORY_SUCCESSFUL",Li="appSTARTSTARTSTART/FleetHistory/SET_END_DATETIME",Fi="app/FleetHistory/SET_LOADER",Di="app/FleetHistory/SET_SHOW_MARKERS",ki="app/FleetHistory/SET_START_DATETIME",Ai="app/FleetHistory/SET_SELECTED_POSITION";function ji(t){return{type:Ri,payload:t}}function Ni(t){return{type:Mi,payload:t}}function zi(t){return{type:Ai,payload:t}}function Gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yi=function(t){return console.log(jn.default),t.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Gi(t,e,n[e])})}return t}({},t,{icon:Wn(jn.arrow,"#00ff00",t.course,"arrow","arrow")})})},Wi={endDate:vi()().toDate(),error:null,routeHistory:null,selectedPosition:null,showLoader:!1,showMarkers:!1,startDate:vi()().subtract("minutes",10).toDate()},Xi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi,e=arguments.length>1?arguments[1]:void 0;return Object(Ne.a)(t,function(n){switch(e.type){case Ri:n.error=e.payload,n.routeHistory=null,n.showLoader=!1;break;case Mi:n.routeHistory=e.payload&&Yi(e.payload),n.error=null,n.showLoader=!1;break;case Li:n.endDate=e.payload,t.startDate.getTime()>n.endDate&&(n.endDate=t.startDate);break;case Fi:n.showLoader=e.payload,n.routeHistory=null;break;case Ai:n.selectedPosition=e.payload;break;case ki:n.startDate=e.payload,n.startDate.getTime()>t.endDate.getTime()&&(n.endDate=n.startDate);break;case Di:n.showMarkers=e.payload}})},Bi=function(t){return t.fleetHistory||Wi},Ui=function(){return Object(H.a)(Bi,function(t){return t.showMarkers})},Hi=function(){return Object(H.a)(Bi,function(t){return t.routeHistory})},qi=function(){return Object(H.a)(Bi,function(t){return t.selectedPosition})},Ki=function(){return Object(H.a)(Bi,function(t){return t})},Vi=regeneratorRuntime.mark(Ji),Zi=regeneratorRuntime.mark($i);function Ji(t){var e,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Zn.c)({type:Fi,payload:!0});case 3:return e=new URL("".concat(Jn.a,"/reports/route")),n=new URLSearchParams,Object.keys(t.payload).forEach(function(e){return n.append(e,t.payload[e])}),e.search=n.toString(),o.next=9,Object(Zn.b)(Qn.a,e);case 9:return i=o.sent,o.next=12,Object(Zn.c)(Ni(i));case 12:o.next=19;break;case 14:return o.prev=14,o.t0=o.catch(0),console.log(o.t0),o.next=19,Object(Zn.c)(ji(o.t0));case 19:case"end":return o.stop()}},Vi,null,[[0,14]])}function $i(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Zn.a)([Object(Zn.g)(Pi,Ji)]);case 2:case"end":return t.stop()}},Zi)}var Qi,to=Object(P.defineMessages)({clear:{id:"".concat("app.containers.FleetHistory",".clear"),defaultMessage:"clear"},selectDevice:{id:"".concat("app.containers.FleetHistory",".selectDevice"),defaultMessage:"Select the device"},showMarkers:{id:"".concat("app.containers.FleetHistory",".showMarkers"),defaultMessage:"Show Markers"},submit:{id:"".concat("app.containers.FleetHistory",".submit"),defaultMessage:"Submit"}}),eo=Object(P.defineMessages)({noData:{id:"".concat("app.components.RouteHistoryList",".noData"),defaultMessage:"There are not any records."},battery:{id:"".concat("app.components.RouteHistoryList",".battery"),defaultMessage:"Battery"},course:{id:"".concat("app.components.RouteHistoryList",".course"),defaultMessage:"Point"},deviceTime:{id:"".concat("app.components.RouteHistoryList",".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat("app.components.RouteHistoryList",".distance"),defaultMessage:"Distance"},ignition:{id:"".concat("app.components.RouteHistoryList",".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat("app.components.RouteHistoryList",".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat("app.components.RouteHistoryList",".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat("app.components.RouteHistoryList",".motion"),defaultMessage:"Motion"},no:{id:"".concat("app.components.RouteHistoryList",".no"),defaultMessage:"No"},operator:{id:"".concat("app.components.RouteHistoryList",".operator"),defaultMessage:"Operator"},outdated:{id:"".concat("app.components.RouteHistoryList",".outdated"),defaultMessage:"Outedated"},power:{id:"".concat("app.components.RouteHistoryList",".power"),defaultMessage:"Power"},protocol:{id:"".concat("app.components.RouteHistoryList",".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat("app.components.RouteHistoryList",".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat("app.components.RouteHistoryList",".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat("app.components.RouteHistoryList",".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat("app.components.RouteHistoryList",".valid"),defaultMessage:"Valid"},yes:{id:"".concat("app.components.RouteHistoryList",".yes"),defaultMessage:"Yes"}}),no=n("97cd5d5e566200f9197b");function io(t){return(io="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var oo,ro=function(t){var e=t.children,n=["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"];return function(t,e,n,i){Qi||(Qi="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Qi,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}("span",{},void 0,"object"!==io(e)?e.toString().replace(/\d/g,function(t){return n[parseInt(t,10)]}):e)};var ao,so=Object(H.b)({units:Object($n.c)()}),lo=Object(u.c)(so,null),co=Object(h.d)(lo)(function(t){var e=t.units,n=t.type,i=t.value;return function(t,e,n,i){oo||(oo="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:oo,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(ro,{},void 0,Gt(i,n,e))});function uo(t,e,n,i){ao||(ao="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:ao,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var ho,po=Object(s.a)(function(t){return{routeHistoryRowRoot:{backgroundColor:function(t){var e=t.isSelected,n=t.isExpanded;return(e||n)&&"whitesmoke"},borderRadius:5},buttonBase:{width:"100%",padding:5},container:{height:50},dataTime:{fontSize:"0.8rem",fontWeight:"bold"},speed:{textAlign:"center",fontSize:"0.7rem",direction:"rtl",whiteSpace:"nowrap"},distance:{textAlign:"center",fontSize:"0.7rem",direction:"rtl"},expansionButton:{textAlign:"center"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130,width:"100%",backgroundColor:"whitesmoke"}}}),fo=Object(X.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(wt.a),go=uo(Ot.a,{}),vo=r.a.memo(function(t){var e,n,i,o,a=t.data,s=t.index,l=t.style,c=a.expandedIndex,u=a.onClick,h=a.onExpand,p=a.selectedRow,f=a.data[s],d=p&&f.id===p.id,g=c===s,v=po({isSelected:d,isExpanded:g});return uo("div",{className:v.routeHistoryRowRoot,style:l},void 0,uo(_t.a,{alignItems:"center",className:v.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,uo(_t.a,{item:!0,xs:10},void 0,uo(no.a,{className:v.buttonBase,onClick:function(){return u(f)}},void 0,uo(_t.a,{alignItems:"center",className:v.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,uo(_t.a,{item:!0,xs:2},void 0,uo(ro,{},void 0,s+1)),uo(_t.a,{item:!0,xs:5,zeroMinWidth:!0},void 0,uo(B.a,{className:v.dataTime},void 0,mt()(f.deviceTime).format("jYYYY-jMM-jDD HH:mm:ss"))),uo(_t.a,{className:v.distance,item:!0,xs:2},void 0,uo(co,{type:"distance",value:f.attributes.distance})),uo(_t.a,{className:v.speed,item:!0,xs:3},void 0,uo(co,{type:"speed",value:f.speed}))))),uo(_t.a,{className:v.expansionButton,item:!0,xs:2},void 0,uo(w.a,{className:Object(gt.a)(v.expand,(n={},i=v.expandOpen,o=g,i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)),onClick:(e=s,function(){return h(e!==c?e:null)}),size:"small","aria-expanded":g,"aria-label":"show more"},void 0,go))),f&&uo(yt.a,{in:g,timeout:"auto",unmountOnExit:!0},void 0,g&&uo(bt.a,{cellHeight:40,className:v.gridList,cols:2},void 0,dt()(Bt(f),function(t,e){return uo(xt.a,{cols:1},e,uo(fo,{title:eo[e]?r.a.createElement(P.FormattedMessage,eo[e]):e,subtitle:uo(co,{type:e,value:t||"--"})}))}))))});function mo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var yo=Object(s.a)({routeHistoryRoot:{bottom:0,minWidth:306,maxWidth:400,margin:0,padding:"2px 6px",position:"absolute",top:310,width:"100%",zIndex:1}});var _o,bo=Object(o.memo)(function(t){var e=t.data,n=t.onSelect,i=t.selected,o=yo(),a=r.a.createRef(),s=r.a.createRef(),l=mo(r.a.useState(null),2),c=l[0],u=l[1],h=mo(r.a.useState(0),2),p=h[0],f=h[1],d=function(t){u(t),a.current.resetAfterIndex(t<=c?t:c,!1)};return r.a.useEffect(function(){p!==s.current.clientHeight&&f(s.current.clientHeight)}),r.a.useEffect(function(){if(i){var t=K()(e,{id:i.id});a.current.scrollToItem(t,"smart"),t!==c&&d(null)}},[i]),r.a.createElement("div",{className:o.routeHistoryRoot,ref:s},e&&e.length?r.a.createElement(pt,{direction:"rtl",id:"route-history-list",itemCount:e.length,itemData:{data:e,expandedIndex:c,onClick:n,onExpand:d,selectedRow:i},itemKey:function(t,e){return e.data[t].id},itemSize:function(t){return t===c?180:50},height:p-10,ref:a,width:"100%"},vo):function(t,e,n,i){ho||(ho="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:ho,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}("p",{},void 0,r.a.createElement(P.FormattedMessage,eo.noData)))});function xo(t,e,n,i){_o||(_o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:_o,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function wo(){return(wo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var Eo=Object(s.a)({autocomplete:{},historyForm:{display:"flex",flexDirection:"column",padding:10},actions:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around"},progress:{textAlign:"center"}}),Oo=xo(ui.a,{});var So=Object(H.b)({endDate:Object(H.a)(Bi,function(t){return t.endDate}),error:Object(H.a)(Bi,function(t){return t.error}),fleets:Hn(),fleetHistory:Ki(),routeHistory:Hi(),selectedDevice:Vn(),selectedPosition:qi(),showLoader:Object(H.a)(Bi,function(t){return t.showLoader}),showMarkers:Ui(),startDate:Object(H.a)(Bi,function(t){return t.startDate})});var To,Co=Object(u.c)(So,function(t){return{changeEndDateTime:function(e){return t({type:Li,payload:e})},changeShowMarkers:function(e){return t((n=e.target.checked,{type:Di,payload:n}));var n},changeStartDateTime:function(e){return t({type:ki,payload:e})},clearHistory:function(){return t(Ni(null))},getRouteHistory:function(e){return t({type:Pi,payload:e})},selectDevice:function(e){return t(Fe(e))},selectPosition:function(e){return t(zi(e))}}}),Io=Object(h.d)(Co)(function(t){var e=t.changeEndDateTime,n=t.changeShowMarkers,i=t.changeStartDateTime,o=t.clearHistory,a=t.endDate,s=(t.error,t.getRouteHistory),l=t.fleets,c=t.routeHistory,u=t.selectDevice,h=t.selectPosition,p=t.selectedDevice,f=t.selectedPosition,d=t.showLoader,g=t.showMarkers,v=t.startDate,m=Eo(),y=xo(hi.a,{checked:g,onChange:n,name:"show-markers",color:"primary"});return Object(de.a)({key:"fleetHistory",reducer:Xi}),Object(fe.a)({key:"fleetHistory",saga:$i}),r.a.createElement(r.a.Fragment,null,xo("div",{className:m.historyForm},void 0,xo(ci.a,{className:m.autocomplete,options:l||[],getOptionLabel:function(t){return t.name||""},getOptionSelected:function(t,e){return t.name.match(new RegExp(e,"g"))},onChange:function(t,e){return u(e&&e.uniqueId)},renderInput:function(t){return r.a.createElement(pi.a,wo({},t,{label:r.a.createElement(P.FormattedMessage,to.selectDevice),size:"small",variant:"outlined"}))},value:p||""}),xo(Ii,{date:v,onChange:i}),xo(Ii,{date:a,minDate:v,onChange:e}),xo(fi.a,{control:xo(function(){return y},{}),label:r.a.createElement(P.FormattedMessage,to.showMarkers)}),xo("div",{className:m.actions},void 0,xo(di.a,{color:"primary",variant:"contained",onClick:function(){return p&&s({deviceId:p.id,from:v.toISOString(),to:a.toISOString()})},disabled:d},void 0,r.a.createElement(P.FormattedMessage,to.submit)),xo(di.a,{variant:"outlined",onClick:function(){return o()}},void 0,r.a.createElement(P.FormattedMessage,to.clear)))),d?xo("div",{className:m.progress},void 0,Oo):xo(bo,{data:c,onSelect:h,selected:f}))});function Po(t,e,n,i){To||(To="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:To,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Ro(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Mo(){return(Mo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Lo(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Fo=Object(X.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",borderRadius:"4px",boxShadow:"none",margin:"5px 5px",minWidth:306,maxWidth:358,top:55,zIndex:1,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"5px 5px"}},expanded:{}})(G.a),Do=Object(X.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:0,minHeight:30,"&$expanded":{minHeight:30}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Y.a),ko=Object(X.a)(function(){return{root:{padding:0,bottom:0,height:"80vh"}}})(W.a),Ao=Object(X.a)(function(){return{root:{width:"80%"}}})(U.a),jo=function(t){return{id:"".concat(t,"-tab"),"aria-controls":"".concat(t,"-tabpannel")}},No=function(t){var e=t.children,n=t.value,i=t.index,o=Lo(t,["children","value","index"]);return n===i&&r.a.createElement("div",Mo({role:"tabpanel",hidden:n!==i,id:"".concat(i,"-tabpanel"),"aria-labelledby":"".concat(i,"-tab")},o),e)},zo=Object(s.a)({expansionDetails:{display:"flex",flexFlow:"column",flexGrow:1},tabbar:{marginBottom:10}}),Go=Po(Ao,{}),Yo=Po(Ao,{animation:!1}),Wo=Po(Ao,{animation:"wave"}),Xo=Po(Io,{});var Bo=Object(H.b)({error:Object(H.a)(Un,function(t){return t.error}),fleets:Hn(),isFilterPanelOpen:Object(H.a)(Un,function(t){return t.isFilterPanelOpen}),isFleetPanelOpen:Object(H.a)(Un,function(t){return t.isFleetPanelOpen}),pinnedDeviceUniqueId:qn(),selectedDeviceUniqueId:Kn(),showLoader:Object(H.a)(Un,function(t){return t.showLoader})});var Uo=Object(u.c)(Bo,function(t){return{getFleets:function(){return t({type:_e})},onPin:function(e){return t(Le(e))},setFilterPanelState:function(){return t({type:Te})},setFleetPanelState:function(){return t({type:Se})},selectDeviceFromList:function(e){return t(Fe(e))}}}),Ho=Object(h.d)(Uo)(function(t){t.error;var e=t.fleets,n=t.isFleetPanelOpen,i=t.getFleets,a=t.onPin,s=t.pinnedDeviceUniqueId,l=t.setFleetPanelState,c=t.selectDeviceFromList,u=t.selectedDeviceUniqueId,h=(t.showLoader,zo()),p=Ro(Object(o.useState)("devices"),2),f=p[0],d=p[1];return Object(de.a)({key:"fleetsDrawer",reducer:Bn}),Object(fe.a)({key:"fleetsDrawer",saga:li}),Object(o.useEffect)(function(){i()},[]),Po(Fo,{square:!0,expanded:n,onChange:l},void 0,Po(Do,{"aria-controls":"panel1d-content",id:"panel1d-header"},void 0,Po(B.a,{},void 0,r.a.createElement(P.FormattedMessage,je.devices))),Po(ko,{className:h.expansionDetails},void 0,Po(ge.a,{className:h.tabbar,color:"default",position:"static"},void 0,Po(ve.a,{onChange:function(t,e){return d(e)},value:f,variant:"fullWidth"},void 0,r.a.createElement(me.a,Mo({label:r.a.createElement(P.FormattedMessage,je.devices),value:"devices",wrapped:!0},jo("devices"))),r.a.createElement(me.a,Mo({label:r.a.createElement(P.FormattedMessage,je.history),value:"history",wrapped:!0},jo("history"))))),Po(No,{index:"devices",value:f},void 0,e&&e.length?Po(pe,{fleets:e,isVisible:n,onClick:c,onPin:a,pinnedDevice:s,selectedDevice:u}):Po("div",{style:{width:"100%",display:"flex",flexFlow:"column",alignItems:"center"}},void 0,Go,Yo,Wo)),Po(No,{index:"history",value:f},void 0,Xo)))});function qo(t,e,n){return Math.min(Math.max(t,e),n)}var Ko="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function Vo(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=o,i=r):l>0&&(n+=a*l,i+=s*l)}return Zo(t,e,n,i)}function Zo(t,e,n,i){var o=n-t,r=i-e;return o*o+r*r}function Jo(t){return t*Math.PI/180}function $o(t,e){var n=t%e;return n*e<0?n+e:n}function Qo(t,e,n){return t+n*(e-t)}var tr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},er=6371008.8;function nr(t,e,n){var i=n||er,o=Jo(t[1]),r=Jo(e[1]),a=(r-o)/2,s=Jo(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function ir(){return function(){throw new Error("Unimplemented abstract method.")}()}var or=0;function rr(t){return t.ol_uid||(t.ol_uid=String(++or))}var ar="6.1.1",sr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lr=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===ar?ar:"v"+ar.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return sr(e,t),e}(Error);function cr(t,e){if(!t)throw new lr(e)}var ur={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},hr={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function pr(t){for(var e=br(),n=0,i=t.length;n<i;++n)Sr(e,t[n]);return e}function fr(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function dr(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function gr(t,e,n){var i,o;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function vr(t,e){return yr(t,e[0],e[1])}function mr(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function yr(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function _r(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=hr.UNKNOWN;return a<n?l|=hr.LEFT:a>o&&(l|=hr.RIGHT),s<i?l|=hr.BELOW:s>r&&(l|=hr.ABOVE),l===hr.UNKNOWN&&(l=hr.INTERSECTING),l}function br(){return[1/0,1/0,-1/0,-1/0]}function xr(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function wr(t){return xr(1/0,1/0,-1/0,-1/0,t)}function Er(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Or(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Sr(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Tr(t,e){for(var n=0,i=e.length;n<i;++n)Sr(t,e[n]);return t}function Cr(t,e,n,i,o){for(;n<i;n+=o)Ir(t,e[n],e[n+1]);return t}function Ir(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Pr(t){var e=0;return Yr(t)||(e=zr(t)*kr(t)),e}function Rr(t){return[t[0],t[1]]}function Mr(t){return[t[2],t[1]]}function Lr(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Fr(t,e){var n;return e===ur.BOTTOM_LEFT?n=Rr(t):e===ur.BOTTOM_RIGHT?n=Mr(t):e===ur.TOP_LEFT?n=jr(t):e===ur.TOP_RIGHT?n=Nr(t):cr(!1,13),n}function Dr(t,e,n,i,o){var r=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),c=r*s,u=r*l,h=a*s,p=a*l,f=t[0],d=t[1],g=f-c+p,v=f-c-p,m=f+c-p,y=f+c+p,_=d-u-h,b=d-u+h,x=d+u+h,w=d+u-h;return xr(Math.min(g,v,m,y),Math.min(_,b,x,w),Math.max(g,v,m,y),Math.max(_,b,x,w),o)}function kr(t){return t[3]-t[1]}function Ar(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return Gr(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):wr(i),i}function jr(t){return[t[0],t[3]]}function Nr(t){return[t[2],t[3]]}function zr(t){return t[2]-t[0]}function Gr(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Yr(t){return t[2]<t[0]||t[3]<t[1]}function Wr(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return xr(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}var Xr={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Br={};Br[Xr.DEGREES]=2*Math.PI*6370997/360,Br[Xr.FEET]=.3048,Br[Xr.METERS]=1,Br[Xr.USFEET]=1200/3937;var Ur=Xr,Hr=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Br[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),qr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kr=6378137,Vr=Math.PI*Kr,Zr=[-Vr,-Vr,Vr,Vr],Jr=[-180,-85,180,85],$r=function(t){function e(e){return t.call(this,{code:e,units:Ur.METERS,extent:Zr,global:!0,worldExtent:Jr,getPointResolution:function(t,e){return t/Ko(e[1]/Kr)}})||this}return qr(e,t),e}(Hr),Qr=[new $r("EPSG:3857"),new $r("EPSG:102100"),new $r("EPSG:102113"),new $r("EPSG:900913"),new $r("urn:ogc:def:crs:EPSG:6.18:3:3857"),new $r("urn:ogc:def:crs:EPSG::3857"),new $r("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ta(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=Vr,s=0;s<i;s+=o){r[s]=a*t[s]/180;var l=Kr*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),r[s+1]=l}return r}function ea(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=0;a<i;a+=o)r[a]=180*t[a]/Vr,r[a+1]=360*Math.atan(Math.exp(t[a+1]/Kr))/Math.PI-90;return r}var na=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ia=[-180,-90,180,90],oa=6378137*Math.PI/180,ra=function(t){function e(e,n){return t.call(this,{code:e,units:Ur.DEGREES,extent:ia,axisOrientation:n,global:!0,metersPerUnit:oa,worldExtent:ia})||this}return na(e,t),e}(Hr),aa=[new ra("CRS:84"),new ra("EPSG:4326","neu"),new ra("urn:ogc:def:crs:EPSG::4326","neu"),new ra("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ra("urn:ogc:def:crs:OGC:1.3:CRS84"),new ra("urn:ogc:def:crs:OGC:2:84"),new ra("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ra("urn:x-ogc:def:crs:EPSG:4326","neu")],sa="function"===typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function la(t){for(var e in t)delete t[e]}var ca="function"===typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function ua(t){var e;for(e in t)return!1;return!e}var ha={};function pa(t,e,n){var i=t.getCode(),o=e.getCode();i in ha||(ha[i]={}),ha[i][o]=n}var fa={};function da(t,e,n){var i;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];i=e}else i=t.slice();return i}function ga(t,e,n){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function va(t){!function(t,e){fa[t]=e}(t.getCode(),t),pa(t,t,da)}function ma(t){return"string"===typeof t?fa[t]||null:t||null}function ya(t,e,n,i){var o,r=(t=ma(t)).getPointResolutionFunc();if(r)o=r(e,n),i&&i!==t.getUnits()&&(a=t.getMetersPerUnit())&&(o=o*a/Br[i]);else if(t.getUnits()==Ur.DEGREES&&!i||i==Ur.DEGREES)o=e;else{var a,s=Ea(t,ma("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(nr((l=s(l,l,2)).slice(0,2),l.slice(2,4))+nr(l.slice(4,6),l.slice(6,8)))/2,void 0!==(a=i?Br[i]:t.getMetersPerUnit())&&(o/=a)}return o}function _a(t){!function(t){t.forEach(va)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&pa(e,t,da)})})}function ba(t,e){return t?"string"===typeof t?ma(t):t:ma(e)}function xa(t,e){return Sa(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function wa(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Ea(t,e)===da&&n}function Ea(t,e){var n=function(t,e){var n;return t in ha&&e in ha[t]&&(n=ha[t][e]),n}(t.getCode(),e.getCode());return n||(n=ga),n}function Oa(t,e){return Ea(ma(t),ma(e))}function Sa(t,e,n){return Oa(e,n)(t,void 0,t.length)}function Ta(t,e,n){return Wr(t,Oa(e,n))}var Ca,Ia,Pa,Ra=null;function Ma(){return Ra}function La(t,e){return Ra?Sa(t,e,Ra):t}function Fa(t,e){return Ra?Sa(t,Ra,e):t}function Da(t,e){return Ra?Ta(t,e,Ra):t}function ka(t,e){return Ra?Ta(t,Ra,e):t}_a(Qr),_a(aa),Ca=Qr,Ia=ta,Pa=ea,aa.forEach(function(t){Ca.forEach(function(e){pa(t,e,Ia),pa(e,t,Pa)})});var Aa=function(t){return r.a.createElement(r.a.Fragment,null,t.children)};Aa.propTypes={children:c.a.node};var ja=Aa;function Na(t,e,n,i,o){if(i&&i!==t&&(n=n.bind(i)),o){var r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function za(t,e,n,i){return Na(t,e,n,i,!0)}function Ga(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),la(t))}var Ya={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"},Wa="propertychange",Xa=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Ba(t,e){return t>e?1:t<e?-1:0}function Ua(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var o=void 0;if(n>0){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return i-1}function Ha(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function qa(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,o=0;o<i;o++)t[t.length]=n[o]}function Ka(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Va(){return!0}function Za(){return!1}function Ja(){}var $a=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Qa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ts=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return Qa(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=[],this.listeners_[t]=n),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new $a(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var r=0,a=o.length;r<a;++r)if(!1===o[r].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,Ja);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){la(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(t in this.pendingRemovals_?(n[i]=Ja,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(Xa),es=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var ns=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return es(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Ya.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Na(this,t[o],e);return i}return Na(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=za(this,t[o],e);return i}return za(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(ts),is=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),os=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.key=n,o.oldValue=i,o}return is(e,t),e}($a),rs=function(t){function e(e){var n=t.call(this)||this;return rr(n),n.values_={},void 0!==e&&n.setProperties(e),n}return is(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return sa({},this.values_)},e.prototype.notify=function(t,e){var n;n=ss(t),this.dispatchEvent(new os(n,t,e)),n=Wa,this.dispatchEvent(new os(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(ns),as={};function ss(t){return as.hasOwnProperty(t)?as[t]:as[t]="change:"+t}var ls=rs,cs={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},us=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hs=function(t){function e(e){var n=t.call(this)||this,i=sa({},e);return i[cs.OPACITY]=void 0!==e.opacity?e.opacity:1,cr("number"===typeof i[cs.OPACITY],64),i[cs.VISIBLE]=void 0===e.visible||e.visible,i[cs.Z_INDEX]=e.zIndex,i[cs.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[cs.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,i[cs.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,i[cs.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return us(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=qo(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return ir()},e.prototype.getLayerStatesArray=function(t){return ir()},e.prototype.getExtent=function(){return this.get(cs.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(cs.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(cs.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(cs.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(cs.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(cs.OPACITY)},e.prototype.getSourceState=function(){return ir()},e.prototype.getVisible=function(){return this.get(cs.VISIBLE)},e.prototype.getZIndex=function(){return this.get(cs.Z_INDEX)},e.prototype.setExtent=function(t){this.set(cs.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(cs.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(cs.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(cs.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(cs.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){cr("number"===typeof t,64),this.set(cs.OPACITY,t)},e.prototype.setVisible=function(t){this.set(cs.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(cs.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(ls),ps="prerender",fs="postrender",ds="precompose",gs="postcompose",vs="rendercomplete",ms={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},ys=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function _s(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}var bs=function(t){function e(e){var n=this,i=sa({},e);delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(ss(cs.SOURCE),n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return ys(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(cs.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ms.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Ga(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Na(t,Ya.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Ga(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Ga(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Na(t,ds,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Na(this,Ya.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(cs.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(hs),xs="preload",ws="useInterimTilesOnError",Es=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Os=function(t){function e(e){var n=this,i=e||{},o=sa({},i);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return Es(e,t),e.prototype.getPreload=function(){return this.get(xs)},e.prototype.setPreload=function(t){this.set(xs,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ws)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ws,t)},e}(bs),Ss=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Ts(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new Ss(t,e,n,i)}var Cs=Ss,Is={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function Ps(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Rs(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function Ms(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function Ls(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Fs(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Ds(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var ks,As,js=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ns=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=i,r.context=o,r}return js(e,t),e}($a),zs="ol-hidden",Gs="ol-selectable",Ys="ol-unselectable",Ws="ol-control",Xs="ol-collapsed",Bs=(As={},function(t){if(ks||(ks=document.createElement("div").style),!(t in As)){ks.font=t;var e=ks.fontFamily,n=ks.fontWeight,i=ks.fontStyle;if(ks.font="",!e)return null;var o=e.split(/,\s?/);As[t]={families:o,weight:n,style:i}}return As[t]});new Array(6);function Us(t,e,n,i,o,r,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=a,t}function Hs(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function qs(t,e,n,i,o,r,a,s){var l=Math.sin(r),c=Math.cos(r);return t[0]=i*c,t[1]=o*l,t[2]=-i*l,t[3]=o*c,t[4]=a*i*c-s*i*l+e,t[5]=a*o*l+s*o*c+n,t}function Ks(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];cr(0!==i,32);var o=e[0],r=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/i,t[1]=-r/i,t[2]=-a/i,t[3]=o/i,t[4]=(a*c-s*l)/i,t[5]=-(o*c-r*l)/i,t}function Vs(t){return"matrix("+t.join(", ")+")"}var Zs,Js=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$s=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return Js(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(Ya.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return cr(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return cr(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){cr(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(ts),Qs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tl=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return Qs(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var i=t.prototype.get.call(this,e),o=rr(n);return o in this.consumers||(this.consumers[o]={}),this.consumers[o][e]=!0,i},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=0,n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[rr(t)]},e}($s),el=[],nl=[0,0,0,0],il=new tl,ol={},rl=null,al={},sl=function(){var t,e,n=100,i=ol,o="32px ",r=["monospace","serif"],a=r.length,s="wmytzilWMYTZIL@#/&?$%10\uf013";function l(t,n,i){for(var l=ll(),c=!0,u=0;u<a;++u){var h=r[u];if(l.font=t+" "+n+" "+o+h,e=l.measureText(s).width,i!=h){l.font=t+" "+n+" "+o+i+","+h;var p=l.measureText(s).width;c=c&&p!=e}}return!!c}function c(){var e=!0;for(var o in i)i[o]<n&&(l.apply(this,o.split("\n"))?(i[o]=n,la(al),rl=null,Zs=void 0,il.getCount()&&il.clear()):(++i[o],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Bs(e);if(o)for(var r=o.families,a=0,s=r.length;a<s;++a){var u=r[a],h=o.style+"\n"+o.weight+"\n"+u;h in i||(i[h]=n,l(o.style,o.weight,u)||(i[h]=0,void 0===t&&(t=setInterval(c,32))))}}}();function ll(){return rl||(rl=Ps(1,1)),rl}var cl,ul,hl=(ul=al,function(t){var e=ul[t];return void 0==e&&(cl||((cl=document.createElement("div")).innerHTML="M",cl.style.margin="0 !important",cl.style.padding="0 !important",cl.style.position="absolute !important",cl.style.left="-99999px !important"),cl.style.font=t,document.body.appendChild(cl),e=cl.offsetHeight,ul[t]=e,document.body.removeChild(cl)),e});function pl(t,e){var n=ll();return t!=Zs&&(n.font=t,Zs=n.font),n.measureText(e).width}function fl(t,e,n){if(e in n)return n[e];var i=pl(t,e);return n[e]=i,i}function dl(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var gl=[1,0,0,1,0,0];function vl(t,e,n,i,o,r,a,s,l,c,u){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,o,r,a,s,l,c,a*u,s*u),1!=n&&(t.globalAlpha=h),e&&t.setTransform.apply(t,gl)}var ml={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},yl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_l=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return yl(e,t),e.prototype.getFeatures=function(t){return ir()},e.prototype.prepareFrame=function(t){return ir()},e.prototype.renderFrame=function(t,e){return ir()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,o){var r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){},e.prototype.getDataAtPixel=function(t,e,n){return ir()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===ml.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=ml.LOADED&&e!=ml.ERROR&&t.addEventListener(Ya.CHANGE,this.boundHandleImageChange_),e==ml.IDLE&&(t.load(),e=t.getState()),e==ml.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ms.READY&&t.changed()},e}(ns),bl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xl=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=Ps(1,1).canvas,n}return bl(e,t),e.prototype.useContainer=function(t,e,n){var i,o,r=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===r&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(o=s.getContext("2d")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement("div")).className=r;var a=i.style;a.position="absolute",a.width="100%",a.height="100%";var s=(o=Ps()).canvas;i.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=i,this.context=o}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,o=e.size[0]*i/2,r=e.size[1]*i/2,a=e.viewState.rotation,s=jr(n),l=Nr(n),c=Mr(n),u=Rr(n);Hs(e.coordinateToPixelTransform,s),Hs(e.coordinateToPixelTransform,l),Hs(e.coordinateToPixelTransform,c),Hs(e.coordinateToPixelTransform,u),t.save(),dl(t,-a,o,r),t.beginPath(),t.moveTo(s[0]*i,s[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(u[0]*i,u[1]*i),t.clip(),dl(t,a,o,r)},e.prototype.clipUnrotated=function(t,e,n){var i=jr(n),o=Nr(n),r=Mr(n),a=Rr(n);Hs(e.coordinateToPixelTransform,i),Hs(e.coordinateToPixelTransform,o),Hs(e.coordinateToPixelTransform,r),Hs(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;Hs(s,i),Hs(s,o),Hs(s,r),Hs(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var o=new Ns(t,this.inversePixelTransform,n,e);i.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(ps,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(fs,t,e)},e.prototype.getRenderTransform=function(t,e,n,i,o,r,a){var s=o/2,l=r/2,c=i/e,u=-c,h=-t[0]+a,p=-t[1];return qs(this.tempTransform_,s,l,c,u,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var i,o=Hs(this.inversePixelTransform,t.slice()),r=this.context;try{i=r.getImageData(Math.round(o[0]),Math.round(o[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:i}return 0===i[3]?null:i},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=Vs(t),this.createTransformStringCanvas_.style.transform},e}(_l),wl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),El=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Cs(0,0,0,0),n}return wl(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==Is.LOADED||n==Is.EMPTY||n==Is.ERROR&&!i},e.prototype.getTile=function(t,e,n,i){var o=i.pixelRatio,r=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,o,r);return s.getState()==Is.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(Is.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,o=i.projection,r=i.resolution,a=i.center,s=i.rotation,l=t.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),p=u.getTileGridForProjection(o),f=p.getZForResolution(r,u.zDirection),d=p.getResolution(f),g=t.extent,v=n.extent&&ka(n.extent,o);v&&(g=Ar(g,ka(n.extent,o)));var m=u.getTilePixelRatio(l),y=Math.round(t.size[0]*m),_=Math.round(t.size[1]*m);if(s){var b=Math.round(Math.sqrt(y*y+_*_));y=b,_=b}var x=d*y/2/m,w=d*_/2/m,E=[a[0]-x,a[1]-w,a[0]+x,a[1]+w],O=p.getTileRangeForExtentAndZ(g,f),S={};S[f]={};var T=this.createLoadedTileFinder(u,o,S),C=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var P=O.minX;P<=O.maxX;++P)for(var R=O.minY;R<=O.maxY;++R){var M=this.getTile(f,P,R,t);if(this.isDrawableTile(M)){var L=rr(this);if(M.getState()==Is.LOADED){S[f][M.tileCoord.toString()]=M;var F=M.inTransition(L);this.newTiles_||!F&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(L,t.time))continue}var D=p.getTileCoordChildTileRange(M.tileCoord,I,C),k=!1;D&&(k=T(f+1,D)),k||p.forEachTileCoordParentTileRange(M.tileCoord,T,I,C)}var A=d/r;qs(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/m,1/m,s,-y/2,-_/2);var j=this.createTransformString(this.pixelTransform);this.useContainer(e,j,n.opacity);var N=this.context,z=N.canvas;Ks(this.inversePixelTransform,this.pixelTransform),qs(this.tempTransform_,y/2,_/2,A,A,0,-y/2,-_/2),z.width!=y||z.height!=_?(z.width=y,z.height=_):this.containerReused||N.clearRect(0,0,y,_),v&&this.clipUnrotated(N,t,v),this.preRender(N,t),this.renderedTiles.length=0;var G,Y,W,X=Object.keys(S).map(Number);X.sort(Ba),1!==n.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(G=[],Y=[]):X=X.reverse();for(var B=X.length-1;B>=0;--B){var U=X[B],H=u.getTilePixelSize(U,l,o),q=p.getResolution(U)/d,K=H[0]*q*A,V=H[1]*q*A,Z=p.getTileCoordForCoordAndZ(jr(E),U),J=p.getTileCoordExtent(Z),$=Hs(this.tempTransform_,[m*(J[0]-E[0])/d,m*(E[3]-J[3])/d]),Q=m*u.getGutterForProjection(o),tt=S[U];for(var et in tt){var nt=(M=tt[et]).tileCoord,it=$[0]-(Z[1]-nt[1])*K,ot=Math.round(it+K),rt=$[1]-(Z[2]-nt[2])*V,at=Math.round(rt+V),st=ot-(P=Math.round(it)),lt=at-(R=Math.round(rt)),ct=f===U;if(!(F=ct&&1!==M.getAlpha(rr(this),t.time)))if(G){N.save(),W=[P,R,P+st,R,P+st,R+lt,P,R+lt];for(var ut=0,ht=G.length;ut<ht;++ut)if(f!==U&&U<Y[ut]){var pt=G[ut];N.beginPath(),N.moveTo(W[0],W[1]),N.lineTo(W[2],W[3]),N.lineTo(W[4],W[5]),N.lineTo(W[6],W[7]),N.moveTo(pt[6],pt[7]),N.lineTo(pt[4],pt[5]),N.lineTo(pt[2],pt[3]),N.lineTo(pt[0],pt[1]),N.clip()}G.push(W),Y.push(U)}else N.clearRect(P,R,st,lt);this.drawTileImage(M,t,P,R,st,lt,Q,ct,n.opacity),G&&!F&&N.restore(),this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,u,M)}}return this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Er(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(t,u,p,l,o,g,f,c.getPreload()),this.updateCacheSize_(t,u),this.scheduleExpireCache(t,u),this.postRender(N,t),n.extent&&N.restore(),j!==z.style.transform&&(z.style.transform=j),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,r,a,s,l){var c=this.getTileImage(t);if(c){var u=rr(this),h=s?t.getAlpha(u,e.time):1,p=l*h,f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,i,o,r),f&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=rr(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=rr(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=rr(e),i=0;n in t.usedTiles&&(i+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(i+=Object.keys(t.wantedTiles[n]).length);var o=e.tileCache;o.highWaterMark<i&&(o.highWaterMark=i)},e.prototype.manageTilePyramid=function(t,e,n,i,o,r,a,s,l){var c=rr(e);c in t.wantedTiles||(t.wantedTiles[c]={});var u,h,p,f,d,g,v=t.wantedTiles[c],m=t.tileQueue;for(g=n.getMinZoom();g<=a;++g)for(h=n.getTileRangeForExtentAndZ(r,g,h),p=n.getResolution(g),f=h.minX;f<=h.maxX;++f)for(d=h.minY;d<=h.maxY;++d)a-g<=s?((u=e.getTile(g,f,d,i,o)).getState()==Is.IDLE&&(v[u.getKey()]=!0,m.isKeyQueued(u.getKey())||m.enqueue([u,c,n.getTileCoordCenter(u.tileCoord),p])),void 0!==l&&l(u)):e.useTile(g,f,d,o)},e}(xl);El.prototype.getLayer;var Ol=El,Sl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tl=function(t){function e(e){return t.call(this,e)||this}return Sl(e,t),e.prototype.createRenderer=function(){return new Ol(this)},e}(Os),Cl=.5;function Il(t){return Math.pow(t,3)}function Pl(t){return 1-Il(1-t)}function Rl(t){return 3*t*t-2*t*t*t}function Ml(t){return t}var Ll=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fl=function(t){function e(e,n,i){var o=t.call(this)||this,r=i||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o}return Ll(e,t),e.prototype.changed=function(){this.dispatchEvent(Ya.CHANGE)},e.prototype.disposeInternal=function(){this.setState(Is.ABORT)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Is.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Is.LOADED){t.interimTile=null;break}t.getState()==Is.LOADING?e=t:t.getState()==Is.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Is.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){ir()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Il(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ts),Dl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kl=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=i,r.resolution=n,r.state=o,r}return Dl(e,t),e.prototype.changed=function(){this.dispatchEvent(Ya.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return ir()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){ir()},e}(ts),Al="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",jl=-1!==Al.indexOf("firefox"),Nl=(-1!==Al.indexOf("safari")&&Al.indexOf("chrom"),-1!==Al.indexOf("webkit")&&-1==Al.indexOf("edge")),zl=-1!==Al.indexOf("macintosh"),Gl=window.devicePixelRatio||1,Yl="undefined"!==typeof Image&&Image.prototype.decode,Wl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Xl(t,e,n){var i=t;if(i.src&&Yl){var o=i.decode(),r=!0;return o.then(function(){r&&e()}).catch(function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){r=!1}}var a=[za(i,Ya.LOAD,e),za(i,Ya.ERROR,n)];return function(){a.forEach(Ga)}}!function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,i,ml.IDLE)||this;return s.src_=o,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.state=ml.IDLE,s.imageLoadFunction_=a,s}Wl(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ml.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=kr(this.extent)/this.image_.height),this.state=ml.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ml.IDLE&&this.state!=ml.ERROR||(this.state=ml.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Xl(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(kl);var Bl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ul(){var t=Ps(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var Hl=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=r,s}return Bl(e,t),e.prototype.disposeInternal=function(){this.state==Is.LOADING&&(this.unlistenImage_(),this.image_=Ul()),this.interimTile&&this.interimTile.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=Is.ERROR,this.unlistenImage_(),this.image_=Ul(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Is.LOADED:this.state=Is.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Is.ERROR&&(this.state=Is.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Is.IDLE&&(this.state=Is.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Xl(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Fl);function ql(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Kl(t,e,n){return t+"/"+e+"/"+n}function Vl(t){return Kl(t[0],t[1],t[2])}var Zl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jl=function(t){function e(e){return t.call(this,e)||this}return Zl(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Vl(e.tileCoord)),e.dispose())}.bind(this))}},e}($s);function $l(t,e,n,i){var o=n-t,r=i-e,a=Math.sqrt(o*o+r*r);return[Math.round(n+o/a),Math.round(i+r/a)]}function Ql(t,e,n,i,o,r,a,s,l,c,u){var h=Ps(Math.round(n*t),Math.round(n*e));if(0===l.length)return h.canvas;h.scale(n,n);var p=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){Or(p,t.extent)});var f=zr(p),d=kr(p),g=Ps(Math.round(n*f/i),Math.round(n*d/i)),v=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-p[0],o=-(t.extent[3]-p[3]),r=zr(t.extent),a=kr(t.extent);g.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,i*v,o*v,r*v,a*v)});var m=jr(a);return s.getTriangles().forEach(function(t,e,o){var a=t.source,s=t.target,l=a[0][0],c=a[0][1],u=a[1][0],f=a[1][1],d=a[2][0],v=a[2][1],y=(s[0][0]-m[0])/r,_=-(s[0][1]-m[1])/r,b=(s[1][0]-m[0])/r,x=-(s[1][1]-m[1])/r,w=(s[2][0]-m[0])/r,E=-(s[2][1]-m[1])/r,O=l,S=c;l=0,c=0;var T=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,o=Math.abs(t[n][n]),r=n+1;r<e;r++){var a=Math.abs(t[r][n]);a>o&&(o=a,i=r)}if(0===o)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=c*t[n][u]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}([[u-=O,f-=S,0,0,b-y],[d-=O,v-=S,0,0,w-y],[0,0,u,f,x-_],[0,0,d,v,E-_]]);if(T){h.save(),h.beginPath();var C=(y+b+w)/3,I=(_+x+E)/3,P=$l(C,I,y,_),R=$l(C,I,b,x),M=$l(C,I,w,E);h.moveTo(R[0],R[1]),h.lineTo(P[0],P[1]),h.lineTo(M[0],M[1]),h.clip(),h.transform(T[0],T[2],T[1],T[3],y,_),h.translate(p[0]-O,p[3]-S),h.scale(i/n,-i/n),h.drawImage(g.canvas,0,0),h.restore()}}),u&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var i=t.target,o=(i[0][0]-m[0])/r,a=-(i[0][1]-m[1])/r,s=(i[1][0]-m[0])/r,l=-(i[1][1]-m[1])/r,c=(i[2][0]-m[0])/r,u=-(i[2][1]-m[1])/r;h.beginPath(),h.moveTo(s,l),h.lineTo(o,a),h.lineTo(c,u),h.closePath(),h.stroke()}),h.restore()),h.canvas}var tc=10,ec=function(){function t(t,e,n,i,o){this.sourceProj_=t,this.targetProj_=e;var r={},a=Oa(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&zr(i)==zr(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?zr(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?zr(this.targetProj_.getExtent()):null;var s=jr(n),l=Nr(n),c=Mr(n),u=Rr(n),h=this.transformInv_(s),p=this.transformInv_(l),f=this.transformInv_(c),d=this.transformInv_(u);if(this.addQuad_(s,l,c,u,h,p,f,d,tc),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}r={}}return t.prototype.addTriangle_=function(t,e,n,i,o,r){this.triangles_.push({source:[i,o,r],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,o,r,a,s,l){var c=pr([o,r,a,s]),u=this.sourceWorldWidth_?zr(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&u>.5&&u<1,f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)f=zr(pr([t,e,n,i]))/this.targetWorldWidth_>.25||f;!p&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(f||!this.maxSourceExtent_||Gr(c,this.maxSourceExtent_)){if(!f&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1]))){if(!(l>0))return;f=!0}if(l>0){if(!f){var d=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(d),v=void 0;if(p)v=($o(o[0],h)+$o(a[0],h))/2-$o(g[0],h);else v=(o[0]+a[0])/2-g[0];var m=(o[1]+a[1])/2-g[1];f=v*v+m*m>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(y),b=[(i[0]+t[0])/2,(i[1]+t[1])/2],x=this.transformInv_(b);this.addQuad_(t,e,y,b,o,r,_,x,l-1),this.addQuad_(b,y,n,i,x,_,a,s,l-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(w),O=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(O);this.addQuad_(t,w,O,i,o,E,S,s,l-1),this.addQuad_(w,e,n,O,E,r,a,S,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,o,a,s),this.addTriangle_(t,e,n,o,r,a)}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var o=e.source;Sr(t,o[0]),Sr(t,o[1]),Sr(t,o[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),nc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ic=function(t){function e(e,n,i,o,r,a,s,l,c,u,h){var p=t.call(this,r,Is.IDLE)||this;p.renderEdges_=void 0!==h&&h,p.pixelRatio_=s,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=o,p.wrappedTileCoord_=a||r,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=o.getTileCoordExtent(p.wrappedTileCoord_),d=p.targetTileGrid_.getExtent(),g=p.sourceTileGrid_.getExtent(),v=d?Ar(f,d):f;if(0===Pr(v))return p.state=Is.EMPTY,p;var m=e.getExtent();m&&(g=g?Ar(g,m):m);var y=o.getResolution(p.wrappedTileCoord_[0]),_=function(t,e,n,i){var o=Sa(n,e,t),r=ya(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(r*=a);var s=t.getMetersPerUnit();void 0!==s&&(r/=s);var l=t.getExtent();if(!l||vr(l,o)){var c=ya(t,r,o)/r;isFinite(c)&&c>0&&(r/=c)}return r}(e,i,Lr(v),y);if(!isFinite(_)||_<=0)return p.state=Is.EMPTY,p;var b=void 0!==u?u:Cl;if(p.triangulation_=new ec(e,i,v,g,_*b),0===p.triangulation_.getTriangles().length)return p.state=Is.EMPTY,p;p.sourceZ_=n.getZForResolution(_);var x=p.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(x[1]=qo(x[1],g[1],g[3]),x[3]=qo(x[3],g[1],g[3])):x=Ar(x,g)),Pr(x)){for(var w=n.getTileRangeForExtentAndZ(x,p.sourceZ_),E=w.minX;E<=w.maxX;E++)for(var O=w.minY;O<=w.maxY;O++){var S=c(p.sourceZ_,E,O,s);S&&p.sourceTiles_.push(S)}0===p.sourceTiles_.length&&(p.state=Is.EMPTY)}else p.state=Is.EMPTY;return p}return nc(e,t),e.prototype.disposeInternal=function(){this.state==Is.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==Is.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=Is.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],o="number"===typeof n?n:n[1],r=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ql(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),r,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=Is.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Is.IDLE){this.state=Is.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var o=e.getState();if(o==Is.IDLE||o==Is.LOADING){t++;var r=Na(e,Ya.CHANGE,function(n){var i=e.getState();i!=Is.LOADED&&i!=Is.ERROR&&i!=Is.EMPTY||(Ga(r),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==Is.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Ga),this.sourcesListenerKeys_=null},e}(Fl);function oc(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(o,a[2].toString()).replace(r,function(){var t=a[0],n=e.getFullTileRange(t);return cr(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function rc(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=oc(t[o],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),r=$o(o,t.length);return t[r](e,n,i)}}}(i)}function ac(t,e,n){}function sc(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var lc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function cc(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var uc=function(t){function e(e){var n=t.call(this)||this;return n.projection_=ma(e.projection),n.attributions_=cc(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:ms.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return lc(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return ir()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=cc(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(ls),hc=42,pc=256,fc=[0,0,0],dc=function(){function t(t){var e,n,i,o;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,cr((e=this.resolutions_,n=!0,i=function(t,e){return e-t}||Ba,e.every(function(t,o){if(0===o)return!0;var r=i(e[o-1],t);return!(r>0||n&&0===r)})),17),!t.origins)for(var r=0,a=this.resolutions_.length-1;r<a;++r)if(o){if(this.resolutions_[r]/this.resolutions_[r+1]!==o){o=void 0;break}}else o=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=o,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,cr(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=jr(s)),cr(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,cr(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:pc,cr(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Cs(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),o=i.minX,r=i.maxX;o<=r;++o)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var o,r,a=null,s=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):a=this.getTileCoordExtent(t,i);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Ts(o=Math.floor(o/2),o,r=Math.floor(r/2),r,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],o=2*t[2];return Ts(i,i+1,o,o+1,e)}var r=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),o=this.getResolution(t),r=sc(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*r[0]*o,s=i[0]+(e.maxX+1)*r[0]*o;return xr(a,i[1]+e.minY*r[1]*o,s,i[1]+(e.maxY+1)*r[1]*o,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=fc;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var o=i[1],r=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),Ts(o,i[1],r,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=sc(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=sc(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*o[0]*i,a=n[1]-(t[2]+1)*o[1]*i;return xr(r,a,r+o[0]*i,a+o[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var r=this.getZForResolution(n),a=n/this.getResolution(r),s=this.getOrigin(r),l=sc(this.getTileSize(r),this.tmpSize_),c=i?.5:0,u=i?.5:0,h=Math.floor((t-s[0])/n+c),p=Math.floor((s[1]-e)/n+u),f=a*h/l[0],d=a*p/l[1];return i?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),ql(r,f,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var r=this.getOrigin(n),a=this.getResolution(n),s=sc(this.getTileSize(n),this.tmpSize_),l=i?.5:0,c=i?.5:0,u=Math.floor((t-r[0])/a+l),h=Math.floor((r[1]-e)/a+c),p=u/s[0],f=h/s[1];return i?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),ql(n,p,f,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){return qo(Ua(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();function gc(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var o=void 0!==i?i:ur.TOP_LEFT,r=vc(t,e,n);return new dc({extent:t,origin:Fr(t,o),resolutions:r,tileSize:n})}(mc(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function vc(t,e,n){for(var i=void 0!==e?e:hc,o=kr(t),r=zr(t),a=sc(void 0!==n?n:pc),s=Math.max(r/a[0],o/a[1]),l=i+1,c=new Array(l),u=0;u<l;++u)c[u]=s/Math.pow(2,u);return c}function mc(t){var e=(t=ma(t)).getExtent();if(!e){var n=180*Br[Ur.DEGREES]/t.getMetersPerUnit();e=xr(-n,-n,n,n)}return e}var yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_c=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.cacheSize;if(void 0===i){var o=[256,256],r=e.tileGrid;r&&sc(r.getTileSize(r.getMinZoom()),o);var a="undefined"!==typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;i=4*Math.ceil(s/o[0])*Math.ceil(l/o[1])}return n.tileCache=new Jl(i),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return yc(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,a,s,l=!0,c=n.minX;c<=n.maxX;++c)for(var u=n.minY;u<=n.maxY;++u)a=Kl(e,c,u),s=!1,o.containsKey(a)&&(s=(r=o.get(a)).getState()===Is.LOADED)&&(s=!1!==i(r)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return ir()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:gc(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!wa(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,o,r,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=sc(a.getTileSize(t),this.tmpSize);return 1==s?l:(i=l,o=s,void 0===(r=this.tmpSize)&&(r=[0,0]),r[0]=i[0]*o+.5|0,r[1]=i[1]*o+.5|0,r)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],o=t.getTileCoordCenter(e),r=mc(n);if(vr(r,o))return e;var a=zr(r),s=Math.ceil((r[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var r,a=e.getExtent();return!(r=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||r.containsXY(i,o)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,i){},e}(uc),bc=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return yc(e,t),e}($a),xc=_c,wc="tileloadstart",Ec="tileloadend",Oc="tileloaderror",Sc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tc=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):ac,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return Sc(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=rr(n),o=n.getState();o==Is.LOADING?(this.tileLoadingKeys_[i]=!0,e=wc):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=o==Is.ERROR?Oc:o==Is.LOADED||o==Is.ABORT?Ec:void 0),void 0!=e&&this.dispatchEvent(new bc(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),o=n[2].charCodeAt(0),r=void 0;for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(rc(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=Kl(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(xc),Cc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ic(t,e){t.getImage().src=e}var Pc=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ic,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Hl,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Cc(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!wa(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!wa(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!wa(e,t)){var n=rr(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=gc(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||wa(e,t))return this.tileCache;var n=rr(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Jl(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,o,r){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,o),l=s?this.tileUrlFunction(s,i,o):void 0,c=new this.tileClass(a,void 0!==l?Is.IDLE:Is.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=r,c.addEventListener(Ya.CHANGE,this.handleTileChange.bind(this)),c},e.prototype.getTile=function(t,e,n,i,o){var r=this.getProjection();if(r&&o&&!wa(r,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],l=void 0,c=Vl(s);a.containsKey(c)&&(l=a.get(c));var u=this.getKey();if(l&&l.key==u)return l;var h=this.getTileGridForProjection(r),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(s,o),d=new ic(r,h,o,p,s,f,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,i,r||o)},e.prototype.getTileInternal=function(t,e,n,i,o){var r=null,a=Kl(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((r=this.tileCache.get(a)).key!=s){var l=r;r=this.createTile_(t,e,n,i,o,s),l.getState()==Is.IDLE?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(a,r)}}else r=this.createTile_(t,e,n,i,o,s),this.tileCache.set(a,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=ma(t);if(n){var i=rr(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(Tc),Rc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mc=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||ma("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:vc(n,e.maxZoom,e.tileSize)};return new dc(i)}({extent:mc(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return Rc(e,t),e}(Pc),Lc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fc='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',Dc=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[Fc];var o=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",r=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:o,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:r,wrapX:i.wrapX,attributionsCollapsible:!1})||this}return Lc(e,t),e}(Mc),kc=r.a.createContext({}),Ac=kc.Provider,jc=(kc.Consumer,kc),Nc=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,zc=/^([a-z]*)$|^hsla?\(.*\)$/i;function Gc(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var Yc=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var o=0;for(var r in t)0===(3&o++)&&(delete t[r],--e)}i=function(t){var e,n,i,o,r;zc.exec(t)&&(t=Gc(t));if(Nc.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),o=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(o=(o<<4)+o)),r=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?Xc(r=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((r=t.slice(4,-1).split(",").map(Number)).push(1),Xc(r)):cr(!1,14);return r}(n),t[n]=i,++e}return i}}();function Wc(t){return Array.isArray(t)?t:Yc(t)}function Xc(t){return t[0]=qo(t[0]+.5|0,0,255),t[1]=qo(t[1]+.5|0,0,255),t[2]=qo(t[2]+.5|0,0,255),t[3]=qo(t[3],0,1),t}function Bc(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}var Uc={FRACTION:"fraction",PIXELS:"pixels"},Hc=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=qc(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=qc(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function qc(t,e,n){return e+":"+t+":"+(n?function(t){return"string"===typeof t?t:Bc(t)}(n):"null")}var Kc=new Hc,Vc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zc=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=r,s.size_=i,s.src_=n,s.tainted_,s}return Vc(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ml.LOADED){this.tainted_=!1;var t=Ps(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Ya.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ml.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ml.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=Ps(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ml.IDLE){this.imageState_=ml.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Xl(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,o=this.color_[1]/255,r=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=o,n[a+2]*=r;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ts);var Jc={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},$c=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return ir()},t.prototype.getImage=function(t){return ir()},t.prototype.getHitDetectionImage=function(t){return ir()},t.prototype.getImageState=function(){return ir()},t.prototype.getImageSize=function(){return ir()},t.prototype.getHitDetectionImageSize=function(){return ir()},t.prototype.getOrigin=function(){return ir()},t.prototype.getSize=function(){return ir()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){ir()},t.prototype.load=function(){ir()},t.prototype.unlistenImageChange=function(t){ir()},t}(),Qc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tu=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.opacity?i.opacity:1,r=void 0!==i.rotation?i.rotation:0,a=void 0!==i.scale?i.scale:1,s=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:o,rotation:r,scale:a,rotateWithView:s})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:Jc.TOP_LEFT,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:Uc.FRACTION,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:Uc.FRACTION,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,u=i.src;cr(!(void 0!==u&&l),4),cr(!l||l&&c,5),void 0!==u&&0!==u.length||!l||(u=l.src||rr(l)),cr(void 0!==u&&u.length>0,6);var h=void 0!==i.src?ml.IDLE:ml.LOADED;return n.color_=void 0!==i.color?Wc(i.color):null,n.iconImage_=function(t,e,n,i,o,r){var a=Kc.get(e,i,r);return a||(a=new Zc(t,e,n,i,o,r),Kc.set(e,i,r,a)),a}(l,u,c,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:Jc.TOP_LEFT,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return Qc(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Uc.FRACTION||this.anchorYUnits_==Uc.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Uc.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Uc.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Jc.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Jc.TOP_RIGHT&&this.anchorOrigin_!=Jc.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Jc.BOTTOM_LEFT&&this.anchorOrigin_!=Jc.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Jc.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Jc.TOP_RIGHT&&this.offsetOrigin_!=Jc.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Jc.BOTTOM_LEFT&&this.offsetOrigin_!=Jc.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Ya.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Ya.CHANGE,t)},e}($c);function eu(t){return Array.isArray(t)?Bc(t):t}var nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iu=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return nu(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return ml.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e="round",n="round",i=0,o=null,r=0,a=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=eu(t),void 0===(a=this.stroke_.getWidth())&&(a=1),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(i=this.stroke_.getMiterLimit())&&(i=10));var s=2*(this.radius_+a)+1,l={strokeStyle:t,strokeWidth:a,size:s,lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:n,miterLimit:i},c=Ps(s,s);this.canvas_=c.canvas;var u=s=this.canvas_.width;this.draw_(l,c,0,0),this.createHitDetectionCanvas_(l),this.anchor_=[s/2,s/2],this.size_=[s,s],this.imageSize_=[u,u]},e.prototype.draw_=function(t,e,n,i){var o,r,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),o=0;o<=s;o++)r=2*o*Math.PI/s-Math.PI/2+this.angle_,a=o%2===0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(r),t.size/2+a*Math.sin(r))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c="#000"),e.fillStyle=eu(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"===typeof e&&(e=Wc(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=Ps(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var r=void 0!==this.radius2_?this.radius2_:this.radius_;r!==this.radius_&&(o*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=o;a++)l=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2===0?this.radius_:r,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}($c),ou=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ru=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return ou(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(iu),au=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),su=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),lu=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=hu,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=hu,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var cu=null;function uu(t,e){if(!cu){var n=new au({color:"rgba(255,255,255,0.4)"}),i=new su({color:"#3399CC",width:1.25});cu=[new lu({image:new ru({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return cu}function hu(t){return t.getGeometry()}var pu=lu,fu={POINT:"point",LINE:"line"},du="#333",gu=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new au({color:du}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:fu.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();function vu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yu(t,e){var n={};Object.keys(t).forEach(function(t){var e;n[(e=t,"on".concat(e.replace(/(:[a-z])/g,function(t){return t.toUpperCase()}).replace(/^[a-z]/,function(t){return t.toUpperCase()}).replace(":","")))]=t});var i=t;return Object.keys(e).forEach(function(t){var o=n[t],r=e[t];"undefined"!==typeof r&&t.match(/^on[A-Z]/)&&o&&(i[o]=[].concat(mu(i[o]),[r]))}),i}function _u(t){var e={};return Object.keys(t).forEach(function(n){"children"===n||"undefined"===typeof t[n]||n.match(/^on[A-Z]/)||(e[n]=t[n])}),e}function bu(t,e,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=function(t,e,n,i,o,r){var a=new tu({imgSize:[r,n],src:i,scale:o?1.5:1});return a.fill=t,a.angle=e,a}(t,e,n,i,o,r);return new pu(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){vu(t,e,n[e])})}return t}({image:s,text:new gu({textBaseline:"bottom",fill:new au({color:"rgba(255, 255, 255, 1.0)"}),stroke:new su({color:"rgba(50, 50, 50, 1.0)",width:5}),offsetY:-s.getSize()[1]/2-2,font:"bold 12px IRAN-Sans"}),zIndex:o?99999999:void 0},a))}function xu(t){return(xu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Eu(t,e){return!e||"object"!==xu(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Su(t,e){return(Su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tu=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Eu(this,Ou(e).call(this,t))).layer=null,n.options={zIndex:void 0,opacity:void 0,preload:void 0,source:void 0,visible:void 0,extent:void 0,minResolution:void 0,maxResolution:void 0,useInterimTilesOnError:void 0},n.events={change:[],"change:extent":[],"change:maxResolution":[],"change:minResolution":[],"change:opacity":[],"change:preload":[],"change:source":[],"change:useInterimTilesOnError":[],"change:visible":[],"change:zIndex":[],postcompose:[],precompose:[],propertychange:[],render:[]},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Su(t,e)}(e,r.a.Component),n=e,(i=[{key:"componentDidMount",value:function(){var t=this,e=_u(Object.assign(this.options,this.props));e.source=e.source||new Dc,this.layer=new Tl(e),this.props.zIndex&&this.layer.setZIndex(this.props.zIndex),this.context.layers.push(this.layer);var n=yu(this.events,this.props);Object.keys(n).forEach(function(e){n[e].forEach(function(n){return t.layer.on(e,n)})})}},{key:"render",value:function(){return null}}])&&wu(n.prototype,i),o&&wu(n,o),e}();Tu.contextType=jc;var Cu=Tu,Iu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pu="renderOrder",Ru=function(t){function e(e){var n=this,i=e||{},o=sa({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return Iu(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Pu)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(Pu,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:uu,this.styleFunction_=null===t?void 0:function(t){var e;if("function"===typeof t)e=t;else{var n;Array.isArray(t)?n=t:(cr("function"===typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(bs),Mu=0,Lu=1;function Fu(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=e;s<n;s+=i)r[a++]=t.slice(s,s+i);return r.length=a,r}function Du(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];r[a++]=Fu(t,e,c,i,r[a]),e=c}return r.length=a,r}function ku(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];r[a++]=Du(t,e,c,i,r[a]),e=c[c.length-1]}return r.length=a,r}var Au=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),ju={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Nu=[ju.FILL],zu=[ju.STROKE],Gu=[ju.BEGIN_PATH],Yu=[ju.CLOSE_PATH],Wu=ju,Xu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bu=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=n,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Xu(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,o,r){var a=this.coordinates.length,s=this.getBufferedMaxExtent();r&&(e+=i);var l,c,u,h=t[e],p=t[e+1],f=this.tmpCoordinate_,d=!0;for(l=e+i;l<n;l+=i)f[0]=t[l],f[1]=t[l+1],(u=_r(s,f))!==c?(d&&(this.coordinates[a++]=h,this.coordinates[a++]=p),this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):u===hr.INTERSECTING?(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):d=!0,h=f[0],p=f[1],c=u;return(o&&d||l===e+i)&&(this.coordinates[a++]=h,this.coordinates[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);o.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,o,r,a,s,l=t.getType(),c=t.getStride(),u=this.coordinates.length;if(l==tr.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,f=h.length;p<f;++p){var d=[];s=this.drawCustomCoordinates_(i,s,h[p],c,d),a.push(d)}this.instructions.push([Wu.CUSTOM,u,a,t,n,ku])}else l==tr.POLYGON||l==tr.MULTI_LINE_STRING?(r=[],i=l==tr.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),c,r),this.instructions.push([Wu.CUSTOM,u,r,t,n,Du])):l==tr.LINE_STRING||l==tr.MULTI_POINT?(i=t.getFlatCoordinates(),o=this.appendFlatCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([Wu.CUSTOM,u,o,t,n,Fu])):l==tr.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([Wu.CUSTOM,u,o,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[Wu.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Wu.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,r=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==Wu.END_GEOMETRY?r=t:i==Wu.BEGIN_GEOMETRY&&(n[2]=t,Ha(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=eu(i||"#000")}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=eu(o||"#000");var r=e.getLineCap();n.lineCap=void 0!==r?r:"round";var a=e.getLineDash();n.lineDash=a?a.slice():el;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Wu.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Wu.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,r=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!Ka(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Wu.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=dr(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;fr(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Au),Uu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hu=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.declutterGroups_=null,r.hitDetectionImage_=null,r.image_=null,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r}return Uu(e,t),e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Wu.DRAW_IMAGE,o,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Wu.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Wu.DRAW_IMAGE,o,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Wu.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),o=t.getHitDetectionImage(1),r=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=o,this.image_=r,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(Bu),qu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ku=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return qu(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var o=this.coordinates.length,r=this.appendFlatCoordinates(t,e,n,i,!1,!1),a=[Wu.MOVE_TO_LINE_TO,o,r];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Gu);var r=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(r,0,r.length,a),this.hitDetectionInstructions.push(zu),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Gu);for(var r=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,c=0,u=r.length;c<u;++c)l=this.drawFlatCoordinates_(a,l,r[c],s);this.hitDetectionInstructions.push(zu),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(zu),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(zu),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Gu)},e}(Bu);function Vu(t,e,n,i,o,r,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var c=[e,n-i],u=0;c.length>0;){for(var h=c.pop(),p=c.pop(),f=0,d=t[p],g=t[p+1],v=t[h],m=t[h+1],y=p+i;y<h;y+=i){var _=Vo(t[y],t[y+1],d,g,v,m);_>f&&(u=y,f=_)}f>o&&(l[(u-e)/i]=1,p+i<u&&c.push(p,u),u+i<h&&c.push(u,h))}for(y=0;y<s;++y)l[y]&&(r[a++]=t[e+y*i],r[a++]=t[e+y*i+1]);return a}function Zu(t,e){return e*Math.round(t/e)}function Ju(t,e,n,i,o,r,a){if(e==n)return a;var s,l,c=Zu(t[e],o),u=Zu(t[e+1],o);e+=i,r[a++]=c,r[a++]=u;do{if(s=Zu(t[e],o),l=Zu(t[e+1],o),(e+=i)==n)return r[a++]=s,r[a++]=l,a}while(s==c&&l==u);for(;e<n;){var h=Zu(t[e],o),p=Zu(t[e+1],o);if(e+=i,h!=s||p!=l){var f=s-c,d=l-u,g=h-c,v=p-u;f*v==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&v<d||d==v||d>0&&v>d)?(s=h,l=p):(r[a++]=s,r[a++]=l,c=s,u=l,s=h,l=p)}}return r[a++]=s,r[a++]=l,a}function $u(t,e,n,i,o,r,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=Ju(t,e,u,i,o,r,a),s.push(a),e=u}return a}var Qu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),th=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Qu(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var o=this.state,r=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(Gu),this.hitDetectionInstructions.push(Gu);for(var l=0;l<s;++l){var c=n[l],u=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,i,!0,!a),p=[Wu.MOVE_TO_LINE_TO,u,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(Yu),this.hitDetectionInstructions.push(Yu)),e=c}return r&&(this.instructions.push(Nu),this.hitDetectionInstructions.push(Nu)),a&&(this.instructions.push(zu),this.hitDetectionInstructions.push(zu)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wu.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(r,0,r.length,a,!1,!1);var l=[Wu.CIRCLE,s];this.instructions.push(Gu,l),this.hitDetectionInstructions.push(Gu,l),void 0!==n.fillStyle&&(this.instructions.push(Nu),this.hitDetectionInstructions.push(Nu)),void 0!==n.strokeStyle&&(this.instructions.push(zu),this.hitDetectionInstructions.push(zu)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wu.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,r,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wu.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,c=0,u=r.length;c<u;++c)l=this.drawFlatCoordinatess_(a,l,r[c],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=Zu(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Bu);function eh(t,e,n,i,o){var r,a,s,l,c,u,h,p,f,d=n,g=n,v=0,m=0,y=n;for(r=n;r<i;r+=o){var _=e[r],b=e[r+1];void 0!==l&&(p=_-l,f=b-c,s=Math.sqrt(p*p+f*f),void 0!==u&&(m+=a,Math.acos((u*p+h*f)/(a*s))>t&&(m>v&&(v=m,d=y,g=r),m=0,y=r-o)),a=s,u=p,h=f),l=_,c=b}return(m+=s)>v?[y,r]:[d,g]}var nh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ih={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},oh={Circle:th,Default:Bu,Image:Hu,LineString:Ku,Polygon:th,Text:function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.declutterGroups_,r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",il.prune(),r}return nh(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||i)){var r,a,s=this.coordinates.length,l=t.getType(),c=null,u=2,h=2;if(o.placement===fu.LINE){if(!Gr(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(c=t.getFlatCoordinates(),h=t.getStride(),l==tr.LINE_STRING)p=[c.length];else if(l==tr.MULTI_LINE_STRING)p=t.getEnds();else if(l==tr.POLYGON)p=t.getEnds().slice(0,1);else if(l==tr.MULTI_POLYGON){var f=t.getEndss();for(p=[],r=0,a=f.length;r<a;++r)p.push(f[r][0])}this.beginGeometry(t,e);for(var d=o.textAlign,g=0,v=void 0,m=0,y=p.length;m<y;++m){if(void 0==d){var _=eh(o.maxAngle,c,g,p[m],h);g=_[0],v=_[1]}else v=p[m];for(r=g;r<v;r+=h)this.coordinates.push(c[r],c[r+1]);u=this.coordinates.length,g=p[m];var b=this.declutterGroups_?0===m?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(s,u,b),s=u}this.endGeometry(e)}else{var x=null;switch(o.overflow||(x=[]),l){case tr.POINT:case tr.MULTI_POINT:u=(c=t.getFlatCoordinates()).length;break;case tr.LINE_STRING:c=t.getFlatMidpoint();break;case tr.CIRCLE:c=t.getCenter();break;case tr.MULTI_LINE_STRING:u=(c=t.getFlatMidpoints()).length;break;case tr.POLYGON:c=t.getFlatInteriorPoint(),o.overflow||x.push(c[2]/this.resolution),h=3;break;case tr.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(c=[],r=0,a=w.length;r<a;r+=3)o.overflow||x.push(w[r+2]/this.resolution),c.push(w[r],w[r+1]);if(0==(u=c.length))return}u=this.appendFlatCoordinates(c,0,u,h,!1,!1),this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var E=this.pixelRatio;this.instructions.push([Wu.DRAW_IMAGE,s,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,o.padding==nl?nl:o.padding.map(function(t){return t*E}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.hitDetectionInstructions.push([Wu.DRAW_IMAGE,s,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,o.padding,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var r=this.fillKey_;n&&(r in this.fillStates||(this.fillStates[r]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,o=this.textState_,r=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=ih[o.textBaseline],u=this.textOffsetY_*l,h=this.text_,p=o.scale,f=i?i.lineWidth*p/2:0;this.instructions.push([Wu.DRAW_CHARS,t,e,c,n,o.overflow,s,o.maxAngle,l,u,r,f*l,h,a,1]),this.hitDetectionInstructions.push([Wu.DRAW_CHARS,t,e,c,n,o.overflow,s,o.maxAngle,1,u,r,f,h,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,o;if(t){this.declutterGroups_=e;var r=t.getFill();r?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=eu(r.getColor()||"#000")):(i=null,this.textFillState_=i);var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var s=a.getLineDash(),l=a.getLineDashOffset(),c=a.getWidth(),u=a.getMiterLimit();o.lineCap=a.getLineCap()||"round",o.lineDash=s?s.slice():el,o.lineDashOffset=void 0===l?0:l,o.lineJoin=a.getLineJoin()||"round",o.lineWidth=void 0===c?1:c,o.miterLimit=void 0===u?10:u,o.strokeStyle=eu(a.getColor()||"#000")}else o=null,this.textStrokeState_=o;n=this.textState_;var h=t.getFont()||"10px sans-serif";sl(h);var p=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||nl,n.scale=void 0===p?1:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===v?0:v,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:rr(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+rr(i.fillStyle):""}else this.text_=""},e}(Bu)},rh=function(){function t(t,e,n,i,o){this.declutter_=o,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[[1/0,1/0,-1/0,-1/0]],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var o=n[i].finish();t[e][i]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var o=i[e];void 0===o&&(o=new(0,oh[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o);return o},t}();function ah(t,e,n,i,o,r){for(var a=r||[],s=0,l=e;l<n;l+=i){var c=t[l],u=t[l+1];a[s++]=o[0]*c+o[2]*u+o[4],a[s++]=o[1]*c+o[3]*u+o[5]}return r&&a.length!=s&&(a.length=s),a}var sh={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function lh(t,e,n,i){for(var o=t[e],r=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],c=t[s+1];a+=Math.sqrt((l-o)*(l-o)+(c-r)*(c-r)),o=l,r=c}return a}function ch(t,e,n,i,o,r,a,s,l,c,u){for(var h,p,f=[],d=t[e]>t[n-i],g=o.length,v=t[e],m=t[e+1],y=t[e+=i],_=t[e+1],b=0,x=Math.sqrt(Math.pow(y-v,2)+Math.pow(_-m,2)),w=!1,E=0;E<g;++E){for(var O=o[h=d?g-E-1:E],S=s*l(c,O,u),T=r+S/2;e<n-i&&b+x<T;)v=y,m=_,y=t[e+=i],_=t[e+1],b+=x,x=Math.sqrt(Math.pow(y-v,2)+Math.pow(_-m,2));var C=T-b,I=Math.atan2(_-m,y-v);if(d&&(I+=I>0?-Math.PI:Math.PI),void 0!==p){var P=I-p;if(w=w||0!==P,P+=P>Math.PI?-2*Math.PI:P<-Math.PI?2*Math.PI:0,Math.abs(P)>a)return null}p=I;var R=C/x,M=Qo(v,y,R),L=Qo(m,_,R);f[h]=[M,L,S/2,I,O],r+=S}return w?f:[[f[0][0],f[0][1],f[0][2],f[0][3],o]]}var uh=n("1c98b5ebc0a1076f8a67"),hh=n.n(uh),ph=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fh=[1/0,1/0,-1/0,-1/0],dh=[1,0,0,1,0,0],gh=[],vh=[],mh=[],yh=[],_h=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.overlaps=i,r.pixelRatio=n,r.resolution=e,r.alignFill_,r.declutterItems=[],r.instructions=o.instructions,r.coordinates=o.coordinates,r.coordinateCache_={},r.renderedTransform_=[1,0,0,1,0,0],r.hitDetectionInstructions=o.hitDetectionInstructions,r.pixelCoordinates_=null,r.viewRotation_=0,r.fillStates=o.fillStates||{},r.strokeStates=o.strokeStates||{},r.textStates=o.textStates||{},r.widths_={},r}return ph(e,t),e.prototype.disposeInternal=function(){il.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,i){var o,r=i+e+t+n+this.pixelRatio;if(!il.containsKey(r)){var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[e],c=this.pixelRatio,u=l.scale*c,h=ih[l.textAlign||"center"],p=i&&a.lineWidth?a.lineWidth:0,f=t.split("\n"),d=f.length,g=[],v=function(t,e,n){for(var i=e.length,o=0,r=0;r<i;++r){var a=pl(t,e[r]);o=Math.max(o,a),n.push(a)}return o}(l.font,f,g),m=hl(l.font),y=m*d,_=v+p,b=Ps(Math.ceil((_+2)*u),Math.ceil((y+p)*u));o=b.canvas,il.set(r,o),1!=u&&b.scale(u,u),b.font=l.font,i&&(b.strokeStyle=a.strokeStyle,b.lineWidth=p,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.setLineDash&&a.lineDash.length&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset)),n&&(b.fillStyle=s.fillStyle),b.textBaseline="middle",b.textAlign="center";var x=.5-h,w=h*_+x*p,E=void 0;if(i)for(E=0;E<d;++E)b.strokeText(f[E],w+x*g[E],.5*(p+m)+E*m);if(n)for(E=0;E<d;++E)b.fillText(f[E],w+x*g[E],.5*(p+m)+E*m)}return il.get(r,this)},e.prototype.replayTextBackground_=function(t,e,n,i,o,r,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,o,r,a,s,l,c,u,h,p,f,d,g,v,m){var y=v||m;e-=o*=p,n-=r*=p;var _=d+c>i.width?i.width-c:d,b=s+u>i.height?i.height-u:s,x=g[3]+_*p+g[1],w=g[0]+b*p+g[2],E=e-g[3],O=n-g[0];(y||0!==h)&&(gh[0]=E,yh[0]=E,gh[1]=O,vh[1]=O,vh[0]=E+x,mh[0]=vh[0],mh[1]=O+w,yh[1]=mh[1]);var S=null;if(0!==h){var T=e+o,C=n+r;S=qs(dh,T,C,1,1,h,-T,-C),Hs(dh,gh),Hs(dh,vh),Hs(dh,mh),Hs(dh,yh),xr(Math.min(gh[0],vh[0],mh[0],yh[0]),Math.min(gh[1],vh[1],mh[1],yh[1]),Math.max(gh[0],vh[0],mh[0],yh[0]),Math.max(gh[1],vh[1],mh[1],yh[1]),fh)}else xr(E,O,E+x,O+w,fh);var I=t.canvas,P=m?m[2]*p/2:0,R=fh[0]-P<=I.width&&fh[2]+P>=0&&fh[1]-P<=I.height&&fh[3]+P>=0;if(f&&(e=Math.round(e),n=Math.round(n)),a){if(!R&&1==a[4])return;Or(a,fh);var M=R?[t,S?S.slice(0):null,l,i,c,u,_,b,e,n,p]:null;M&&(y&&M.push(v,m,gh,vh,mh,yh),a.push(M))}else R&&(y&&this.replayTextBackground_(t,gh,vh,mh,yh,v,m),vl(t,S,l,i,c,u,_,b,e,n,p))},e.prototype.fill_=function(t){if(this.alignFill_){var e=Hs(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,i){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(i||(i=new hh.a(9)),!i.collides(r)){i.insert(r);for(var a=5,s=t.length;a<s;++a){var l=t[a],c=l[0],u=c.globalAlpha;u!==n&&(c.globalAlpha=n),l.length>11&&this.replayTextBackground_(l[0],l[13],l[14],l[15],l[16],l[11],l[12]),vl.apply(void 0,l),u!==n&&(c.globalAlpha=u)}}t.length=5,wr(t)}}return i},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,i){var o=this.textStates[e],r=this.getTextImage(t,e,i,n),a=this.strokeStates[n],s=this.pixelRatio,l=ih[o.textAlign||"center"],c=ih[o.textBaseline||"middle"],u=a&&a.lineWidth?a.lineWidth:0;return{label:r,anchorX:l*(r.width/s-2*o.scale)+2*(.5-l)*u,anchorY:c*r.height/s+2*(.5-c)*u}},e.prototype.execute_=function(t,e,n,i,o,r){var a,s,l;this.declutterItems.length=0,this.pixelCoordinates_&&Ka(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=ah(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),s=this.renderedTransform_,l=e,s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5]);for(var c,u,h,p,f,d,g,v,m,y,_,b,x,w,E,O,S,T=0,C=n.length,I=0,P=0,R=0,M=null,L=null,F=this.coordinateCache_,D=this.viewRotation_,k=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,A={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},j=this.instructions!=n||this.overlaps?0:200;T<C;){var N=n[T];switch(N[0]){case Wu.BEGIN_GEOMETRY:(E=N[1]).getGeometry()?void 0===r||Gr(r,N[3])?++T:T=N[2]+1:T=N[2];break;case Wu.BEGIN_PATH:P>j&&(this.fill_(t),P=0),R>j&&(t.stroke(),R=0),P||R||(t.beginPath(),p=NaN,f=NaN),++T;break;case Wu.CIRCLE:var z=a[I=N[1]],G=a[I+1],Y=a[I+2]-z,W=a[I+3]-G,X=Math.sqrt(Y*Y+W*W);t.moveTo(z+X,G),t.arc(z,G,X,0,2*Math.PI,!0),++T;break;case Wu.CLOSE_PATH:t.closePath(),++T;break;case Wu.CUSTOM:I=N[1],c=N[2];var B=N[3],U=N[4],H=6==N.length?N[5]:void 0;A.geometry=B,A.feature=E,T in F||(F[T]=[]);var q=F[T];H?H(a,I,c,2,q):(q[0]=a[I],q[1]=a[I+1],q.length=2),U(q,A),++T;break;case Wu.DRAW_IMAGE:I=N[1],c=N[2],y=N[3],u=N[4],h=N[5],m=o?null:N[6];var K=N[7],V=N[8],Z=N[9],J=N[10],$=N[11],Q=N[12],tt=N[13],et=N[14];if(!y&&N.length>=19){_=N[18],b=N[19],x=N[20],w=N[21];var nt=this.drawTextImageWithPointPlacement_(_,b,x,w);y=nt.label,N[3]=y;var it=N[22];u=(nt.anchorX-it)*this.pixelRatio,N[4]=u;var ot=N[23];h=(nt.anchorY-ot)*this.pixelRatio,N[5]=h,K=y.height,N[7]=K,et=y.width,N[14]=et}var rt=void 0;N.length>24&&(rt=N[24]);var at=void 0,st=void 0,lt=void 0;N.length>16?(at=N[15],st=N[16],lt=N[17]):(at=nl,st=!1,lt=!1),$&&k?Q+=D:$||k||(Q-=D);for(var ct=0,ut=0;I<c;I+=2)if(!(rt&&rt[ct++]<et/this.pixelRatio)){if(m){var ht=Math.floor(ut);m.length<ht+1&&((v=[1/0,1/0,-1/0,-1/0]).push(m[0][4]),m.push(v)),v=m[ht]}this.replayImage_(t,a[I],a[I+1],y,u,h,v,K,V,Z,J,Q,tt,i,et,at,st?M:null,lt?L:null),v&&(ut===Math.floor(ut)&&this.declutterItems.push(this,v,E),ut+=1/v[4])}++T;break;case Wu.DRAW_CHARS:var pt=N[1],ft=N[2],dt=N[3];v=o?null:N[4];var gt=N[5];w=N[6];var vt=N[7],mt=N[8],yt=N[9];x=N[10];var _t=N[11];_=N[12],b=N[13];var bt=N[14],xt=this.textStates[b],wt=xt.font,Et=xt.scale*mt,Ot=void 0;wt in this.widths_?Ot=this.widths_[wt]:(Ot={},this.widths_[wt]=Ot);var St=lh(a,pt,ft,2),Tt=Et*fl(wt,_,Ot);if(gt||Tt<=St){var Ct=this.textStates[b].textAlign,It=ch(a,pt,ft,2,_,(St-Tt)*ih[Ct],vt,Et,fl,wt,Ot);if(It){var Pt=void 0,Rt=void 0,Mt=void 0,Lt=void 0,Ft=void 0;if(x)for(Pt=0,Rt=It.length;Pt<Rt;++Pt)Mt=(Ft=It[Pt])[4],Lt=this.getTextImage(Mt,b,"",x),u=Ft[2]+_t,h=dt*Lt.height+2*(.5-dt)*_t-yt,this.replayImage_(t,Ft[0],Ft[1],Lt,u,h,v,Lt.height,1,0,0,Ft[3],bt,!1,Lt.width,nl,null,null);if(w)for(Pt=0,Rt=It.length;Pt<Rt;++Pt)Mt=(Ft=It[Pt])[4],Lt=this.getTextImage(Mt,b,w,""),u=Ft[2],h=dt*Lt.height-yt,this.replayImage_(t,Ft[0],Ft[1],Lt,u,h,v,Lt.height,1,0,0,Ft[3],bt,!1,Lt.width,nl,null,null)}}this.declutterItems.push(this,v,E),++T;break;case Wu.END_GEOMETRY:if(void 0!==o){var Dt=o(E=N[1]);if(Dt)return Dt}++T;break;case Wu.FILL:j?P++:this.fill_(t),++T;break;case Wu.MOVE_TO_LINE_TO:for(I=N[1],c=N[2],O=a[I],g=(S=a[I+1])+.5|0,(d=O+.5|0)===p&&g===f||(t.moveTo(O,S),p=d,f=g),I+=2;I<c;I+=2)d=(O=a[I])+.5|0,g=(S=a[I+1])+.5|0,I!=c-2&&d===p&&g===f||(t.lineTo(O,S),p=d,f=g);++T;break;case Wu.SET_FILL_STYLE:M=N,this.alignFill_=N[2],P&&(this.fill_(t),P=0,R&&(t.stroke(),R=0)),t.fillStyle=N[1],++T;break;case Wu.SET_STROKE_STYLE:L=N,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,N),++T;break;case Wu.STROKE:j?R++:t.stroke(),++T;break;default:++T}}P&&this.fill_(t),R&&t.stroke()},e.prototype.execute=function(t,e,n,i){this.viewRotation_=n,this.execute_(t,e,this.instructions,i,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,i,o){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,i,o)},e}(Xa),bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xh=[sh.POLYGON,sh.CIRCLE,sh.LINE_STRING,sh.IMAGE,sh.TEXT,sh.DEFAULT],wh=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=o,s.pixelRatio_=i,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=[1,0,0,1,0,0],s.createExecutors_(r),s}return bh(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e];for(var o in i){var r=i[o];n[o]=new _h(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var i in n)n[i].disposeInternal()}if(this.hitDetectionContext_){var o=this.hitDetectionContext_.canvas;o.width=0,o.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,o=t.length;i<o;++i)if(t[i]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r){var a=2*(i=Math.round(i))+1,s=qs(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Ps(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(Sr(l=[1/0,1/0,-1/0,-1/0],t),fr(l,e*(this.renderBuffer_+i),l));var u,h=function(t){if(void 0!==Eh[t])return Eh[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var o=t,r=0,a=0;for(;o>=r;)Oh(n,t+o,t+r),Oh(n,t+r,t+o),Oh(n,t-r,t+o),Oh(n,t-o,t+r),Oh(n,t-o,t-r),Oh(n,t-r,t-o),Oh(n,t+r,t-o),Oh(n,t+o,t-r),2*((a+=1+2*++r)-o)+1>0&&(a+=1-2*(o-=1));return Eh[t]=n,n}(i);function p(t){for(var e=c.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var i=0;i<a;i++)if(h[n][i]&&e[4*(i*a+n)+3]>0){var s=void 0;return(!r||u!=sh.IMAGE&&u!=sh.TEXT||-1!==r.indexOf(t))&&(s=o(t)),s||void c.clearRect(0,0,a,a)}}var f,d,g,v,m,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(Ba),f=y.length-1;f>=0;--f){var _=y[f].toString();for(g=this.executorsByZIndex_[_],d=xh.length-1;d>=0;--d)if(void 0!==(v=g[u=xh[d]])&&(m=v.executeHitDetection(c,s,n,p,l)))return m}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],o=e[2],r=e[3],a=[n,i,n,r,o,r,o,i];return ah(a,0,8,2,t,a),a},e.prototype.isEmpty=function(){return ua(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,i,o,r){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(Ba),this.maxExtent_&&(t.save(),this.clip(t,e));var s,l,c,u,h,p,f=o||xh;for(s=0,l=a.length;s<l;++s){var d=a[s].toString();for(h=this.executorsByZIndex_[d],c=0,u=f.length;c<u;++c){var g=f[c];if(void 0!==(p=h[g]))if(!r||g!=sh.IMAGE&&g!=sh.TEXT)p.execute(t,e,n,i);else{var v=r[d];v?v.push(p,e.slice(0)):r[d]=[p,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(Xa),Eh={0:[[!0]]};function Oh(t,e,n){var i,o=Math.floor(t.length/2);if(e>=o)for(i=o;i<e;i++)t[i][n]=!0;else if(e<o)for(i=e+1;i<o;i++)t[i][n]=!0}var Sh=wh,Th=.5,Ch={Point:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=ml.LOADED)return;var r=t.getBuilder(n.getZIndex(),sh.IMAGE);r.setImageStyle(o,t.addDeclutter(!1)),r.drawPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sh.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,i)}},LineString:function(t,e,n,i){var o=n.getStroke();if(o){var r=t.getBuilder(n.getZIndex(),sh.LINE_STRING);r.setFillStrokeStyle(null,o),r.drawLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sh.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},Polygon:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),sh.POLYGON);a.setFillStrokeStyle(o,r),a.drawPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),sh.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=ml.LOADED)return;var r=t.getBuilder(n.getZIndex(),sh.IMAGE);r.setImageStyle(o,t.addDeclutter(!1)),r.drawMultiPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sh.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,i)}},MultiLineString:function(t,e,n,i){var o=n.getStroke();if(o){var r=t.getBuilder(n.getZIndex(),sh.LINE_STRING);r.setFillStrokeStyle(null,o),r.drawMultiLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sh.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(r||o){var a=t.getBuilder(n.getZIndex(),sh.POLYGON);a.setFillStrokeStyle(o,r),a.drawMultiPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),sh.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var o,r,a=e.getGeometriesArray();for(o=0,r=a.length;o<r;++o){var s=Ch[a[o].getType()];s(t,a[o],n,i)}},Circle:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),sh.CIRCLE);a.setFillStrokeStyle(o,r),a.drawCircle(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),sh.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}};function Ih(t,e){return parseInt(rr(t),10)-parseInt(rr(e),10)}function Ph(t,e){var n=Rh(t,e);return n*n}function Rh(t,e){return Th*t/e}function Mh(t,e,n,i,o,r){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==ml.LOADED||l==ml.ERROR?s.unlistenImageChange(o):(l==ml.IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(o),a=!0)}return function(t,e,n,i,o){var r=n.getGeometryFunction()(e);if(!r)return;var a=r.simplifyTransformed(i,o);if(n.getRenderer())!function t(e,n,i,o){if(n.getType()==tr.GEOMETRY_COLLECTION){for(var r=n.getGeometries(),a=0,s=r.length;a<s;++a)t(e,r[a],i,o);return}var l=e.getBuilder(i.getZIndex(),sh.DEFAULT);l.drawCustom(n,o,i.getRenderer())}(t,a,n,e);else{var s=Ch[a.getType()];s(t,a,n,e)}}(t,e,n,i,r),a}var Lh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fh=[1,0,0,1,0,0],Dh=function(t){function e(){var e,n,i,o,r,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},r=!1,function(){var t=Array.prototype.slice.call(arguments);return r&&this===o&&Ka(t,i)||(r=!0,o=this,i=t,n=e.apply(this,arguments)),n}),a}return Lh(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return ir()},e.prototype.closestPointXY=function(t,e,n,i){return ir()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return ir()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){ir()},e.prototype.scale=function(t,e,n){ir()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return ir()},e.prototype.getType=function(){return ir()},e.prototype.applyTransform=function(t){ir()},e.prototype.intersectsExtent=function(t){return ir()},e.prototype.translate=function(t,e){ir()},e.prototype.transform=function(t,e){var n=ma(t),i=n.getUnits()==Ur.TILE_PIXELS?function(t,i,o){var r=n.getExtent(),a=n.getWorldExtent(),s=kr(a)/kr(r);return qs(Fh,a[0],a[3],s,-s,0,0,0),ah(t,0,t.length,o,Fh,i),Oa(n,e)(t,i,o)}:Oa(n,e);return this.applyTransform(i),this},e}(ls),kh={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},Ah=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function jh(t){var e;return t==kh.XY?e=2:t==kh.XYZ||t==kh.XYM?e=3:t==kh.XYZM&&(e=4),e}var Nh=function(t){function e(){var e=t.call(this)||this;return e.layout=kh.XY,e.stride=2,e.flatCoordinates=null,e}return Ah(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=0,i=this.flatCoordinates.length,o=this.stride,Cr(wr(t),e,n,i,o);var e,n,i,o},e.prototype.getCoordinates=function(){return ir()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=jh(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){ir()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=jh(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=kh.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=kh.XY:3==t?e=kh.XYZ:4==t&&(e=kh.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],l=Math.cos(o),c=Math.sin(o),u=r[0],h=r[1],p=0,f=e;f<n;f+=i){var d=t[f]-u,g=t[f+1]-h;s[p++]=u+d*l-g*c,s[p++]=h+d*c+g*l;for(var v=f+2;v<f+i;++v)s[p++]=t[v]}a&&s.length!=p&&(s.length=p)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=Lr(this.getExtent()));var r=this.getFlatCoordinates();if(r){var a=this.getStride();!function(t,e,n,i,o,r,a,s){for(var l=s||[],c=a[0],u=a[1],h=0,p=e;p<n;p+=i){var f=t[p]-c,d=t[p+1]-u;l[h++]=c+o*f,l[h++]=u+r*d;for(var g=p+2;g<p+i;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(r,0,r.length,a,t,i,o,r),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],l=0,c=e;c<n;c+=i){s[l++]=t[c]+o,s[l++]=t[c+1]+r;for(var u=c+2;u<c+i;++u)s[l++]=t[u]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(Dh),zh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gh=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=o,l.viewRotation_=r,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return zh(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=ah(t,e,n,2,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=o.length;c<u;c+=2){var h=o[c]-this.imageAnchorX_,p=o[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;qs(a,f,d,this.imageScale_,this.imageScale_,l,-f,-d),r.setTransform.apply(r,a)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=ah(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=qs(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);r.setTransform.apply(r,c)}this.textStrokeState_&&r.strokeText(this.text_,s,l),this.textFillState_&&r.fillText(this.text_,s,l)}0===a&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,a=ah(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)r.lineTo(a[l],a[l+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(Gr(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var o=t.getStride();return ah(i,0,i.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case tr.POINT:this.drawPoint(t);break;case tr.LINE_STRING:this.drawLineString(t);break;case tr.POLYGON:this.drawPolygon(t);break;case tr.MULTI_POINT:this.drawMultiPoint(t);break;case tr.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case tr.MULTI_POLYGON:this.drawMultiPolygon(t);break;case tr.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case tr.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Gr(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Gr(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Gr(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=r.length;s<l;++s)o=this.moveToLineTo_(i,o,r[s],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Gr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Gr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];i=this.drawRings_(n,i,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Ka(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:eu(n||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:r||el,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==c?c:10,strokeStyle:eu(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:eu(n||"#000")}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),c=i.getWidth(),u=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:"round",lineDash:a||el,lineDashOffset:s||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==u?u:10,strokeStyle:eu(o||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),m=t.getText(),y=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(Au);function Yh(t,e,n){var i=[];if(n){var o=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),r=n.data[o],a=n.data[o+1],s=n.data[o+2]+256*(a+256*r),l=Math.ceil(16777216/e.length);s%l===0&&i.push(e[s/l])}return i}var Wh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xh=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return Wh(e,t),e.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){Us(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),Ks(this.inversePixelTransform,this.pixelTransform);var o=Vs(this.pixelTransform);this.useContainer(e,o,i.opacity);var r=this.context,a=r.canvas,s=this.replayGroup_;if(!s||s.isEmpty())return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||r.clearRect(0,0,l,c),this.preRender(r,t);var u=t.extent,h=t.viewState,p=h.center,f=h.resolution,d=h.projection,g=h.rotation,v=d.getExtent(),m=this.getLayer().getSource(),y=!1;if(i.extent){var _=ka(i.extent,d);(y=!mr(_,t.extent)&&Gr(_,t.extent))&&this.clip(r,t,_)}var b=t.viewHints,x=!(b[Mu]||b[Lu]),w=this.getRenderTransform(p,f,g,n,l,c,0),E=this.getLayer().getDeclutter()?{}:null;if(s.execute(r,w,g,x,void 0,E),m.getWrapX()&&d.canWrapX()&&!mr(v,u)){for(var O=u[0],S=zr(v),T=0,C=void 0;O<v[0];){C=S*--T;var I=this.getRenderTransform(p,f,g,n,l,c,C);s.execute(r,I,g,x,void 0,E),O+=S}for(T=0,O=u[2];O>v[2];){C=S*++T;var P=this.getRenderTransform(p,f,g,n,l,c,C);s.execute(r,P,g,x,void 0,E),O-=S}}if(E){var R=t.viewHints;!function(t,e,n,i,o,r){for(var a=Object.keys(t).map(Number).sort(Ba),s=0,l=a.length;s<l;++s)for(var c=t[a[s].toString()],u=void 0,h=0,p=c.length;h<p;){var f=c[h++];f!==u&&(u=f,r.push({items:f.declutterItems,opacity:i}));var d=c[h++];f.execute(e,d,n,o)}}(E,r,g,1,!(R[Mu]||R[Lu]),t.declutterItems)}y&&r.restore(),this.postRender(r,t);var M=i.opacity,L=this.container;return M!==parseFloat(L.style.opacity)&&(L.style.opacity=1===M?"":M),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){this.hitDetectionImageData_||this.animatingOrInteracting_?e(Yh(t,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];Hs(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,r=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,l=this.getLayer(),c=[],u=n[0]/2,h=n[1]/2;c.push(this.getRenderTransform(i,o,r,.5,u,h,0).slice());var p=l.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!mr(f,s)){for(var d=s[0],g=zr(f),v=0,m=void 0;d<f[0];)m=g*--v,c.push(this.getRenderTransform(i,o,r,.5,u,h,m).slice()),d+=g;for(v=0,d=s[2];d>f[2];)m=g*++v,c.push(this.getRenderTransform(i,o,r,.5,u,h,m).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,i,o,r,a){var s=Ps(t[0]/2,t[1]/2);s.imageSmoothingEnabled=!1;for(var l=s.canvas,c=new Gh(s,.5,o,null,a),u=n.length,h=Math.ceil(16777216/u),p={},f=0;f<u;++f){var d=n[f],g=d.getStyleFunction()||i;if(i){var v=g(d,r);Array.isArray(v)||(v=[v]);for(var m="#"+("000000"+(f*h).toString(16)).slice(-6),y=0,_=v.length;y<_;++y){var b=v[y],x=b.clone(),w=x.getFill();w&&w.setColor(m);var E=x.getStroke();E&&E.setColor(m),x.setText(void 0);var O=b.getImage();if(O){var S=O.getImageSize(),T=document.createElement("canvas");T.width=S[0],T.height=S[1];var C=T.getContext("2d",{alpha:!1});C.fillStyle=m;var I=C.canvas;C.fillRect(0,0,I.width,I.height),Ps(S?S[0]:I.width,S?S[1]:I.height).drawImage(I,0,0),x.setImage(new tu({img:I,imgSize:S,anchor:O.getAnchor(),anchorXUnits:Uc.PIXELS,anchorYUnits:Uc.PIXELS,offset:O.getOrigin(),size:O.getSize(),opacity:O.getOpacity(),scale:O.getScale(),rotation:O.getRotation(),rotateWithView:O.getRotateWithView()}))}var P=Number(x.getZIndex());(F=p[P])||(F={},p[P]=F,F[tr.POLYGON]=[],F[tr.CIRCLE]=[],F[tr.LINE_STRING]=[],F[tr.POINT]=[]);var R=x.getGeometryFunction()(d);R&&Gr(o,R.getExtent())&&F[R.getType().replace("Multi","")].push(R,x)}}}for(var M=Object.keys(p).map(Number).sort(Ba),L=(f=0,M.length);f<L;++f){var F=p[M[f]];for(var D in F){var k=F[D];for(y=0,_=k.length;y<_;y+=2){c.setStyle(k[y+1]);for(var A=0,j=e.length;A<j;++A)c.setTransform(e[A]),c.drawGeometry(k[y])}}}return s.getImageData(0,0,l.width,l.height)}(n,c,this.renderedFeatures_,l.getStyleFunction(),s,o,r),e(Yh(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var r=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,r,a,n,function(t){var e=rr(t);if(!(e in l))return l[e]=!0,i(t,s)},s.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),i=t.viewHints[Mu],o=t.viewHints[Lu],r=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!r&&i||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,c=l.projection,u=l.resolution,h=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Ih);var g=l.center.slice(),v=fr(s,f*u),m=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!mr(m,t.extent)){var y=zr(m),_=Math.max(zr(v)/2,y);v[0]=m[0]-_,v[2]=m[2]+_;var b=Math.floor((g[0]-m[0])/y);g[0]-=b*y}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&mr(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var x,w=new rh(Rh(u,h),v,u,h,e.getDeclutter()),E=Ma();E?(n.loadFeatures(Da(v,c),u,E),x=Ea(E,c)):n.loadFeatures(v,u,c);var O=Ph(u,h),S=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,u)),n){var o=this.renderFeature(t,O,n,w,x);this.dirty_=this.dirty_||o}}.bind(this),T=Da(v,c),C=n.getFeaturesInExtent(T);d&&C.sort(d);for(var I=0,P=C.length;I<P;++I)S(C[I]);this.renderedFeatures_=C;var R=w.finish(),M=new Sh(v,u,h,n.getOverlaps(),R,e.getRenderBuffer());return this.renderedResolution_=u,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=v,this.renderedRotation_=l.rotation,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=M,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,o){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)r=Mh(i,t,n[a],e,this.boundHandleStyleImageChange_,o)||r;else r=Mh(i,t,n,e,this.boundHandleStyleImageChange_,o);return r},e}(xl),Bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uh=function(t){function e(e){return t.call(this,e)||this}return Bh(e,t),e.prototype.createRenderer=function(){return new Xh(this)},e}(Ru),Hh={ADD:"add",REMOVE:"remove"},qh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kh="length",Vh=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.element=n,o.index=i,o}return qh(e,t),e}($a),Zh=function(t){function e(e,n){var i=t.call(this)||this,o=n||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var r=0,a=i.array_.length;r<a;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return qh(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Kh)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Vh(Hh.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Vh(Hh.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Vh(Hh.REMOVE,i,t)),this.dispatchEvent(new Vh(Hh.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Kh,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new lr(58)},e}(ls),Jh={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},$h=!1;function Qh(t,e){return function(t,e,n,i){return function(o,r,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(o,r,a):t,!0),e.getType()==Jh.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=$h,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),l=void 0;r==Jh.JSON||r==Jh.TEXT?l=s.responseText:r==Jh.XML?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==Jh.ARRAY_BUFFER&&(l=s.response),l?n.call(this,e.readFeatures(l,{extent:o,featureProjection:a}),e.readProjection(l)):i.call(this)}else i.call(this)}.bind(this),s.onerror=function(){i.call(this)}.bind(this),s.send()}}(t,e,function(t,e){"function"===typeof this.addFeatures&&this.addFeatures(t)},Ja)}function tp(t,e){return[[-1/0,-1/0,1/0,1/0]]}var ep,np="addfeature",ip="changefeature",op="clear",rp="removefeature",ap=function(){function t(t){this.rbush_=new hh.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[rr(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],a=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:a};n[i]=s,this.items_[rr(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=rr(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[rr(e)];Er([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return ua(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return xr(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),sp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lp=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return sp(e,t),e}($a),cp=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:ms.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=Ja,n.format_=i.format,n.overlaps_=void 0==i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(cr(n.format_,7),n.loader_=Qh(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:tp;var o,r,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new ap:null,n.loadedExtentsRtree_=new ap,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(o=i.features).getArray()),a||void 0!==o||(o=new Zh(r)),void 0!==r&&n.addFeaturesInternal(r),void 0!==o&&n.bindFeaturesCollection_(o),n}return sp(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=rr(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new lp(np,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Na(e,Ya.CHANGE,this.handleFeatureChange_,this),Na(e,Wa,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(cr(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,r=t.length;o<r;o++){var a=rr(l=t[o]);this.addToIndex_(a,l)&&n.push(l)}o=0;for(var s=n.length;o<s;o++){var l;a=rr(l=n[o]);this.setupChangeEvents_(a,l);var c=l.getGeometry();if(c){var u=c.getExtent();e.push(u),i.push(l)}else this.nullGeometryFeatures_[a]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i);o=0;for(var h=n.length;o<h;o++)this.dispatchEvent(new lp(np,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(np,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(rp,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Hh.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Hh.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(Ga)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new lp(op);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ua(this.nullGeometryFeatures_)||qa(t,ca(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],o=null,r=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||Va;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,i,r,a))<c){o=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=i-u,s[2]=n+u,s[3]=i+u}}}),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=rr(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var r=e.getId();if(void 0!==r){var a=r.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new lp(ip,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:rr(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ua(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var r=function(t,r){var s=o[t];i.forEachInExtent(s,function(t){return mr(t.extent,s)})||(a.loader_.call(a,s,e,n),i.insert(s,{extent:s.slice()}),a.loading=a.loader_!==Ja)},a=this,s=0,l=o.length;s<l;++s)r(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Er(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=rr(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=rr(t);this.featureChangeKeys_[e].forEach(Ga),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new lp(rp,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){cr(this.format_,7),this.setLoader(Qh(t,this.format_))},e}(uc);function up(t){return(up="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hp(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pp(t,e){return!e||"object"!==up(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fp(t){return(fp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dp(t,e){return(dp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gp=Object(o.createContext)(),vp=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=pp(this,fp(e).call(this,t))).features=[],n.vectorSource=null,n.layer=null,n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dp(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){this.vectorSource=new cp({features:this.features}),this.layer=new Uh({source:this.vectorSource}),this.context.layers.push(this.layer)}},{key:"componentWillUnmount",value:function(){console.log("Vector layer is unmount!")}},{key:"render",value:function(){return function(t,e,n,i){ep||(ep="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:ep,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(gp.Provider,{value:this},void 0,this.props.children)}}])&&hp(n.prototype,i),o&&hp(n,o),e}();vp.contextType=jc;var mp={Tile:Cu,Vector:vp},yp=ja;function _p(t,e,n){return function(i,o,r,a){if(i){var s=e?0:r[0]*o,l=e?0:r[1]*o,c=t[0]+s/2,u=t[2]-s/2,h=t[1]+l/2,p=t[3]-l/2;c>u&&(u=c=(u+c)/2),h>p&&(p=h=(p+h)/2);var f=qo(i[0],c,u),d=qo(i[1],h,p),g=30*o;return a&&n&&(f+=-g*Math.log(1+Math.max(0,c-i[0])/g)+g*Math.log(1+Math.max(0,i[0]-u)/g),d+=-g*Math.log(1+Math.max(0,h-i[1])/g)+g*Math.log(1+Math.max(0,i[1]-p)/g)),[f,d]}}}function bp(t){return t}function xp(t,e,n){var i=zr(e)/n[0],o=kr(e)/n[1];return Math.min(t,Math.min(i,o))}function wp(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),qo(i,n/2,2*e)}function Ep(t,e,n,i){return function(o,r,a,s){if(void 0!==o){var l=i?xp(t,i,a):t;return(void 0===n||n)&&s?wp(o,l,e):qo(o,e,l)}}}function Op(t){return void 0!==t?0:void 0}function Sp(t){return void 0!==t?t:void 0}var Tp="center",Cp="resolution",Ip="rotation";function Pp(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Rp(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}function Mp(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=a*s-r*l,r=s,a=l}return o/2}function Lp(t,e,n,i){for(var o=0,r=0,a=n.length;r<a;++r){var s=n[r];o+=Mp(t,e,s,i),e=s}return o}function Fp(t,e,n,i,o,r,a){var s,l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;if(0===u&&0===h)s=e;else{var p=((o-l)*u+(r-c)*h)/(u*u+h*h);if(p>1)s=n;else{if(p>0){for(var f=0;f<i;++f)a[f]=Qo(t[e+f],t[n+f],p);return void(a.length=i)}s=e}}for(f=0;f<i;++f)a[f]=t[s+f];a.length=i}function Dp(t,e,n,i,o){var r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],c=Zo(r,a,s,l);c>o&&(o=c),r=s,a=l}return o}function kp(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];o=Dp(t,e,s,i,o),e=s}return o}function Ap(t,e,n,i,o,r,a,s,l,c,u){if(e==n)return c;var h,p;if(0===o){if((p=Zo(a,s,t[e],t[e+1]))<c){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,p}return c}for(var f=u||[NaN,NaN],d=e+i;d<n;)if(Fp(t,d-i,d,i,a,s,f),(p=Zo(a,s,f[0],f[1]))<c){for(c=p,h=0;h<i;++h)l[h]=f[h];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(c))/o|0,1);if(r&&(Fp(t,n-i,e,i,a,s,f),(p=Zo(a,s,f[0],f[1]))<c)){for(c=p,h=0;h<i;++h)l[h]=f[h];l.length=i}return c}function jp(t,e,n,i,o,r,a,s,l,c,u){for(var h=u||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];c=Ap(t,e,d,i,o,r,a,s,l,c,h),e=d}return c}function Np(t,e,n,i){for(var o=0,r=n.length;o<r;++o)for(var a=n[o],s=0;s<i;++s)t[e++]=a[s];return e}function zp(t,e,n,i,o){for(var r=o||[],a=0,s=0,l=n.length;s<l;++s){var c=Np(t,e,n[s],i);r[a++]=c,e=c}return r.length=a,r}var Gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yp=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Gp(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<gr(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ap(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Mp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Fu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Vu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,kh.XY)},e.prototype.getType=function(){return tr.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Np(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Nh),Wp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xp=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return Wp(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=Zo(t,e,o[0],o[1]);if(r<i){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,r}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=t,i=e[0],o=e[1],xr(i,o,i,o,n);var e,n,i,o},e.prototype.getType=function(){return tr.POINT},e.prototype.intersectsExtent=function(t){return yr(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Nh);function Bp(t,e,n,i,o){return!function(t,e){var n;return(n=e(Rr(t)))?n:(n=e(Mr(t)))?n:(n=e(Nr(t)))?n:(n=e(jr(t)))||!1}(o,function(o){return!Up(t,e,n,i,o[0],o[1])})}function Up(t,e,n,i,o,r){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var c=t[e],u=t[e+1];l<=r?u>r&&(c-s)*(r-l)-(o-s)*(u-l)>0&&a++:u<=r&&(c-s)*(r-l)-(o-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function Hp(t,e,n,i,o,r){if(0===n.length)return!1;if(!Up(t,e,n[0],i,o,r))return!1;for(var a=1,s=n.length;a<s;++a)if(Up(t,n[a-1],n[a],i,o,r))return!1;return!0}function qp(t,e,n,i,o,r,a){for(var s,l,c,u,h,p,f,d=o[r+1],g=[],v=0,m=n.length;v<m;++v){var y=n[v];for(u=t[y-i],p=t[y-i+1],s=e;s<y;s+=i)h=t[s],f=t[s+1],(d<=p&&f<=d||p<=d&&d<=f)&&(c=(d-p)/(f-p)*(h-u)+u,g.push(c)),u=h,p=f}var _=NaN,b=-1/0;for(g.sort(Ba),u=g[0],s=1,l=g.length;s<l;++s){h=g[s];var x=Math.abs(h-u);x>b&&Hp(t,e,n,i,c=(u+h)/2,d)&&(_=c,b=x),u=h}return isNaN(_)&&(_=o[r]),a?(a.push(_,d,b),a):[_,d,b]}function Kp(t,e,n,i,o){for(var r,a=[t[e],t[e+1]],s=[];e+i<n;e+=i){if(s[0]=t[e+i],s[1]=t[e+i+1],r=o(a,s))return r;a[0]=s[0],a[1]=s[1]}return!1}function Vp(t,e,n,i,o){var r=Cr([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Gr(o,r)&&(!!mr(o,r)||(r[0]>=o[0]&&r[2]<=o[2]||(r[1]>=o[1]&&r[3]<=o[3]||Kp(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,o=_r(t,e),r=_r(t,n);if(o===hr.INTERSECTING||r===hr.INTERSECTING)i=!0;else{var a=t[0],s=t[1],l=t[2],c=t[3],u=e[0],h=e[1],p=n[0],f=n[1],d=(f-h)/(p-u),g=void 0,v=void 0;r&hr.ABOVE&&!(o&hr.ABOVE)&&(i=(g=p-(f-c)/d)>=a&&g<=l),i||!(r&hr.RIGHT)||o&hr.RIGHT||(i=(v=f-(p-l)*d)>=s&&v<=c),i||!(r&hr.BELOW)||o&hr.BELOW||(i=(g=p-(f-s)/d)>=a&&g<=l),i||!(r&hr.LEFT)||o&hr.LEFT||(i=(v=f-(p-a)*d)>=s&&v<=c)}return i}(o,t,e)}))))}function Zp(t,e,n,i,o){if(!function(t,e,n,i,o){return!!Vp(t,e,n,i,o)||!!Up(t,e,n,i,o[0],o[1])||!!Up(t,e,n,i,o[0],o[3])||!!Up(t,e,n,i,o[2],o[1])||!!Up(t,e,n,i,o[2],o[3])}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var r=1,a=n.length;r<a;++r)if(Bp(t,n[r-1],n[r],i,o)&&!Vp(t,n[r-1],n[r],i,o))return!1;return!0}function Jp(t,e,n,i){for(;e<n-i;){for(var o=0;o<i;++o){var r=t[e+o];t[e+o]=t[n-i+o],t[n-i+o]=r}e+=i,n-=i}}function $p(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=(s-r)*(l+a),r=s,a=l}return o>0}function Qp(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],c=$p(t,e,l,i);if(0===a){if(r&&c||!r&&!c)return!1}else if(r&&!c||!r&&c)return!1;e=l}return!0}function tf(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],c=$p(t,e,l,i);(0===a?r&&c||!r&&!c:r&&!c||!r&&c)&&Jp(t,e,l,i),e=l}return e}var ef=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nf=function(t){function e(e,n,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&i?(o.setFlatCoordinates(n,e),o.ends_=i):o.setCoordinates(e,n),o}return ef(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?qa(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<gr(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kp(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jp(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Hp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Lp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?tf(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Du(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Lr(this.getExtent());this.flatInteriorPoint_=qp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Xp(this.getFlatInteriorPoint(),kh.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Yp(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],o=0,r=0,a=n.length;r<a;++r){var s=n[r],l=new Yp(e.slice(o,s),t);i.push(l),o=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Qp(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=tf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=$u(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,kh.XY,i)},e.prototype.getType=function(){return tr.POLYGON},e.prototype.intersectsExtent=function(t){return Zp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=zp(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Nh),of=nf;function rf(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=[e,n,e,o,i,o,i,n,e,n];return new nf(r,kh.XY,[r.length])}var af=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sf=0;function lf(t,e){setTimeout(function(){t(e)},0)}function cf(t){return!(t.sourceCenter&&t.targetCenter&&!Pp(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var uf=function(t){function e(e){var n=t.call(this)||this,i=sa({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=ba(i.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,i.center&&(i.center=Fa(i.center,n.projection_)),i.extent&&(i.extent=ka(i.extent,n.projection_)),n.applyOptions_(i),n}return af(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:sf,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=ba(t.projection,"EPSG:3857"),u=c.getExtent(),h=t.constrainOnlyCenter,p=t.extent;s||p||!c.isGlobal()||(h=!1,p=u);if(void 0!==t.resolutions){var f=t.resolutions;n=f[o],i=void 0!==f[r]?f[r]:f[f.length-1],e=t.constrainResolution?function(t,e,n){return function(i,o,r,a){if(void 0!==i){var s=t[0],l=t[t.length-1],c=n?xp(s,n,r):s;if(a)return void 0===e||e?wp(i,c,l):qo(i,l,c);var u=Math.min(c,i),h=Math.floor(Ua(t,u,o));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(f,l,!h&&p):Ep(n,i,l,!h&&p)}else{var d=u?Math.max(zr(u),kr(u)):360*Br[Ur.DEGREES]/c.getMetersPerUnit(),g=d/pc/Math.pow(2,sf),v=g/Math.pow(2,28-sf);void 0!==(n=t.maxResolution)?o=0:n=g/Math.pow(a,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):g/Math.pow(a,r):v),r=o+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,r-o),e=t.constrainResolution?function(t,e,n,i,o){return function(r,a,s,l){if(void 0!==r){var c=o?xp(e,o,s):e,u=void 0!==n?n:0;if(l)return void 0===i||i?wp(r,c,u):qo(r,u,c);var h=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),p=-a*(.5-1e-9)+.5,f=Math.min(c,r),d=Math.floor(Math.log(e/f)/Math.log(t)+p),g=Math.max(h,d);return qo(e/Math.pow(t,g),u,c)}}}(a,n,i,l,!h&&p):Ep(n,i,l,!h&&p)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return _p(t.extent,t.constrainOnlyCenter,e)}var n=ba(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,_p(i,!1,!1)}return bp}(t),i=e.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=o||Jo(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Sp:"number"===typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):Sp}return Op;var n,i;var o,r}(t);this.constraints_={center:n,resolution:i,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=sa({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),sa({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=sa({},i)).center=Fa(i.center,this.getProjection())),i.anchor&&((i=sa({},i)).anchor=Fa(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&lf(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],c=0;c<n;++c){var u=arguments[c],h={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||Rl,callback:e};if(u.center&&(h.sourceCenter=r,h.targetCenter=u.center.slice(),r=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),void 0!==u.rotation){h.sourceRotation=s;var p=$o(u.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}cf(h)?h.complete=!0:o+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(Mu,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Mu]>0},e.prototype.getInteracting=function(){return this.hints_[Lu]>0},e.prototype.cancelAnimations=function(){this.setHint(Mu,-this.hints_[Mu]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&lf(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var l=t-s.start,c=s.duration>0?l/s.duration:1;c>=1?(s.complete=!0,c=1):o=!1;var u=s.easing(c);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],f=h+u*(s.targetCenter[0]-h),d=p+u*(s.targetCenter[1]-p);this.targetCenter_=[f,d]}if(s.sourceResolution&&s.targetResolution){var g=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getSizeFromViewport_(this.getRotation()),m=this.constraints_.resolution(g,0,v,!0);this.targetCenter_=this.calculateCenterZoom(m,s.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var y=1===u?$o(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var _=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(_,s.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(Mu,-1);var b=i[0].callback;b&&lf(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenterInternal();return void 0!==r&&(Rp(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(i=n)[0]+=+o[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),o=this.getResolution();void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+rr(this)+'"]',i=document.querySelector(n);if(i){var o=getComputedStyle(i);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var r=e[0],a=e[1];e[0]=Math.abs(r*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(r*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?La(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Tp)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Da(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();cr(n,1);var i=this.getResolution();cr(void 0!==i,2);var o=this.getRotation();return cr(void 0!==o,3),Dr(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Cp)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(ka(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),i=zr(t)/n[0],o=kr(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(Ip)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/o}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=Ua(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=qo(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,qo(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,i=sa({size:this.getSizeFromViewport_()},e||{});if(cr(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t))cr(!Yr(t),25),n=rf(o=ka(t,this.getProjection()));else if(t.getType()===tr.CIRCLE){var o;(n=rf(o=ka(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Lr(o))}else{var r=Ma();n=r?n.clone().transform(r,this.getProjection()):t}this.fitInternal(n,i)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getSizeFromViewport_());var o,r=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),l=this.getRotation(),c=Math.cos(-l),u=Math.sin(-l),h=1/0,p=1/0,f=-1/0,d=-1/0,g=t.getStride(),v=0,m=s.length;v<m;v+=g){var y=s[v]*c-s[v+1]*u,_=s[v]*u+s[v+1]*c;h=Math.min(h,y),p=Math.min(p,_),f=Math.max(f,y),d=Math.max(d,_)}var b=this.getResolutionForExtentInternal([h,p,f,d],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);b=isNaN(b)?o:Math.max(b,o),b=this.getConstrainedResolution(b,a?0:1),u=-u;var x=(h+f)/2,w=(p+d)/2,E=[(x+=(r[1]-r[3])/2*b)*c-(w+=(r[0]-r[2])/2*b)*u,w*c+x*u],O=n.callback?n.callback:Ja;void 0!==n.duration?this.animateInternal({resolution:b,center:this.getConstrainedCenter(E,b),duration:n.duration,easing:n.easing},O):(this.targetResolution_=b,this.targetCenter_=E,this.applyTargetState_(!1,!0),lf(O,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Fa(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var i=this.getRotation(),o=Math.cos(-i),r=Math.sin(-i),a=t[0]*o-t[1]*r,s=t[1]*o+t[0]*r,l=this.getResolution(),c=(a+=(e[0]/2-n[0])*l)*o-(s+=(n[1]-e[1]/2)*l)*(r=-r),u=s*o+a*r;this.setCenterInternal([c,u])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=La(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Fa(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getSizeFromViewport_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Fa(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Fa(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getSizeFromViewport_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,r,o,n);this.get(Ip)!==i&&this.set(Ip,i),this.get(Cp)!==r&&this.set(Cp,r),this.get(Tp)&&Pp(this.get(Tp),a)||this.set(Tp,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(r),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===i)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&Pp(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:s,duration:i,easing:Pl,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Lu,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&Fa(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(Lu,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(ls),hf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pf=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return hf(e,t),e}($a),ff=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),df=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return ff(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(pf),gf=(n("04ff8c05da014e6eacb1"),{SINGLECLICK:"singleclick",CLICK:Ya.CLICK,DBLCLICK:Ya.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}),vf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mf=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i,o,r)||this;return a.pointerEvent=i,a}return vf(e,t),e}(df),yf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},_f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bf=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*Gl:Gl,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Na(o,yf.POINTERDOWN,i.handlePointerDown_,i),i.relayedListenerKey_=Na(o,yf.POINTERMOVE,i.relayEvent_,i),i}return _f(e,t),e.prototype.emulateClick_=function(t){var e=new mf(gf.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new mf(gf.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new mf(gf.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==gf.POINTERUP||e.type==gf.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==gf.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new mf(gf.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Ga),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new mf(gf.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Na(document,gf.POINTERMOVE,this.handlePointerMove_,this),Na(document,gf.POINTERUP,this.handlePointerUp_,this),Na(this.element_,gf.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new mf(gf.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new mf(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Ga(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Ga(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ga),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(ts),xf="postrender",wf="movestart",Ef="moveend",Of={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Sf=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,la(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){cr(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<i&&n[l]<n[s]?l:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=o,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>r))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=i(t=o[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,o[a++]=t);o.length=a,r.length=a,this.heapify_()},t}(),Tf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cf=function(t){function e(e,n){var i=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Tf(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(Ya.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===Is.LOADED||n===Is.ERROR||n===Is.EMPTY||n===Is.ABORT){e.removeEventListener(Ya.CHANGE,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,r=0,a=!1;this.tilesLoading_<t&&r<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===Is.ABORT?a=!0:n!==Is.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,i.load());0===r&&a&&this.tileChangeCallback_()},e}(Sf),If=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pf={LAYERS:"layers"},Rf=function(t){function e(e){var n=this,i=e||{},o=sa({},i);delete o.layers;var r=i.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(ss(Pf.LAYERS),n.handleLayersChanged_),r?Array.isArray(r)?r=new Zh(r.slice(),{unique:!0}):cr("function"===typeof r.getArray,43):r=new Zh(void 0,{unique:!0}),n.setLayers(r),n}return If(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ga),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Na(t,Hh.ADD,this.handleLayersAdd_,this),Na(t,Hh.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Ga);la(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var r=n[i];this.listenerKeys_[rr(r)]=[Na(r,Wa,this.handleLayerChange_,this),Na(r,Ya.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[rr(e)]=[Na(e,Wa,this.handleLayerChange_,this),Na(e,Ya.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=rr(t.element);this.listenerKeys_[e].forEach(Ga),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(Pf.LAYERS)},e.prototype.setLayers=function(t){this.set(Pf.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),o=n,r=e.length;o<r;o++){var a=e[o];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==a.extent?a.extent=Ar(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return ms.READY},e}(hs),Mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Lf(t,e){t.style.msTouchAction=e,t.style.touchAction=e,t.setAttribute("touch-action",e)}var Ff=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,r={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Rf({layers:t.layers});r[Of.LAYERGROUP]=a,r[Of.TARGET]=t.target,r[Of.VIEW]=void 0!==t.view?t.view:new uf,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Zh(t.controls.slice()):(cr("function"===typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Zh(t.interactions.slice()):(cr("function"===typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new Zh(t.overlays.slice()):(cr("function"===typeof t.overlays.getArray,49),o=t.overlays):o=new Zh;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:r}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Gl,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new bf(n,e.moveTolerance);var o=n.handleMapBrowserEvent.bind(n);for(var r in gf)n.mapBrowserEventHandler_.addEventListener(gf[r],o);n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var a=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(Ya.CONTEXTMENU,a,!1),n.viewport_.addEventListener(Ya.WHEEL,a,!1),n.controls=i.controls||new Zh,n.interactions=i.interactions||new Zh,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new Cf(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(ss(Of.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener(ss(Of.VIEW),n.handleViewChanged_),n.addEventListener(ss(Of.SIZE),n.handleSizeChanged_),n.addEventListener(ss(Of.TARGET),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(Hh.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(Hh.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(Hh.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Hh.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(Hh.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(Hh.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return Mf(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(Ya.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ya.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(Ya.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==n.layerFilter?n.layerFilter:Va,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},o=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=i.layerFilter||Va;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Va,o=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Of.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return La(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Hs(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Of.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Fa(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Hs(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Of.SIZE)},e.prototype.getView=function(){return this.get(Of.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var o=this.frameState_;if(!o||!(e in o.wantedTiles))return 1/0;if(!o.wantedTiles[e][t.getKey()])return 1/0;var r=o.viewState.center,a=n[0]-r[0],s=n[1]-r[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new df(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=n.length-1;i>=0;i--){var o=n[i];if(o.getActive())if(!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[Mu]||o[Lu]){var r=!Yl&&Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(vs)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(vs,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.focusHandlerKeys_){for(var e=0,n=this.focusHandlerKeys_.length;e<n;++e)Ga(this.focusHandlerKeys_[e]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(e=0,n=this.keyHandlerKeys_.length;e<n;++e)Ga(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var i=!0;t.hasAttribute("tabindex")&&(i=document.activeElement===t,this.focusHandlerKeys_=[Na(t,Ya.FOCUS,Lf.bind(this,this.viewport_,"none")),Na(t,Ya.BLUR,Lf.bind(this,this.viewport_,"auto"))]),Lf(this.viewport_,i?"none":"auto");var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Na(o,Ya.KEYDOWN,this.handleBrowserEvent,this),Na(o,Ya.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(Ya.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Fs(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(Ya.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Ga(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ga(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",rr(t)),this.viewPropertyListenerKey_=Na(t,Wa,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Na(t,Ya.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ga),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Na(t,Wa,this.render,this),Na(t,Ya.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),i=this.frameState_,o=null;if(void 0!==e&&function(t){return t[0]>0&&t[1]>0}(e)&&n&&n.isDef()){var r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:i?i.declutterItems:[],extent:Dr(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:r,wantedTiles:{}}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!Yr(this.previousExtent_)&&!Er(o.extent,this.previousExtent_))&&(this.dispatchEvent(new pf(wf,this,i)),this.previousExtent_=wr(this.previousExtent_));this.previousExtent_&&!o.viewHints[Mu]&&!o.viewHints[Lu]&&!Er(o.extent,this.previousExtent_)&&(this.dispatchEvent(new pf(Ef,this,o)),dr(o.extent,this.previousExtent_))}this.dispatchEvent(new pf(xf,this,o)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Of.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Of.SIZE,t)},e.prototype.setTarget=function(t){this.set(Of.TARGET,t)},e.prototype.setView=function(t){this.set(Of.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(ls),Df=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kf=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:Ja,e.target&&n.setTarget(e.target),n}return Df(e,t),e.prototype.disposeInternal=function(){Fs(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Fs(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Ga(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ja&&this.listenerKeys.push(Na(t,xf,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(ls),Af=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function jf(t){this.updateElement_(t.frameState)}var Nf=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render||jf,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"\xbb";"string"===typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==i.label?i.label:"i";"string"===typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var l=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=r,c.appendChild(l),c.addEventListener(Ya.CLICK,n.handleClick_.bind(n),!1);var u=o+" "+Ys+" "+Ws+(n.collapsed_&&n.collapsible_?" "+Xs:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=u,h.appendChild(n.ulElement_),h.appendChild(c),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return Af(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,o=0,r=i.length;o<r;++o){var a=i[o];if(_s(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var u=0,h=c.length;u<h;++u)c[u]in e||(n.push(c[u]),e[c[u]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Ka(e,this.renderedAttributions_)){Ds(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Xs),this.collapsed_?Ls(this.collapseLabel_,this.label_):Ls(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(kf),zf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Gf(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(zs);o||0!==n?o&&0!==n&&this.element.classList.remove(zs):this.element.classList.add(zs)}this.label_.style.transform=i}this.rotation_=n}}var Yf=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render||Gf,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"\u21e7";n.label_=null,"string"===typeof r?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=r):(n.label_=r,n.label_.classList.add("ol-compass"));var a=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=o+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener(Ya.CLICK,n.handleClick_.bind(n),!1);var l=o+" "+Ys+" "+Ws,c=n.element;return c.className=l,c.appendChild(s),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(zs),n}return zf(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:Pl}):t.setRotation(0))},e}(kf),Wf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xf=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",l=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=o+"-in",u.setAttribute("type","button"),u.title=l,u.appendChild("string"===typeof a?document.createTextNode(a):a),u.addEventListener(Ya.CLICK,n.handleClick_.bind(n,r),!1);var h=document.createElement("button");h.className=o+"-out",h.setAttribute("type","button"),h.title=c,h.appendChild("string"===typeof s?document.createTextNode(s):s),h.addEventListener(Ya.CLICK,n.handleClick_.bind(n,-r),!1);var p=o+" "+Ys+" "+Ws,f=n.element;return f.className=p,f.appendChild(u),f.appendChild(h),n.duration_=void 0!==i.duration?i.duration:250,n}return Wf(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:Pl})):e.setZoom(i)}}},e}(kf);function Bf(t){var e=t||{},n=new Zh;return(void 0===e.zoom||e.zoom)&&n.push(new Xf(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Yf(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Nf(e.attributionOptions)),n}var Uf=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),Hf="active",qf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Kf(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:Pl})}}var Vf=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return qf(e,t),e.prototype.getActive=function(){return this.get(Hf)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Hf,t)},e.prototype.setMap=function(t){this.map_=t},e}(ls),Zf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Jf(t){var e=!1;if(t.type==gf.DBLCLICK){var n=t.originalEvent,i=t.map,o=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;Kf(i.getView(),r,o,this.duration_),t.preventDefault(),e=!0}return!e}var $f=function(t){function e(e){var n=t.call(this,{handleEvent:Jf})||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return Zf(e,t),e}(Vf),Qf=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},td=function(t){return t.target.getTargetElement()===document.activeElement},ed=Va,nd=function(t){var e=t.originalEvent;return 0==e.button&&!(Nl&&zl&&e.ctrlKey)},id=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},od=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},rd=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},ad=function(t){var e=t.pointerEvent;return cr(void 0!==e,56),"mouse"==e.pointerType},sd=function(t){var e=t.pointerEvent;return cr(void 0!==e,56),e.isPrimary&&0===e.button},ld=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function cd(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}var ud=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return ld(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==gf.POINTERDRAG)this.handleDragEvent(t);else if(t.type==gf.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==gf.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==gf.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===gf.POINTERDOWN||e===gf.POINTERDRAG||e===gf.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==gf.POINTERUP?delete this.trackedPointers_[n]:t.type==gf.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=ca(this.trackedPointers_)}},e}(Vf),hd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function pd(t){return id(t)&&sd(t)}var fd=function(t){function e(e){var n=t.call(this,{stopDown:Za})||this,i=e||{};return n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=i.condition?i.condition:pd,n.noKinetic_=!1,n}return hd(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,o=cd(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=t.map.getView();e=r,n=a.getResolution(),e[0]*=n,e[1]*=n,Rp(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Pl})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(ud),dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gd=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:Za})||this).condition_=i.condition?i.condition:Qf,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return dd(e,t),e.prototype.handleDragEvent=function(t){if(ad(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Op){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!ad(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!ad(t)&&(!(!nd(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(ud),vd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),md=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return vd(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new of([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Xa),yd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_d="boxstart",bd="boxdrag",xd="boxend",wd=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return yd(e,t),e}($a),Ed=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new md(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,n.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:Ja,n.startPixel_=null,n.condition_=i.condition?i.condition:ed,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return yd(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){ad(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new wd(bd,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!ad(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new wd(xd,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!ad(t)&&(!(!nd(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new wd(_d,t.coordinate,t)),!0))},e}(ud),Od=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Sd(){var t,e,n=this.getMap(),i=n.getView(),o=n.getSize(),r=this.getGeometry().getExtent();if(this.out_){var a=i.calculateExtentInternal(o),s=(t=[n.getPixelFromCoordinateInternal(Rr(r)),n.getPixelFromCoordinateInternal(Nr(r))],Tr(wr(e),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(a,1/i.getResolutionForExtentInternal(s,o)),r=a}var l=i.getConstrainedResolution(i.getResolutionForExtentInternal(r,o)),c=i.getConstrainedCenter(Lr(r),l);i.animateInternal({resolution:l,center:c,duration:this.duration_,easing:Pl})}var Td=function(t){function e(e){var n=this,i=e||{},o=i.condition?i.condition:od;return(n=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea,onBoxEnd:Sd})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return Od(e,t),e}(Ed),Cd={LEFT:37,UP:38,RIGHT:39,DOWN:40},Id=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Pd(t){var e=!1;if(t.type==Ya.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Cd.DOWN||n==Cd.LEFT||n==Cd.RIGHT||n==Cd.UP)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,r=0,a=0;n==Cd.DOWN?a=-o:n==Cd.LEFT?r=-o:n==Cd.RIGHT?r=o:a=o;var s=[r,a];Rp(s,i.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var o=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Ml,center:t.getConstrainedCenter(o)})}}(i,s,this.duration_),t.preventDefault(),e=!0}}return!e}var Rd=function(t){function e(e){var n=t.call(this,{handleEvent:Pd})||this,i=e||{};return n.defaultCondition_=function(t){return id(t)&&rd(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return Id(e,t),e}(Vf),Md=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ld(t){var e=!1;if(t.type==Ya.KEYDOWN||t.type==Ya.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Kf(i.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Fd=function(t){function e(e){var n=t.call(this,{handleEvent:Ld})||this,i=e||{};return n.condition_=i.condition?i.condition:rd,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return Md(e,t),e}(Vf),Dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kd="trackpad",Ad="wheel",jd=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:ed,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return Dd(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==Ya.WHEEL)return!0;t.preventDefault();var e,n=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Ya.WHEEL&&(e=i.deltaY,jl&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=Gl),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?kd:Ad),this.mode_===kd){var r=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):r.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),r.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1}this.totalDelta_+=e;var a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),Kf(e,-qo(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Vf),Nd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zd=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Za),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return Nd(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Op){var l=a.getViewport().getBoundingClientRect(),c=cd(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(ud),Gd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yd=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Za),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Gd(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,a=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var c=s.getViewport().getBoundingClientRect(),u=cd(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(ud);function Wd(t){var e=t||{},n=new Zh,i=new Uf(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new gd),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new $f({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new fd({condition:e.onFocusOnly?td:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new zd),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Yd({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Rd),n.push(new Fd({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new jd({condition:e.onFocusOnly?td:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Td({duration:e.zoomDuration})),n}var Xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Bd(t,e){Kc.expire()}var Ud,Hd=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return Xd(e,t),e.prototype.dispatchRenderEvent=function(t,e){ir()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;qs(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Ks(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a,s){var l,c=e.viewState;function u(t,e,n){return o.call(r,e,t?n:null)}var h=c.projection,p=t,f=[[0,0]];if(h.canWrapX()){var d=h.getExtent(),g=zr(d),v=t[0];if(v<d[0]||v>d[2])p=[v+g*Math.ceil((d[0]-v)/g),t[1]];i&&f.push([-g,0],[g,0])}var m,y=e.layerStatesArray,_=y.length;this.declutterTree_&&(m=this.declutterTree_.all().map(function(t){return t.value}));for(var b=[],x=0;x<f.length;x++)for(var w=_-1;w>=0;--w){var E=y[w],O=E.layer;if(O.hasRenderer()&&_s(E,c)&&a.call(s,O)){var S=O.getRenderer(),T=O.getSource();if(S&&T){var C=T.getWrapX()?p:t,I=u.bind(null,E.managed);b[0]=C[0]+f[x][0],b[1]=C[1]+f[x][1],l=S.forEachFeatureAtCoordinate(b,e,n,I,m)}if(l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return ir()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,Va,this,o,r)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,i=n.length-1;i>=0;--i)for(var o=n[i],r=o.items,a=0,s=r.length;a<s;a+=3)e=r[a].renderDeclutter(r[a+1],r[a+2],o.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){Kc.canExpireCache()&&t.postRenderFunctions.push(Bd)},e}(Xa),qd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kd=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=Na(il,Ya.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Ys+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return qd(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new Ns(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){Ga(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(ds,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),i=e.viewState;this.children_.length=0;for(var o=null,r=0,a=n.length;r<a;++r){var s=n[r];if(e.layerIndex=r,_s(s,i)&&(s.sourceState==ms.READY||s.sourceState==ms.UNDEFINED)){var l=s.layer.render(e,o);l&&l!==o&&(this.children_.push(l),o=l)}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,i=0;;++i){var o=n[i],r=e[i];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent(gs,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],c=l.layer;if(c.hasRenderer()&&_s(l,r)&&o(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var h=i(c,u);if(h)return h}}}},e}(Hd),Vd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zd=function(t){function e(e){return(e=sa({},e)).controls||(e.controls=Bf()),e.interactions||(e.interactions=Wd()),t.call(this,e)||this}return Vd(e,t),e.prototype.createRenderer=function(){return new Kd(this)},e}(Ff);n("403df48ddaa9afb322f2");function Jd(t){return(Jd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Qd(t){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eg(t,e){return(eg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ng={openlayersMap:{height:"100%",width:"100%",minWidth:399}},ig=function(t){function e(t){var n,i,o,r,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,o=Qd(e).call(this,t),n=!o||"object"!==Jd(o)&&"function"!==typeof o?tg(i):o,r=tg(n),s=function(t){var e=n.map.getEventPixel(t.originalEvent),i=n.map.hasFeatureAtPixel(e);n.map.getTarget().style.cursor=i?"pointer":"inherit"},(a="changeMarkersPointer")in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,n.map=null,n.mapDiv=null,n.layers=[],n.interactions=[],n.controls=[],n.overlays=[],n.options={pixelRation:void 0,keyboardEventTarget:void 0,loadTilesWhileAnimation:void 0,loadTilesWhileInteractiong:void 0,logo:void 0,renderer:void 0,setCenter:void 0,setZoom:void 0,setResolution:void 0,view:new uf({center:xa([32.4279,53.688]),zoom:3}),controls:void 0,interactions:void 0,layers:void 0,overlays:void 0},n.events={change:[],"change:layerGroup":[],"change:size":[],"change:target":[],"change:view":[],click:[],dblclick:[],moveend:[],pointerdrag:[],pointermove:[],postcompose:[],postrender:[],precompose:[],propertychange:[],singleclick:[]},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eg(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){var t,e,n,i,o=_u(Object.assign(this.options,this.props)),a=function(t,e){for(var n,i=r.a.Children.toArray(t),o=0;o<i.length;o+=1){var a=i[o];if(a.type.name===e){n=a;break}}return n}(this.props.children,"Controls")||{},s=this.props.interactions||{};o.controls=Bf(a.props).extend(this.controls),o.interactions=Wd(s).extend(this.interactions),o.layers=this.layers,o.overlays=this.overlays,o.view instanceof uf||(o.view=new uf(o.view)),this.map=new Zd(o),this.map.setTarget(o.target||this.mapDiv),this.map.on("pointermove",this.changeMarkersPointer),t=this.map,e=this.events,n=this.props,i=yu(e,n),At()(i,function(e,n){e.forEach(function(e){return t.on(n,function(n){return e(t,n)})})})}},{key:"render",value:function(){var t=this;return function(t,e,n,i){Ud||(Ud="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Ud,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(Ac,{value:this},void 0,r.a.createElement("div",{style:ng.openlayersMap,ref:function(e){t.mapDiv=e}},this.props.children))}}])&&$d(n.prototype,i),o&&$d(n,o),e}(),og=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var rg=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(ss(n.geometryName_),n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var i=e;n.setGeometry(i)}else{var o=e;n.setProperties(o)}return n}return og(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Ga(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Na(t,Ya.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{cr("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(ss(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(ss(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(ls);function ag(t){return(ag="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lg(t,e){return!e||"object"!==ag(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cg(t){return(cg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ug(t,e){return(ug=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hg=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),lg(this,cg(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ug(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.course,i=t.height,o=t.id,r=t.icon,a=(t.isPinned,t.isSelected),s=t.label,l=t.latitude,c=t.longitude,u=t.type,h=t.width,p=t.style;this.feature=new rg({id:o,type:u,geometry:new Xp(xa([c,l]))});var f=bu(e,n,i,r,a,h,p);f.getText().setText(decodeURI(s)),this.feature.setStyle(f),this.context.vectorSource.addFeature(this.feature)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.color,i=e.course,o=e.height,r=e.icon,a=e.isPinned,s=e.isSelected,l=e.label,c=e.latitude,u=e.longitude,h=e.style,p=e.width;if(n!==t.color||c!==t.latitude||u!==t.longitude||s!==t.isSelected||a!==t.isPinned){var f=new Xp(xa([u,c]));if(a)this.context.context.map.getView().setCenter(f.getCoordinates());else if(s){if(!vr(this.context.context.map.getView().calculateExtent(this.context.context.map.getSize()),f.getCoordinates()))this.context.context.map.getView().setCenter(f.getCoordinates())}this.feature.setGeometry(f);var d=bu(n,i,o,r,s,p,h);d.getText().setText(decodeURI(l)),this.feature.setStyle(d)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Icon")}},{key:"render",value:function(){return null}}])&&sg(n.prototype,i),o&&sg(n,o),e}();hg.contextType=gp;var pg=hg;function fg(t,e,n,i,o,r){var a=NaN,s=NaN,l=(n-e)/i;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-o)*t[e]+o*t[e+i],s=(1-o)*t[e+1]+o*t[e+i+1];else if(0!==l){for(var c=t[e],u=t[e+1],h=0,p=[0],f=e+i;f<n;f+=i){var d=t[f],g=t[f+1];h+=Math.sqrt((d-c)*(d-c)+(g-u)*(g-u)),p.push(h),c=d,u=g}var v=o*h,m=function(t,e,n){for(var i,o,r=n||Ba,a=0,s=t.length,l=!1;a<s;)(o=+r(t[i=a+(s-a>>1)],e))<0?a=i+1:(s=i,l=!o);return l?a:~a}(p,v);if(m<0){var y=(v-p[-m-2])/(p[-m-1]-p[-m-2]),_=e+(-m-2)*i;a=Qo(t[_],t[_+i],y),s=Qo(t[_+1],t[_+i+1],y)}else a=t[e+m*i],s=t[e+m*i+1]}return r?(r[0]=a,r[1]=s,r):[a,s]}function dg(t,e,n,i,o,r){if(n==e)return null;var a;if(o<t[e+i-1])return r?((a=t.slice(e,e+i))[i-1]=o,a):null;if(t[n-1]<o)return r?((a=t.slice(n-i,n))[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var s=e/i,l=n/i;s<l;){var c=s+l>>1;o<t[(c+1)*i-1]?l=c:s=c+1}var u=t[s*i-1];if(o==u)return t.slice((s-1)*i,(s-1)*i+i);var h=(o-u)/(t[(s+1)*i-1]-u);a=[];for(var p=0;p<i-1;++p)a.push(Qo(t[(s-1)*i+p],t[s*i+p],h));return a.push(o),a}var gg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vg=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return gg(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?qa(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<gr(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ap(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Kp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=kh.XYM&&this.layout!=kh.XYZM)return null;var n=void 0!==e&&e;return dg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Fu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return fg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return lh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Vu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,kh.XY)},e.prototype.getType=function(){return tr.LINE_STRING},e.prototype.intersectsExtent=function(t){return Vp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Np(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Nh);function mg(t){return(mg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _g(t,e){return!e||"object"!==mg(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bg(t){return(bg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xg(t,e){return(xg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wg=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_g(this,bg(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xg(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.id,i=t.positions,o=t.width,r=i?i.map(function(t){return xa([t.longitude,t.latitude])}):[];this.feature=new rg({geometry:new vg(r)}),this.feature.setStyle(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return new pu({stroke:new su({color:t||"rgba(50, 50, 50, 1.0)",width:e})})}(e,o)),this.feature.setId("LINE-".concat(n)),this.context.vectorSource.addFeature(this.feature)}},{key:"componentDidUpdate",value:function(t){var e=this.props.positions.slice(-1)[0],n=t.positions.slice(-1)[0];if(e.longitude!==n.longitude||e.latitude!==n.latitude){var i=this.feature.getGeometry().getCoordinates();this.props.length&&i.length>=this.props.length&&i.shift(),i.push(xa([e.longitude,e.latitude])),this.feature.getGeometry().setCoordinates(i)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Line")}},{key:"render",value:function(){return null}}])&&yg(n.prototype,i),o&&yg(n,o),e}();wg.contextType=gp;var Eg={Icon:pg,Line:wg},Og=n("25bd7a87af357973417a"),Sg=n.n(Og),Tg=n("63f14ac74ce296f77f4d"),Cg=n.n(Tg),Ig={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Pg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rg={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Mg=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Gs,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(ss(Rg.ELEMENT),n.handleElementChanged),n.addEventListener(ss(Rg.MAP),n.handleMapChanged),n.addEventListener(ss(Rg.OFFSET),n.handleOffsetChanged),n.addEventListener(ss(Rg.POSITION),n.handlePositionChanged),n.addEventListener(ss(Rg.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:Ig.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return Pg(e,t),e.prototype.getElement=function(){return this.get(Rg.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(Rg.MAP)},e.prototype.getOffset=function(){return this.get(Rg.OFFSET)},e.prototype.getPosition=function(){return this.get(Rg.POSITION)},e.prototype.getPositioning=function(){return this.get(Rg.POSITIONING)},e.prototype.handleElementChanged=function(){Ds(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Fs(this.element),Ga(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Na(t,xf,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Rg.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(Rg.ELEMENT,t)},e.prototype.setMap=function(t){this.set(Rg.MAP,t)},e.prototype.setOffset=function(t){this.set(Rg.OFFSET,t)},e.prototype.setPosition=function(t){this.set(Rg.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Rs(n),Ms(n)]),o=this.autoPanMargin;if(!mr(e,i)){var r=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],l=e[3]-i[3],c=[0,0];if(r<0?c[0]=r-o:a<0&&(c[0]=Math.abs(a)+o),s<0?c[1]=s-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){var u=t.getView().getCenterInternal(),h=t.getPixelFromCoordinateInternal(u),p=[h[0]+c[0],h[1]+c[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(Rg.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var r=i[0],a=i[1];if(o==Ig.BOTTOM_RIGHT||o==Ig.CENTER_RIGHT||o==Ig.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_="",n.left="");var s=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=s&&(this.rendered.right_=s,n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_="",n.right=""),o!=Ig.BOTTOM_CENTER&&o!=Ig.CENTER_CENTER&&o!=Ig.TOP_CENTER||(r-=this.element.offsetWidth/2);var l=Math.round(t[0]+r)+"px";this.rendered.left_!=l&&(this.rendered.left_=l,n.left=l)}if(o==Ig.BOTTOM_LEFT||o==Ig.BOTTOM_CENTER||o==Ig.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_="",n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=c,n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",n.bottom=""),o!=Ig.CENTER_LEFT&&o!=Ig.CENTER_CENTER&&o!=Ig.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var u=Math.round(t[1]+a)+"px";this.rendered.top_!=u&&(this.rendered.top_="top",n.top=u)}},e.prototype.getOptions=function(){return this.options},e}(ls);function Lg(t){return(Lg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fg(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Dg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kg(t){return(kg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ag(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jg(t,e){return(jg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ng(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zg=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);t.children;var i,o,r=t.onClose,a=t.onOpen,s=Fg(t,["children","onClose","onOpen"]);i=this,o=kg(e).call(this,t),n=!o||"object"!==Lg(o)&&"function"!==typeof o?Ag(i):o,Ng(Ag(n),"renderOverlay",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=n.feature.getGeometry().getCoordinates();n.overlay.setPosition(e),n.onOpen(n.options.element),t&&n.forceUpdate()}),Ng(Ag(n),"handleOverly",function(t,e){if("ol-overlaycontainer-stopevent"===e.originalEvent.target.className){var i=n.context.map.forEachFeatureAtPixel(e.pixel,function(t){return t});i!==n.feature&&(n.feature=i,n.feature?n.renderOverlay(!0):(n.overlay.setPosition(void 0),n.onClose(),n.isVisible=!1))}else e.stopPropagation()}),n.feature=null,n.onClose=r||n.defaultHandler,n.onOpen=a||n.defaultHandler,n.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Ng(t,e,n[e])})}return t}({},s);var l=document.createElement("div");return l.style.minWidth="300px",n.options.element=l,n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jg(t,e)}(e,r.a.PureComponent),n=e,(i=[{key:"componentDidMount",value:function(){this.overlay=new Mg(this.options),this.context.overlays.push(this.overlay),this.context.events.click.push(this.handleOverly)}},{key:"componentDidUpdate",value:function(){this.feature&&this.props.children&&this.feature.get("id")===this.props.children.key?this.renderOverlay():this.overlay.setPosition(void 0)}},{key:"componentWillUnmount",value:function(){Sg()(this.context.overlayers,this.overlay)}},{key:"defaultHandler",value:function(){return null}},{key:"render",value:function(){return Cg.a.createPortal(this.feature?this.props.children:null,this.options.element)}}])&&Dg(n.prototype,i),o&&Dg(n,o),e}();zg.contextType=jc;var Gg,Yg=zg;function Wg(t,e,n,i){Gg||(Gg="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Gg,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Xg,Bg=Object(H.b)({isLiveRouteEnabled:Object(H.a)(Un,function(t){return t.isLiveRouteEnabled}),latestPositions:Object(H.a)(Hn(),Kn(),qn(),function(t,e,n){return function(t,e,n){return dt()(t,function(t){return t&&t.positions&&Nn({isSelected:e===t.uniqueId,isPinned:n===t.uniqueId},t.positions.slice(-1)[0])}).filter(function(t){return!!t})}(t,e,n)})}),Ug=Object(u.c)(Bg),Hg=Object(h.d)(Ug)(function(t){var e=t.isLiveRouteEnabled,n=t.latestPositions;return Wg(mp.Vector,{},void 0,n.map(function(t){return Wg("div",{},t.uniqueId,Wg(Eg.Icon,{id:t.uniqueId,isPinned:t.isPinned,isSelected:t.isSelected,label:t.name,latitude:t.latitude,longitude:t.longitude,course:t.course,category:t.category,color:t.color,icon:t.icon,width:t.width,height:t.height,type:"device"}),e&&Wg(Eg.Line,{color:"#".concat(t.uniqueId.slice(-6)),id:t.uniqueId,length:10,positions:[t]}))}))}),qg=n("a5212af3d6b7e4a810a0"),Kg=n("0da2b258a142f2074b40");function Vg(t,e,n,i){Xg||(Xg="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:Xg,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Zg=Object(s.a)({card:{},content:{padding:5}}),Jg=Object(H.b)({selectedDevice:Vn(),pinnedDevice:qn()});var $g,Qg=Object(u.c)(Jg,function(t){return{onPin:function(e){return t(Le(e))}}}),tv=Object(h.d)(Qg)(r.a.memo(function(t){var e=t.onPin,n=t.pinnedDevice,i=t.selectedDevice,o=Zg();return Vg(Yg,{autoPan:!0,offset:[0,-50],positioning:"bottom-center"},void 0,i&&Vg(qg.a,{className:o.card},i.uniqueId,Vg(Kg.a,{className:o.content},void 0,Vg(te,{fleet:i,isPinned:i.uniqueId===n,onPin:e}))))}));function ev(t,e,n,i){$g||($g="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:$g,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var nv=Object(H.b)({positions:Hi(),selectedPosition:qi(),showMarkers:Ui(),units:Object($n.c)()}),iv=Object(u.c)(nv),ov=Object(h.d)(iv)(function(t){var e=t.positions,n=t.selectedPosition,i=t.showMarkers,o=t.units;return ev(mp.Vector,{},void 0,i&&e&&e.map(function(t){return ev("div",{},t.id,ev(Eg.Icon,{id:t.id,isSelected:n&&n.id===t.id,label:Gt(t.speed,"speed",o),latitude:t.latitude,longitude:t.longitude,course:t.course,icon:t.icon.source,width:t.icon.width,height:t.icon.height,type:"position"}))}),!i&&n&&ev(Eg.Icon,{id:n.id,isSelected:!0,label:Gt(n.speed,"speed",o),latitude:n.latitude,longitude:n.longitude,course:n.course,icon:n.icon.source,width:n.icon.width,height:n.icon.height}),e&&ev(Eg.Line,{id:e[0].deviceId,color:"#00ff00",positions:e}))});var rv,av=function(t,e){var n=t.forEachFeatureAtPixel(e.pixel,function(t){return t});if(n)switch(n.get("type")){case"device":return Fe(n.get("id"));case"position":return zi({id:n.get("id")});default:return null}return null};function sv(t,e,n,i){rv||(rv="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:rv,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var lv=Object(s.a)(function(){return{map:{margin:0,top:0,right:0,bottom:0,left:0,minHeight:"100%",position:"absolute"}}}),cv=sv(ov,{}),uv=sv(Hg,{}),hv=sv(tv,{});var pv=Object(H.b)({server:Object($n.b)(),mapSource:Object(H.a)(Object($n.d)(),Object($n.b)(),function(t,e){return function(t,e){switch(t.map){case"bingRoad":return new Mc({url:e.mapUrl.replace(/lyrs=m/g,"lyrs=y"),attributions:"Google Satellite"});default:return new Dc}}(t,e)})});var fv,dv=Object(u.c)(pv,function(t){return{onClick:function(e,n){return t(av(e,n)||{type:null})}}}),gv=Object(h.d)(dv)(function(t){var e=t.mapSource,n=t.onClick,i=t.server,o=lv(),r=xa([i.longitude,i.latitude]);return sv("div",{className:o.map},void 0,sv(ig,{onClick:n,view:{center:r,zoom:i.zoom},interactions:{altShiftDragRotate:!1,pinchRotate:!1}},void 0,sv(yp,{},void 0,sv(mp.Tile,{source:e}),cv,uv,hv)))});function vv(t,e,n,i){fv||(fv="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),e&&o)for(var a in o)void 0===e[a]&&(e[a]=o[a]);else e||(e=o||{});if(1===r)e.children=i;else if(r>1){for(var s=new Array(r),l=0;l<r;l++)s[l]=arguments[l+3];e.children=s}return{$$typeof:fv,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}n.d(e,"HomePage",function(){return xv});var mv=Object(s.a)(function(){return{root:{minHeight:"100%"}}}),yv=vv(a.a,{}),_v=vv(Ho,{}),bv=vv(gv,{});function xv(t){var e=t.onLiveRoute,n=t.onSearch;return vv("div",{id:"home_page",className:mv().root},void 0,yv,vv(z,{onSearch:n,onLiveRoute:e}),_v,bv)}var wv=Object(u.c)(null,function(t){return{onLiveRoute:function(){return t({type:Re})},onSearch:function(e){return t({type:Pe,payload:e})}}});e.default=Object(h.d)(wv)(xv)},"0cd3c73b0976507cb4f5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88712' d='m14.606 13.91v1.7742h6.2098v0.88712c-2.6614 0-3.5165 1.7281-3.5485 1.7742h-3.5485v0.88712 0.88712l3.5485 0.88712c0 1.3236 1.3378 2.6614 2.6614 2.6614h2.6614c2.6614 0 4.4356-0.76026 4.4356-2.6614 0-1.6225-2.2284-3.988-5.3227-4.3802v-0.94256h6.2098v-1.7742l-6.2098 0.88712v-0.44356c0-0.24485-0.19872-0.44356-0.44356-0.44356s-0.44356 0.19871-0.44356 0.44356v0.44356l-6.2098-0.88712zm-0.88712 5.3227c0-0.97989-0.79436-1.7742-1.7742-1.7742-0.97988 0-1.7742 0.79435-1.7742 1.7742 0 0.97988 0.79436 1.7742 1.7742 1.7742 0.97989 0 1.7742-0.79436 1.7742-1.7742zm7.9841-0.88712c0.2821-0.03992 2.8831 0.79042 3.5485 2.6614h-3.5485v-2.6614zm4.4356 5.3227v0.88712h-8.8712v1.7742h8.8712c0.98027 0 1.7742-0.79397 1.7742-1.7742v-0.88712h-1.7742z'/%3E %3C/g%3E %3C/svg%3E"},"1c98b5ebc0a1076f8a67":function(t,e,n){t.exports=function(){"use strict";function t(t,i,o,r,a){!function t(n,i,o,r,a){for(;r>o;){if(r-o>600){var s=r-o+1,l=i-o+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),p=Math.max(o,Math.floor(i-l*u/s+h)),f=Math.min(r,Math.floor(i+(s-l)*u/s+h));t(n,i,p,f,a)}var d=n[i],g=o,v=r;for(e(n,o,i),a(n[r],d)>0&&e(n,o,r);g<v;){for(e(n,g,v),g++,v--;a(n[g],d)<0;)g++;for(;a(n[v],d)>0;)v--}0===a(n[o],d)?e(n,o,v):e(n,++v,r),v<=i&&(o=v+1),i<=v&&(r=v-1)}}(t,i,o||0,r||t.length-1,a||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function r(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<n;r++){var a=t.children[r];s(o,t.leaf?i(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,o,r){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((i-n)/o/2)*o;t(e,s,n,i,r),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var a=e.children[r],s=e.leaf?i(a):a;f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var o=e.children[i],r=e.leaf?this.toBBox(o):o;if(f(t,r)){if(e.leaf||p(t,r))return!0;n.push(o)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,r,a=this.data,s=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=c.pop(),r=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}r||a.leaf||!p(a,s)?i?(n++,a=i.children[n],r=!1):a=null:(l.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return r(o=d(t.slice(e,n+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(o=d([])).leaf=!1,o.height=i;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));g(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);g(t,u,h,l,this.compareMinY);for(var p=u;p<=h;p+=l){var f=Math.min(p+l-1,h);o.children.push(this._build(t,p,f,i-1))}}return r(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var o=1/0,r=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=u(l),h=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-c);h<r?(r=h,o=c<o?c:o,a=l):h===r&&c<o&&(o=c,a=l)}e=a||e.children[0]}var p,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),s(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);var a=this._chooseSplitIndex(n,o,i),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,r(n,this.toBBox),r(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,o,r,s,l,c,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),v=a(t,d,n,this.toBBox),m=(o=g,r=v,s=void 0,l=void 0,c=void 0,h=void 0,s=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),c=Math.min(o.maxX,r.maxX),h=Math.min(o.maxY,r.maxY),Math.max(0,c-s)*Math.max(0,h-l)),y=u(g)+u(v);m<p?(p=m,i=d,f=y<f?y:f):m===p&&y<f&&(f=y,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var o=this.toBBox,r=a(t,0,e,o),l=a(t,n-e,n,o),c=h(r)+h(l),u=e;u<n-e;u++){var p=t.children[u];s(r,t.leaf?o(p):p),c+=h(r)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];s(l,t.leaf?o(d):d),c+=h(l)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},i}()},"34d538758fadc195d9b0":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m19.525 15.802q0 0.5865-0.17372 1.1144-0.17372 0.51808-0.57602 0.8993t-0.96004 0.38122q-0.69489 0-1.2618-0.55718-0.56688-0.56695-0.84118-1.3294t-0.2743-1.476q0-0.5865 0.17372-1.1046 0.17372-0.52785 0.57602-0.90908 0.4023-0.38122 0.96004-0.38122 0.70403 0 1.2618 0.56695 0.56688 0.55718 0.84118 1.3196 0.2743 0.75268 0.2743 1.476zm-3.127 4.7213q0 0.782-0.38402 1.3587-0.38402 0.57672-1.088 0.57672-0.69489 0-1.2983-0.53763-0.59431-0.5474-0.91432-1.3099-0.32001-0.76245-0.32001-1.4858 0-0.782 0.38402-1.3587 0.38402-0.5865 1.088-0.5865 0.69488 0 1.2892 0.5474 0.60345 0.53763 0.92347 1.3099 0.32001 0.76245 0.32001 1.4858zm3.602-0.264q1.0789 0 2.3315 0.95795 1.2526 0.94818 2.0938 2.3167 0.84118 1.3587 0.84118 2.4829 0 0.44965-0.15544 0.7429-0.15544 0.30302-0.44802 0.43988-0.28344 0.14662-0.58517 0.1955-0.30173 0.05865-0.69489 0.05865-0.62174 0-1.7189-0.43988-1.088-0.44-1.664-0.44-0.60345 0-1.7646 0.4301-1.152 0.43988-1.8286 0.43988-1.6732 0-1.6732-1.4272 0-0.84065 0.51202-1.867 0.51202-1.0362 1.2709-1.8866 0.76803-0.85043 1.7189-1.4272 0.951-0.577 1.765-0.577zm2.1852-2.0625q-0.55774 0-0.96004-0.38122t-0.57602-0.8993q-0.17372-0.52785-0.17372-1.1144 0-0.72335 0.2743-1.476 0.2743-0.76245 0.83204-1.3196 0.56688-0.56695 1.2709-0.56695 0.55774 0 0.96004 0.38122t0.57602 0.90908q0.17372 0.51808 0.17372 1.1046 0 0.71358-0.2743 1.476-0.2743 0.76245-0.84118 1.3294-0.56688 0.55718-1.2618 0.55718zm3.9499-1.0166q0.70403 0 1.088 0.5865 0.38402 0.57673 0.38402 1.3587 0 0.72335-0.32001 1.4858t-0.92347 1.3099q-0.59431 0.53763-1.2892 0.53763-0.70403 0-1.088-0.57672-0.38402-0.57673-0.38402-1.3587 0-0.72335 0.32001-1.4858 0.32001-0.77222 0.91432-1.3099 0.60345-0.5474 1.2983-0.5474z'/%3E %3C/g%3E %3C/svg%3E"},"37b9a59b1709fe27f5f8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='block-progression:tb;text-transform:none;text-indent:0' stroke-width='.80151' overflow='visible' d='m12.987 13.989c-0.51858 0-0.78749 0.10941-1.052 0.55104-0.2645 0.44164-1.5529 4.3925-1.5529 5.0345v2.7803c0 0.65003 0.60274 1.2524 1.2023 1.2524h0.40076c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045h7.2136c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045c0-0.07005-0.01918-0.13186-0.02505-0.20038 0.37553-0.28539 0.82656-0.80321 0.82656-1.052v-2.2292c0-0.86884-1.5457-1.1858-4.258-1.8535 0 0-2.4963-2.9345-3.156-3.732-0.42881-0.51858-0.98827-0.55104-1.4026-0.55104h-7.8148zm2.655 1.2774h1.9537v3.5317h-2.8303c-0.36549 0-0.64622-0.1066-0.52599-0.70132 0.12504-0.62037 0.51638-2.1555 0.62618-2.4296 0.12504-0.31099 0.38132-0.40076 0.77647-0.40076zm3.5567 0h1.7283c0.30858 0 0.65684 0.09879 0.85161 0.32562l2.2793 2.7051c0.25408 0.33664 0.14287 0.50095-0.17533 0.50095h-4.6838v-3.5317zm-4.8091 7.1385c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023zm12.023 0c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023z'/%3E %3C/g%3E %3C/svg%3E"},"38a5cf7bd4a34adb836d":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg3369' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='26' viewBox='0 0 26 26' width='26' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E %3Cpolygon id='arrow' stroke='%23000' points='19 22 13 19 7 22 13 4' stroke-width='1px' fill='%23008000'/%3E %3C/svg%3E"},"3d16292fc1c5dac51b2b":function(t,e,n){"use strict";function i(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}n.d(e,"a",function(){return i})},"403df48ddaa9afb322f2":function(t,e,n){var i=n("ad3d8a7a012d80fe28e9");"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(i,o);i.locals&&(t.exports=i.locals)},"4061d78159b3c8762e5a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='text-decoration-color:%23000000;block-progression:tb;isolation:auto;mix-blend-mode:normal;text-indent:0;text-decoration-line:none;white-space:normal;text-transform:none;text-decoration-style:solid' stroke-width='.60887' d='m20.609 12.298a0.60893 0.60893 0 1 0 0 1.2177h1.3795l2.0228 6.443-2.5163 3.9077h-5.871c-0.25412-0.70466-0.92507-1.2177-1.7124-1.2177-1.0016 0-1.8266 0.82501-1.8266 1.8266s0.82501 1.8266 1.8266 1.8266c0.78736 0 1.4583-0.51307 1.7124-1.2177h6.2028a0.60893 0.60893 0 0 0 0.51135 -0.27946l2.1477-3.3345 0.49232 1.5697c-0.43114 0.33547-0.71589 0.85238-0.71589 1.4354 0 1.0016 0.82501 1.8266 1.8266 1.8266s1.8266-0.82501 1.8266-1.8266c0-0.98654-0.80143-1.7976-1.7826-1.8218l-3.1157-9.9286a0.60893 0.60893 0 0 0 -0.58151 -0.42692h-1.8266zm-6.6975 11.568c0.33112 0 0.58355 0.24891 0.60173 0.57438a0.60893 0.60893 0 0 0 0 0.07017c-0.01874 0.32487-0.27102 0.57319-0.60173 0.57319-0.34348 0-0.60887-0.26539-0.60887-0.60887s0.26539-0.60887 0.60887-0.60887zm12.177 0c0.34348 0 0.60887 0.26539 0.60887 0.60886 0 0.34348-0.26539 0.60887-0.60887 0.60887s-0.60886-0.26539-0.60886-0.60887 0.26539-0.60886 0.60886-0.60886z' white-space='normal' overflow='visible' font-weight='400'/%3E %3C/g%3E %3C/svg%3E"},"49f4067ee71e74f7bfe5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.094 25.102q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265zm-12.188-0.294q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.49554-0.49554v-2.2686l-1.626-2.4312q-0.13163-0.20131-0.0542-0.43359 0.07743-0.24003 0.30971-0.31745l1.3705-0.44908v-2.3151h0.99107v-0.99107h1.9821v-0.99107h1.9821v0.99107h1.9821v0.99107h0.99107v2.3151l1.3705 0.44908q0.23228 0.07742 0.30971 0.31745 0.07743 0.23228-0.0542 0.43359l-1.626 2.4312v2.2686l0.14711-0.13937q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64264-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265zm3.1203-8.7725v0.99107l2.974-0.991 2.9732 0.99107v-0.99107h-0.99107v-0.99107h-3.9643v0.99107h-0.99107z'/%3E %3C/g%3E %3C/svg%3E"},"774b962f7f8ee233d0d8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.793 22.105h-2.5821q-0.32893 0-0.47695-0.28781-0.1398-0.28782 0.05757-0.55096l1.546-2.064q-0.53451-0.25492-1.1266-0.25492-1.0855 0-1.8585 0.77299-0.77299 0.77299-0.77299 1.8585t0.77299 1.8585q0.77299 0.77299 1.8585 0.77299 0.94568 0 1.6693-0.59208 0.72365-0.6003 0.91278-1.5131zm-1.5295-1.0526h1.5295q-0.14802-0.69898-0.61674-1.217l-0.91278 1.217zm3.9472 0 2.3683-3.1577h-3.9472l-0.8141 1.0855q0.86344 0.847 1.0361 2.0723h1.3568zm8.4371 2.3848q0.77299-0.77299 0.77299-1.8585t-0.77299-1.8585q-0.77299-0.77299-1.8585-0.77299-0.4934 0-0.99502 0.19736l1.4308 2.1381q0.12335 0.18914 0.08224 0.40294-0.04112 0.2138-0.22203 0.32893-0.12335 0.09046-0.29604 0.09046-0.28781 0-0.43583-0.23847l-1.4308-2.1381q-0.76476 0.78121-0.76476 1.8502 0 1.0855 0.77299 1.8585 0.77299 0.77299 1.8585 0.77299t1.8585-0.77299zm0.74009-4.457q1.0855 1.0772 1.0855 2.5986 0 1.5213-1.0855 2.6068-1.0772 1.0772-2.5986 1.0772-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068 0-0.79766 0.32071-1.5049 0.32893-0.71542 0.90456-1.2335l-0.53451-0.80588-2.9028 3.8567q-0.14802 0.2138-0.41939 0.2138h-1.62q-0.18914 1.3486-1.2253 2.2532-1.0361 0.90456-2.4176 0.90456-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068t1.0772-2.5986q1.0855-1.0855 2.6068-1.0855 0.93745 0 1.768 0.45228l1.1266-1.5049h-1.842q-0.21381 0-0.37005-0.15624t-0.15624-0.37005q0-0.2138 0.15624-0.37005 0.15624-0.15624 0.37005-0.15624h3.1577v1.0526h3.5771l-0.69898-1.0526h-1.8256q-0.21381 0-0.37005-0.15624t-0.15624-0.37005 0.15624-0.37005 0.37005-0.15624h2.1052q0.27137 0 0.43583 0.23025l2.1956 3.2893q0.74832-0.36182 1.5789-0.36182 1.5213 0 2.5986 1.0855z'/%3E %3C/g%3E %3C/svg%3E"},"8e5ff0d18795eecbe193":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.78953' d='m20 11.146c-2.1317 5.5267-6.3162 6.785-6.3162 6.785l6.316 1.9v-8.685zm0 8.6848h-6.711v0.64149c0 0.93043 0.77808 1.7633 1.8011 2.3686-0.36215 0.12387-0.72989 0.14804-1.0116 0.14804-0.55267 0-1.4212-0.15791-1.9738-0.78953v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.39586 0-0.94322-0.09201-1.431-0.37009 1.0794-0.59227 2.1544-1.4653 2.9361-2.788h-2.6893-4.7372zm4.7372 0s0.0099-4.0167-3.3062-7.2538c0.63162 4.3424-0.64149 5.9215-0.64149 5.9215l3.9476 1.3323zm-12.632 4.7372v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953z'/%3E %3C/g%3E %3C/svg%3E"},"911f6b041ac8efd77294":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.238 13.763q0.4325 0.51114 0.11796 1.4548-0.31455 0.94364-1.0616 1.6907l-1.5826 1.5826 1.5727 6.8414q0.04915 0.18676-0.11796 0.32438l-1.2582 0.94364q-0.06881 0.05897-0.18676 0.05897-0.03931 0-0.06881-0.0099-0.14744-0.0295-0.20642-0.15727l-2.7425-4.9934-2.5459 2.5459 0.52097 1.9069q0.04915 0.1671-0.07864 0.30472l-0.94364 0.94364q-0.08847 0.08847-0.22608 0.08847h-0.01966q-0.14744-0.01966-0.23591-0.12778l-1.8578-2.477-2.4771-1.8578q-0.10813-0.06881-0.12778-0.22608-0.0099-0.12778 0.08847-0.24574l0.94364-0.95343q0.08847-0.08847 0.22608-0.08847 0.05898 0 0.07864 0.0099l1.9069 0.52097 2.5459-2.5459-4.9934-2.7425q-0.13762-0.07863-0.1671-0.23591-0.01966-0.15728 0.08847-0.2654l1.2582-1.2582q0.13762-0.12778 0.29489-0.07864l6.5367 1.5629 1.5727-1.5727q0.74705-0.74705 1.6907-1.0616 0.94364-0.31455 1.4548 0.11796z'/%3E %3C/g%3E %3C/svg%3E"},"9f8408bc240279d0b00a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Ccircle id='icon' cx='20' cy='20' r='5.8251'/%3E %3C/g%3E %3C/svg%3E"},a7e9ffa2c081a2fb5ea5:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1' stroke='%23333'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m15.029 22.296q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm0.69818-3.6423h8.5463l-0.74865-3.003q-0.01682-0.06729-0.11777-0.143-0.10094-0.08412-0.17665-0.08412h-6.4602q-0.07572 0-0.17665 0.08412-0.10095 0.07571-0.11777 0.143l-0.74865 3.003zm11.146 3.6423q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm1.7412-1.7581v3.2301q0 0.11777-0.07571 0.19347-0.07572 0.07571-0.19347 0.07571h-0.80753v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-8.6136v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-0.80753q-0.11777 0-0.19347-0.07571-0.07571-0.07572-0.07571-0.19347v-3.2301q0-0.78229 0.54676-1.3291 0.55518-0.55518 1.3375-0.55518h0.23553l0.88324-3.5245q0.19347-0.7907 0.87482-1.3206 0.68135-0.53835 1.5057-0.53835h6.4602q0.82435 0 1.5057 0.53835 0.68135 0.52994 0.87482 1.3206l0.88323 3.5245h0.23553q0.78229 0 1.3291 0.55518 0.55518 0.54676 0.55518 1.3291z' stroke-width='.1'/%3E %3C/g%3E %3C/svg%3E"},ab0f7027a5d5d72ab9da:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m20 11.299c-2.5762 0-3.8283 0.45542-3.8283 1.3921 0 0.19168 0.15634 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.17129 0.34666-0.45134 1.4247-0.59817l0.294 1.719c-2.8141 0.3154-4.5026 1.5512-4.5026 2.7081v8.1024c0 1.0726 0.7545 1.978 1.7836 2.2513l-1.4574 1.2181c-0.14546 0.12235-0.16586 0.33307-0.0435 0.47853 0.06797 0.08157 0.16314 0.13051 0.26102 0.13051 0.07749 0 0.16314-0.03264 0.22839-0.087l1.9794-1.6531h6.3297l1.9794 1.6531c0.06525 0.05438 0.1509 0.087 0.22839 0.087 0.09788 0 0.19304-0.04894 0.26102-0.13051 0.12235-0.14546 0.10196-0.35618-0.0435-0.47853l-1.4574-1.2181c1.0291-0.27325 1.7836-1.1787 1.7836-2.2513v-8.1024c0-1.1569-1.6885-2.3927-4.5026-2.7081l0.29364-1.7184c1.0781 0.14682 1.4247 0.42687 1.4247 0.59817 0 0.19168 0.15498 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.93667-1.2521-1.3921-3.8283-1.3921zm0 0.69605c0.37793 0 0.70285 0.01359 1.0006 0.03264l-0.29365 1.7292c-0.23111-0.01223-0.46358-0.02175-0.70692-0.02175-0.24335 0-0.47581 0.0095-0.70692 0.02175l-0.294-1.729c0.29772-0.01903 0.62264-0.03264 1.0006-0.03264zm-2.0881 3.8283h4.1763c0.19304 0 0.34802 0.15634 0.34802 0.34802v0.69605h-4.8723v-0.69605c0-0.19168 0.15634-0.34802 0.34803-0.34802zm-1.3921 1.7401h6.9605c0.38473 0 0.69605 0.28957 0.69605 0.64167v2.5449c0 0.3521-0.31132 0.64167-0.69605 0.64167h-6.9605c-0.38473 0-0.69605-0.28957-0.69605-0.64167v-2.5449c0-0.3521 0.31132-0.64167 0.69605-0.64167zm0.34802 5.5684c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441zm6.2644 0c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441z'/%3E %3C/g%3E %3C/svg%3E"},ad3d8a7a012d80fe28e9:function(t,e,n){(t.exports=n("0e326f80368fd0b1333e")(!1)).push([t.i,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},bc52778aa4babd5538cf:function(t,e,n){"use strict";function i(t){var e,n,o="";if(t)if("object"===typeof t)if(t.push)for(e=0;e<t.length;e++)t[e]&&(n=i(t[e]))&&(o&&(o+=" "),o+=n);else for(e in t)t[e]&&(n=i(e))&&(o&&(o+=" "),o+=n);else"boolean"===typeof t||t.call||(o&&(o+=" "),o+=t);return o}e.a=function(){for(var t,e=0,n="";e<arguments.length;)(t=i(arguments[e++]))&&(n&&(n+=" "),n+=t);return n}},ca58d6a6a484c1aaa883:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m18.127 11.484c-0.59864 0-1.0869 0.44565-1.1707 1.0217h-0.362c-1.3143 0-2.3839 1.027-2.3839 2.2881v9.7272c0 0.878 0.51749 1.6389 1.2771 2.0221l-1.6389 1.3622c-0.14633 0.12106-0.16895 0.3379-0.04789 0.48423s0.3379 0.16895 0.48423 0.04789l1.9688-1.6496c0.11175 0.01596 0.22482 0.02128 0.34056 0.02128h6.8111c0.11574 0 0.22881-0.0054 0.34056-0.02128l1.9688 1.6496c0.14633 0.12106 0.36317 0.09844 0.48423-0.04789s0.09844-0.36317-0.04789-0.48423l-1.6389-1.3622c0.7596-0.38313 1.2771-1.1441 1.2771-2.0221v-9.727c0-1.2611-1.0696-2.2881-2.3839-2.2881h-0.36183c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217-0.59864 0-1.0869 0.44565-1.1707 1.0217h-1.4048c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217zm0 0.68111c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm3.7461 0c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm-3.9164 2.7245h4.0867c0.1889 0 0.34056 0.15298 0.34056 0.34056v0.68111h-4.7678v-0.68111c0-0.18757 0.15298-0.34056 0.34056-0.34056zm-1.3622 1.7028h6.8111c0.37648 0 0.68111 0.28336 0.68111 0.6279v2.4903c0 0.34455-0.30464 0.6279-0.68111 0.6279h-6.8111c-0.37648 0-0.68111-0.28335-0.68111-0.6279v-2.4903c0-0.34455 0.30464-0.6279 0.68111-0.6279zm0.34056 6.13c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217zm6.13 0c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217z'/%3E %3C/g%3E %3C/svg%3E"},cc9cb34247c192a15852:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.144 23.756q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm9.3571 0q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm-0.0731-4.4501-0.65793-3.5089q-0.04569-0.21017-0.21017-0.3381-0.15534-0.13707-0.36551-0.13707h-8.3885q-0.21017 0-0.37465 0.13707-0.15534 0.12793-0.20103 0.3381l-0.65792 3.5089q-0.046 0.274 0.128 0.484t0.448 0.21h9.7044q0.27414 0 0.44775-0.21017 0.17362-0.21017 0.12794-0.48431zm-2.193-5.282q0.12794-0.12794 0.12794-0.31069 0-0.18276-0.12794-0.31069-0.12793-0.12794-0.31069-0.12794h-5.8482q-0.18276 0-0.31069 0.12794-0.12793 0.12793-0.12793 0.31069t0.12793 0.31069q0.12794 0.12794 0.31069 0.12794h5.8482q0.18276 0 0.31069-0.12794zm3.7831 6.3142v5.5101h-1.1696v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-7.0179v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-1.1696v-5.5101q0-1.0234 0.22844-2.0377l0.9412-4.1486q0.08224-0.71275 0.88637-1.2519 0.81327-0.53913 2.1017-0.81327 1.2976-0.27414 2.8601-0.27414 1.5626 0 2.851 0.27414 1.2976 0.27413 2.1017 0.81327 0.81327 0.53913 0.89551 1.2519l0.95948 4.1486q0.21017 0.93206 0.21017 2.0377z'/%3E %3C/g%3E %3C/svg%3E"},d00ca599655a685685b3:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88152' d='m17.19 14.711a0.8816 0.8816 0 0 0 -0.68868 0.66114l-0.71623 2.8649h-3.2781c-0.96967 0-1.763 0.79336-1.763 1.763v2.1211c0 0.35261 0.17079 0.62257 0.5234 0.79887l1.2672 0.4683c0.14704 1.0824 1.0477 1.9008 2.1762 1.9008 1.0799 0 1.9462-0.75066 2.1487-1.763h7.1623c0.20247 1.0124 1.0688 1.763 2.1487 1.763 1.157 0 2.0652-0.85999 2.1762-1.9834l0.4683-0.30302c0.26446-0.1763 0.44076-0.52891 0.44076-0.88152v-1.5151c0-0.35261-0.25344-0.68318-0.60604-0.77133l-3.9668-1.3498-2.1762-2.7272-0.0551-0.08264-0.02755 0.02755c-0.44623-0.66103-1.2059-0.99171-1.9008-0.99171h-3.1679a0.8816 0.8816 0 0 0 -0.08265 0 0.8816 0.8816 0 0 0 -0.08264 0zm0.85397 1.763h2.4793c0.33302 0 0.40036 0.03368 0.49585 0.19283a0.8816 0.8816 0 0 0 0.0551 0.08264l1.1845 1.4876h-4.6555l0.44076-1.763zm-3.3332 5.8125c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887zm11.46 0c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887z'/%3E %3C/g%3E %3C/svg%3E"},dd1a86c57d873df39098:function(t,e,n){"use strict";var i=n("8af190b70a6bc55c6f1b");n.d(e,"a",function(){return o});var o=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this)._state=null,n._del=!1,n._handleChange=function(t){var e=n.state.value,i=t.target.value,o=t.target,r=i.length>e.length,a=n._del,s=e===n.props.format(i);n.setState({value:i,local:!0},function(){var t=o.selectionStart,l=n.props.refuse||/[^\d]+/g,c=i.substr(0,t).replace(l,"");if(n._state={input:o,before:c,op:r,di:a&&s,del:a},n.props.replace&&n.props.replace(e)&&r&&!s){for(var u=-1,h=0;h!==c.length;++h)u=Math.max(u,i.toLowerCase().indexOf(c[h].toLowerCase(),u+1));var p=i.substr(u+1).replace(l,"")[0];u=i.indexOf(p,u+1),i=""+i.substr(0,u)+i.substr(u+1)}var f=n.props.format(i);e===f?n.setState({value:i}):n.props.onChange(f)})},n._hKD=function(t){"Delete"===t.code&&(n._del=!0)},n._hKU=function(t){"Delete"===t.code&&(n._del=!1)},n.state={value:e.value,local:!0},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.getDerivedStateFromProps=function(t,e){return{value:e.local?e.value:t.value,local:!1}};var o=i.prototype;return o.render=function(){var t=this._handleChange,e=this.state.value;return(0,this.props.children)({value:e,onChange:t})},o.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},o.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},o.componentDidUpdate=function(){var t=this._state;if(t){for(var e=this.state.value,n=-1,i=0;i!==t.before.length;++i)n=Math.max(n,e.toLowerCase().indexOf(t.before[i].toLowerCase(),n+1));if(this.props.replace&&(t.op||t.del&&!t.di))for(;e[n+1]&&(this.props.refuse||/[^\d]+/).test(e[n+1]);)n+=1;t.input.selectionStart=t.input.selectionEnd=n+1+(t.di?1:0)}this._state=null},i}(i.Component)},dd8173cc67fa36d7ff4a:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='0.87' d='m12.17 13.91c-0.48024 0-0.87 0.38976-0.87 0.87v3.48 4.35c0 0.96135 0.77865 1.74 1.74 1.74h0.05438c0.20276 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h5.3287c0.20277 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h0.05438c0.96135 0 1.74-0.77865 1.74-1.74v-3.2081-0.27188s-1.1719-3.5328-3.2625-5.0841c-0.13137-0.09831-0.29863-0.13594-0.46219-0.13594h-12.805zm10.44 1.74h2.0119c0.74211 0.65859 1.3787 1.7078 1.8216 2.61h-3.8334v-2.61zm-7.395 7.395c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87zm9.57 0c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87z'/%3E %3C/g%3E %3C/svg%3E"},dfd42df999446333fe96:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m17.031 24.899q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm-3.1507-5.4819h3.4968v-2.3312h-1.4388q-0.11838 0-0.20034 0.08196l-1.7757 1.7757q-0.08196 0.08196-0.08196 0.20033v0.27318zm11.31 5.4819q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm2.6772-10.727v9.3247q0 0.13659-0.03642 0.24587-0.03642 0.10017-0.12749 0.16391-0.08196 0.06375-0.1457 0.10927-0.06374 0.03642-0.21855 0.05463-0.1457 0.0091-0.20034 0.01821-0.05463 0-0.23676 0-0.17302-0.0091-0.20034-0.0091 0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68292-0.68296-1.6482h-3.4968q0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68296-0.68296-1.6482h-0.58279q-0.02732 0-0.20944 0.0091-0.17302 0-0.22765 0-0.05463-0.0091-0.20944-0.01821-0.1457-0.01821-0.20944-0.05463-0.06375-0.04553-0.1548-0.10927-0.08196-0.06375-0.11838-0.16391-0.03642-0.10927-0.03642-0.24586 0-0.23676 0.17302-0.40978t0.40978-0.17302v-2.914q0-0.07285-0.0091-0.31871 0-0.24587 0-0.34603 0.0091-0.10017 0.02732-0.30961 0.01821-0.21855 0.05463-0.33693 0.04554-0.12749 0.12749-0.28229 0.09106-0.1548 0.20944-0.27318l1.803-1.803q0.17302-0.17302 0.45531-0.2914 0.2914-0.11838 0.53726-0.11838h1.457v-1.7484q0-0.23676 0.17302-0.40978t0.40978-0.17302h9.3247q0.23676 0 0.40978 0.17302t0.17302 0.40978z'/%3E %3C/g%3E %3C/svg%3E"},e0e8ac40fdfb7ae1c907:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.287 24.941q0 1.0708-0.6189 1.837-0.60907 0.76625-1.4736 0.76625h-8.3895q-0.86449 0-1.4834-0.76625-0.60907-0.76625-0.60907-1.837 0-0.83502 0.07859-1.5718 0.08841-0.7466 0.31436-1.4932 0.22595-0.75643 0.56978-1.2869 0.35366-0.54031 0.92343-0.87432 0.5796-0.34383 1.3262-0.34383 1.2869 1.2574 3.0748 1.2574t3.0748-1.2574q0.7466 0 1.3164 0.34383 0.5796 0.33401 0.92343 0.87432 0.35366 0.53048 0.5796 1.2869 0.22595 0.7466 0.30454 1.4932 0.08842 0.73678 0.08842 1.5718zm-3.625-11.376q1.1101 1.1003 1.1101 2.6622 0 1.562-1.1101 2.6721-1.1 1.101-2.662 1.101t-2.6721-1.1003q-1.1003-1.1101-1.1003-2.6721t1.1003-2.6622q1.11-1.11 2.672-1.11t2.6622 1.1101z'/%3E %3C/g%3E %3C/svg%3E"},e35698e68d1df72089c6:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.75357' d='m24.334 12.464-4.2153 3.0143c0.10399 0.11605 0.20347 0.23888 0.28259 0.37679l0.51808 0.91842 2.0252-1.4601-1.5778 2.2372 0.49453 0.87132c0.14017 0.18613 0.25282 0.39374 0.32969 0.61228l4.5921-6.5702h-2.4491zm2.4491 1.3188-1.5071 2.143v4.074c0 0.41597 0.3376 0.75357 0.75358 0.75357 0.41522 0 0.75357 0.33836 0.75357 0.75358s-0.33836 0.75357-0.75357 0.75357c-0.41522 0-0.75358-0.33835-0.75358-0.75357h-1.5071c0 1.3858 1.2521 2.4766 2.6846 2.2136 0.88771-0.16277 1.6164-0.87999 1.7897-1.7662 0.22909-1.1718-0.45328-2.2074-1.4601-2.5669v-5.6047zm-12.057 1.6955c-0.8327 0-1.5071 0.67445-1.5071 1.5071v3.7679c0 0.41597 0.3376 0.75358 0.75358 0.75358h0.75357v0.75357h5.275v-0.75357h0.75358c0.41597 0 0.75358-0.3376 0.75358-0.75358v-1.5071l-1.8368-3.0143c-0.269-0.468-0.756-0.753-1.296-0.753h-3.6501zm1.5071 1.5071h2.143l1.2952 2.2607h-3.4382v-2.2607zm-2.2607 6.0286c-1.2487 0-2.2607 1.0121-2.2607 2.2607 0 1.2487 1.012 2.2607 2.2607 2.2607h6.7822c1.2487 0 2.2607-1.0121 2.2607-2.2607 0-1.2487-1.0121-2.2607-2.2607-2.2607h-6.7822zm0 1.5071c0.41597 0 0.75357 0.3376 0.75357 0.75357s-0.3376 0.75358-0.75357 0.75358-0.75358-0.3376-0.75358-0.75358c0-0.41597 0.3376-0.75357 0.75358-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75358-0.3376-0.75358-0.75358 0-0.41597 0.3376-0.75357 0.75358-0.75357z'/%3E %3C/g%3E %3C/svg%3E"},f1d2accb1cb5589a1510:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.909 11.561c-0.10947 0.01846-0.20311 0.091-0.24927 0.19256-0.04615 0.10024-0.03956 0.21894 0.01715 0.31389l0.70692 1.1817h-1.7726c-1.3031 0-2.3634 1.0604-2.3634 2.3634v10.467c0 0.29807 0.13189 0.56316 0.33763 0.74912v0.60141c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.33763h6.0774v0.33763c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.601c0.204-0.186 0.336-0.451 0.336-0.749v-10.467c0-1.3031-1.0604-2.3634-2.3634-2.3634h-1.7726l0.70692-1.1817c0.06594-0.1121 0.062-0.25191-0.0092-0.35874-0.07254-0.10815-0.20047-0.16618-0.3284-0.14771-0.09892 0.01846-0.18332 0.08045-0.23212 0.16882l-0.90739 1.5193h-3.693l-0.908-1.518c-0.06726-0.12002-0.20179-0.18596-0.33763-0.16882zm-0.96014 3.3763h8.1032c0.57371 0 1.0129 0.43919 1.0129 1.0129v4.7269c0 0.57371-0.43919 1.0129-1.0129 1.0129h-8.1032c-0.57371 0-1.0129-0.43919-1.0129-1.0129v-4.7269c0-0.57371 0.43919-1.0129 1.0129-1.0129zm-3.0387 2.0258c-0.39171 0-0.67527 0.28356-0.67527 0.67526v2.0258c0 0.39171 0.28356 0.67527 0.67527 0.67527zm14.181 0v3.3763c0.39171 0 0.67527-0.28356 0.67527-0.67527v-2.0258c0-0.39171-0.28356-0.67526-0.67527-0.67526zm-11.142 6.415c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129zm8.1032 0c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129z'/%3E %3C/g%3E %3C/svg%3E"},fb27460172bd4593ba8b:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m29.386 21.143q0.09803 0.8414-0.17972 1.6256-0.27774 0.77605-0.80873 1.3315-0.53098 0.55549-1.2989 0.86591-0.75971 0.31042-1.6011 0.25324-1.3152-0.08986-2.2873-1.0211-0.96394-0.93126-1.0946-2.2383-0.09803-0.90675 0.22056-1.7155 0.32676-0.8169 0.9721-1.3969l-0.58-0.87408q-0.78422 0.65352-1.2335 1.5848-0.44929 0.93126-0.44929 1.9932 0 0.22056-0.15521 0.38394-0.14704 0.15521-0.3676 0.15521h-2.0913-0.56366q-0.18789 1.3397-1.2172 2.2383-1.0293 0.89858-2.4017 0.89858-1.5113 0-2.5896-1.0701-1.0701-1.0783-1.0701-2.5896t1.0701-2.5814q1.0783-1.0783 2.5896-1.0783 0.62084 0 1.2417 0.22056l0.19606-0.3676q-1.0048-0.89858-2.4834-0.89858h-0.52281q-0.21239 0-0.3676-0.15521t-0.15521-0.3676 0.15521-0.3676 0.3676-0.15521h1.0456q0.63718 0 1.1845 0.11437 0.54732 0.1062 0.9476 0.31042 0.40845 0.20422 0.58816 0.32676 0.17972 0.11437 0.41662 0.29408h4.1825 0.93943l-0.69436-1.0456h-1.8135q-0.24507 0-0.40028-0.17972-0.15521-0.18789-0.11437-0.43296 0.03267-0.18789 0.18788-0.31042t0.35126-0.12253h2.0667q0.26958 0 0.43296 0.22873l0.57183 0.85774 0.93126-0.93126q0.15521-0.15521 0.37577-0.15521h0.82506q0.21239 0 0.3676 0.15521t0.15521 0.3676v1.0456q0 0.21239-0.15521 0.3676t-0.3676 0.15521h-1.4622l0.93943 1.4051q1.0701-0.51465 2.2465-0.29408 1.1682 0.21239 1.9932 1.1028 0.82506 0.88225 0.96394 2.0667zm-15.137 3.039q0.93943 0 1.6583-0.58816 0.71887-0.59634 0.90675-1.5031h-2.5651q-0.28591 0-0.44929-0.25324-0.14704-0.26141-0.0082-0.51464l1.2008-2.2628q-0.38394-0.1062-0.74338-0.1062-1.0783 0-1.8462 0.76788-0.76788 0.76788-0.76788 1.8462t0.76788 1.8462q0.76788 0.76788 1.8462 0.76788zm9.6557-0.76788q0.76788 0.76788 1.8462 0.76788t1.8462-0.76788q0.76788-0.76788 0.76788-1.8462t-0.76788-1.8462q-0.76788-0.76788-1.8462-0.76788-0.49014 0-0.98844 0.19606l1.4214 2.1239q0.12254 0.18789 0.0817 0.40028-0.04085 0.21239-0.22056 0.32676-0.12253 0.08986-0.29408 0.08986-0.28591 0-0.43296-0.2369l-1.4214-2.1239q-0.75971 0.77605-0.75971 1.838 0 1.0783 0.76788 1.8462z'/%3E %3C/g%3E %3C/svg%3E"},fc6e320ad802f37372f2:function(t,e,n){"use strict";function i(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function o(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=i(t.className,e):t.setAttribute("class",i(t.className&&t.className.baseVal||"",e))}n.d(e,"a",function(){return o})}}]);