(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{"04ff8c05da014e6eacb1":function(t,e,n){t.exports=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,r){r=r||Object.create(null);var o=document.createEvent("Event");o.initEvent(n,r.bubbles||!1,r.cancelable||!1);for(var i,a=2;a<t.length;a++)i=t[a],o[i]=r[i]||e[a];o.buttons=r.buttons||0;var s=0;return s=void 0!==r.pressure&&o.buttons?r.pressure:o.buttons?.5:0,o.x=o.clientX,o.y=o.clientY,o.pointerId=r.pointerId||0,o.width=r.width||1,o.height=r.height||1,o.pressure=s,o.tiltX=r.tiltX||0,o.tiltY=r.tiltY||0,o.twist=r.twist||0,o.tangentialPressure=r.tangentialPressure||0,o.pointerType=r.pointerType||"",o.hwTimestamp=r.hwTimestamp||0,o.isPrimary=r.isPrimary||!1,o.detail=0,o}var r=window.Map&&window.Map.prototype.forEach?Map:o;function o(){this.array=[],this.size=0}o.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var i=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!==typeof SVGElementInstance,c={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var r=new n(t,e);return e.preventDefault&&(r.preventDefault=e.preventDefault),r._target=r._target||e.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),r=0;r<i.length;r++)n[e=i[r]]=t[e]||a[r],!l||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,o=[];null!=r&&r!==document&&!r.contains(t.relatedTarget);)if(o.push(r),!(r=r.parentNode))return;n&&o.reverse(),o.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,r){this.captureInfo[t]&&this.releaseCapture(t,r),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var o=new n("gotpointercapture",{bubbles:!0});o.pointerId=t,o._target=e,r||this.asyncDispatchEvent(o)},releaseCapture:function(t,e){var r=this.captureInfo[t];if(r){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var o=new n("lostpointercapture",{bubbles:!0});o.pointerId=t,o._target=r,e||this.asyncDispatchEvent(o)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};c.boundHandler=c.eventHandler.bind(c);var u={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,o,i=t.elementFromPoint(e,n);for(o=this.targetingShadow(i);o;){if(r=o.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}o=this.olderShadow(o)}return i}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),f=Array.prototype.slice.call.bind(Array.prototype.slice),d=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function y(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function m(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}y.prototype={watchSubtree:function(t){this.observer&&u.canTarget(t)&&this.observer.observe(t,v)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(f(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=p(t,this.findElements,this);return e.push(d(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var _=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],b="",x=window.PointerEvent||window.MSPointerEvent,w=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,E=c.pointermap,O=[1,4,2,8,16],S=!1;try{S=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var C,T={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,o=t.clientY,i=0,a=n.length;i<a&&(e=n[i]);i++){var s=Math.abs(r-e.x),l=Math.abs(o-e.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(t){var e=c.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=E.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=E.get(this.POINTER_ID),n=this.prepareEvent(t);S||(n.buttons=O[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),E.set(this.POINTER_ID,t),e&&0!==e.buttons?c.move(n):c.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);S||this.prepareButtonsForMove(e,t),e.button=-1,E.set(this.POINTER_ID,t),c.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=E.get(this.POINTER_ID),n=this.prepareEvent(t);if(!S){var r=O[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}E.set(this.POINTER_ID,t),n.buttons&=~O[n.button],0===n.buttons?c.up(n):c.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);S||this.prepareButtonsForMove(e,t),e.button=-1,E.set(this.POINTER_ID,t),c.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);S||this.prepareButtonsForMove(e,t),e.button=-1,c.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},I=c.captureInfo,P=u.findTarget.bind(u),R=u.allShadows.bind(u),M=c.pointermap,F={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){C.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"===typeof n&&(t._scrollType=n,c.listen(t,this.events),R(t).forEach(function(t){t._scrollType=n,c.listen(t,this.events)},this))},elementRemoved:function(t){if(M.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,c.unlisten(t,e)})}else t._scrollType=void 0,c.unlisten(t,this.events);R(t).forEach(function(t){t._scrollType=void 0,c.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),r=this.touchActionToScrollType(n),o=this.touchActionToScrollType(e);"number"===typeof r&&"number"===typeof o?(t._scrollType=r,R(t).forEach(function(t){t._scrollType=r},this)):"number"===typeof o?this.elementRemoved(t):"number"===typeof r&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===M.size||1===M.size&&M.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=c.cloneEvent(t),r=n.pointerId=t.identifier+2;if(n.target=I[r]||P(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var o=Math.tan(t.altitudeAngle),i=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/o)*i,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/o)*i}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,o=0;o<n.length;o++)r=n[o],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var r=t.changedTouches[0],o=r.clientY-this.firstXY.Y,i=Math.abs(o),a=r.clientX-this.firstXY.X,s=Math.abs(a),l=1&n,c=2&n,u=4&n,h=8&n;u&&h?e=s>i:u?e=s>i&&a>0:h&&(e=s>i&&a<0),e||(l&&c?e=s<i:l?e=s<i&&o>0:c&&(e=s<i&&o<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,o=t.length;r<o&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(M.size>=e.length){var n=[];M.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var o=t.out;n.push(o)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){M.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),c.enterOver(t),c.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=M.get(e.pointerId);if(n){var r=n.out,o=n.outTarget;c.move(e),r&&o!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=o,r.target=o,e.target?(c.leaveOut(r),c.enterOver(e)):(e.target=o,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(c.up(t),c.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){c.cancel(t),c.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){M.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=T.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var o=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(o,2500)}}};C=new y(F.elementAdded,F.elementRemoved,F.elementChanged,F);var L,D,k,A=c.pointermap,j=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,N={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return j&&((e=c.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){A.delete(t)},MSPointerDown:function(t){A.set(t.pointerId,t);var e=this.prepareEvent(t);c.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);c.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);c.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);c.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);c.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=c.makeEvent("lostpointercapture",t);c.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=c.makeEvent("gotpointercapture",t);c.dispatchEvent(e)}};function z(t){if(!c.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function G(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function Y(t){var e=c.pointermap.get(t);return 0!==e.buttons}return window.navigator.msPointerEnabled?(L=function(t){z(t),G(this),Y(t)&&(c.setCapture(t,this,!0),this.msSetPointerCapture(t))},D=function(t){z(t),c.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(L=function(t){z(t),G(this),Y(t)&&c.setCapture(t,this)},D=function(t){z(t),c.releaseCapture(t)}),k=function(t){return!!c.captureInfo[t]},function(){if(x){_.forEach(function(t){b+=t.selector+m(t.value)+"\n",w&&(b+="body /shadow-deep/ "+t.selector+m(t.value)+"\n")});var t=document.createElement("style");t.textContent=b,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),c.registerSource("ms",N)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),c.registerSource("mouse",T),void 0!==window.ontouchstart&&c.registerSource("touch",F);c.register(document)}}(),window.Element&&!window.Element.prototype.setPointerCapture&&Object.defineProperties(window.Element.prototype,{setPointerCapture:{value:L},releasePointerCapture:{value:D},hasPointerCapture:{value:k}}),{dispatcher:c,Installer:y,PointerEvent:n,PointerMap:r,targetFinding:u}}()},"05951c2f2bda4691bed3":function(t,e,n){"use strict";(function(t){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var o=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},r))}};function i(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?t:l(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?u:10===t?h:u||h}function f(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?f(n):n:t?t.ownerDocument.documentElement:document.documentElement}function d(t){return null!==t.parentNode?d(t.parentNode):t}function g(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,o=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(t!==l&&e!==l||r.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&f(a.firstElementChild)!==a?f(l):l;var c=d(t);return c.host?g(c.host,e):g(t,d(e).host)}function v(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function y(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function m(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,r=p(10)&&getComputedStyle(n);return{height:m("Height",e,n,r),width:m("Width",e,n,r)}}var b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function O(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function S(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=v(t,"top"),r=v(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?_(t.ownerDocument):{},s=i.width||t.clientWidth||o.width,l=i.height||t.clientHeight||o.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var h=a(t);c-=y(h,"x"),u-=y(h,"y"),o.width-=c,o.height-=u}return O(o)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=p(10),o="HTML"===e.nodeName,i=S(t),s=S(e),c=l(t),u=a(e),h=parseFloat(u.borderTopWidth),f=parseFloat(u.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=O({top:i.top-s.top-h,left:i.left-s.left-f,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var g=parseFloat(u.marginTop),y=parseFloat(u.marginLeft);d.top-=h-g,d.bottom-=h-g,d.left-=f-y,d.right-=f-y,d.marginTop=g,d.marginLeft=y}return(r&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(e,"top"),o=v(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=o*i,t.right+=o*i,t}(d,e)),d}function T(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function I(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},u=o?T(t):g(t,c(e));if("viewport"===r)i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=C(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:v(n),s=e?0:v(n,"left");return O({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(u,o);else{var h=void 0;"scrollParent"===r?"BODY"===(h=l(s(e))).nodeName&&(h=t.ownerDocument.documentElement):h="window"===r?t.ownerDocument.documentElement:r;var p=C(h,u,o);if("HTML"!==h.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(e,"position"))return!0;var r=s(e);return!!r&&t(r)}(u))i=p;else{var f=_(t.ownerDocument),d=f.height,y=f.width;i.top+=p.top-p.marginTop,i.bottom=d+p.top,i.left+=p.left-p.marginLeft,i.right=y+p.left}}var m="number"===typeof(n=n||0);return i.left+=m?n:n.left||0,i.top+=m?n:n.top||0,i.right-=m?n:n.right||0,i.bottom-=m?n:n.bottom||0,i}function P(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=I(n,r,i,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return E({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function R(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,r?T(e):g(e,c(n)),r)}function M(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function F(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,n){n=n.split("-")[0];var r=M(t),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=e[a]+e[l]/2-r[l]/2,o[s]=n===s?e[s]-r[c]:e[F(s)],o}function D(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function k(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=D(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&i(n)&&(e.offsets.popper=O(e.offsets.popper),e.offsets.reference=O(e.offsets.reference),e=n(e,t))}),e}function A(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var o=e[r],i=o?""+o+n:t;if("undefined"!==typeof document.body.style[i])return i}return null}function N(t){var e=t.ownerDocument;return e?e.defaultView:window}function z(t,e,n,r){n.updateBound=r,N(t).addEventListener("resize",n.updateBound,{passive:!0});var o=l(t);return function t(e,n,r,o){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),i||t(l(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,N(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Y(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function W(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(e[n])&&(r="px"),t.style[n]=e[n]+r})}var U=n&&/Firefox/i.test(navigator.userAgent);function H(t,e,n){var r=D(t,function(t){return t.name===e}),o=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!o){var i="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],B=q.slice(3);function X(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=B.indexOf(t),r=B.slice(n+1).concat(B.slice(0,n));return e?r.reverse():r}var K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function V(t,e,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(D(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,r){var o=(1===r?!i:i)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,r){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return O(s)[e]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(t,o,e,n)})})).forEach(function(t,e){t.forEach(function(n,r){Y(n)&&(o[e]+=n*("-"===t[r-1]?-1:1))})}),o}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var o=t.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:w({},l,i[l]),end:w({},l,i[l]+i[c]-a[c])};t.offsets.popper=E({},a,u[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=Y(+n)?[+n,0]:V(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||f(t.instance.popper);t.instance.reference===n&&(n=f(n));var r=j("transform"),o=t.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=I(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=i,o.left=a,o[r]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),w({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(r=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),w({},n,r)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=E({},u,h[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(t.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(t.offsets.popper[l]=i(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!H(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"===typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],i=t.offsets,s=i.popper,l=i.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",h=c?"Top":"Left",p=h.toLowerCase(),f=c?"left":"top",d=c?"bottom":"right",g=M(r)[u];l[d]-g<s[p]&&(t.offsets.popper[p]-=s[p]-(l[d]-g)),l[p]+g>s[d]&&(t.offsets.popper[p]+=l[p]+g-s[d]),t.offsets.popper=O(t.offsets.popper);var v=l[p]+l[u]/2-g/2,y=a(t.instance.popper),m=parseFloat(y["margin"+h]),_=parseFloat(y["border"+h+"Width"]),b=v-t.offsets.popper[p]-m-_;return b=Math.max(Math.min(s[u]-g,b),0),t.arrowElement=r,t.offsets.arrow=(w(n={},p,Math.round(b)),w(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(A(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=I(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],o=F(r),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case K.FLIP:a=[r,o];break;case K.CLOCKWISE:a=X(r);break;case K.COUNTERCLOCKWISE:a=X(r,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(r!==s||a.length===l+1)return t;r=t.placement.split("-")[0],o=F(r);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,p="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),d=h(c.right)>h(n.right),g=h(c.top)<h(n.top),v=h(c.bottom)>h(n.bottom),y="left"===r&&f||"right"===r&&d||"top"===r&&g||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),_=!!e.flipVariations&&(m&&"start"===i&&f||m&&"end"===i&&d||!m&&"start"===i&&g||!m&&"end"===i&&v),b=!!e.flipVariationsByContent&&(m&&"start"===i&&d||m&&"end"===i&&f||!m&&"start"===i&&v||!m&&"end"===i&&g),x=_||b;(p||y||x)&&(t.flipped=!0,(p||y)&&(r=a[l+1]),x&&(i=function(t){return"end"===t?"start":"start"===t?"end":t}(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=E({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=k(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),t.placement=F(e),t.offsets.popper=O(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!H(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=D(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,o=t.offsets.popper,i=D(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:e.gpuAcceleration,s=f(t.instance.popper),l=S(s),c={position:o.position},u=function(t,e){var n=t.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(t){return t},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),p=e?u||h||l%2===c%2?i:a:s,f=e?i:s;return{left:p(l%2===1&&c%2===1&&!h&&e?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(t,window.devicePixelRatio<2||!U),h="bottom"===n?"top":"bottom",p="right"===r?"left":"right",d=j("transform"),g=void 0,v=void 0;if(v="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&d)c[d]="translate3d("+g+"px, "+v+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var y="bottom"===h?-1:1,m="right"===p?-1:1;c[h]=v*y,c[p]=g*m,c.willChange=h+", "+p}var _={"x-placement":t.placement};return t.attributes=E({},_,t.attributes),t.styles=E({},c,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return W(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&W(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,o){var i=R(o,e,t,n.positionFixed),a=P(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),W(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},$=function(){function t(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=E({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,a.modifiers)).forEach(function(e){r.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return E({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&i(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return x(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=P(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=k(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,A(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();$.Utils=("undefined"!==typeof window?window:t).PopperUtils,$.placements=q,$.Defaults=Z,e.a=$}).call(this,n("698d75b157f24ae829cc"))},"064ca696732477a7857b":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.84153' d='m13.105 12.427a0.84162 0.84162 0 0 0 -0.68375 0.84153v5.0492a0.84162 0.84162 0 0 0 0 0.07889v1.8672c0.84153-0.67323 1.8514-1.1045 2.9454-1.1045 2.5246 0 4.6284 2.1038 4.6284 4.6284v0.42077h3.7869c-0.25895 0.34961-0.42077 0.78515-0.42077 1.2623 0 1.1781 0.92569 2.1038 2.1038 2.1038s2.1038-0.92569 2.1038-2.1038c0-0.55373-0.21318-1.0478-0.55226-1.4201 0.49718-0.2262 0.85521-0.67323 0.97302-1.2623l0.42077-2.7087c0.08415-0.42077-0.33661-0.92043-0.84153-0.92043l-7.1267-0.78894-1.3149-5.3122a0.84162 0.84162 0 0 0 -0.81524 -0.63115h-5.0492a0.84162 0.84162 0 0 0 -0.07889 0 0.84162 0.84162 0 0 0 -0.07889 0zm0.99932 1.6831h3.5502l1.0256 4.0499-4.5758-0.49966v-3.5502zm10.098 0v3.6291l1.6831 0.23668v-3.8658h-1.6831zm-8.8361 5.8907c-2.1038 0-3.7869 1.6831-3.7869 3.7869s1.6831 3.7869 3.7869 3.7869 3.7869-1.6831 3.7869-3.7869-1.6831-3.7869-3.7869-3.7869zm0 1.2623c1.4306 0 2.5246 1.094 2.5246 2.5246s-1.094 2.5246-2.5246 2.5246-2.5246-1.094-2.5246-2.5246 1.094-2.5246 2.5246-2.5246zm10.098 3.3661c0.50492 0 0.84154 0.33661 0.84154 0.84154 0 0.50492-0.33661 0.84153-0.84154 0.84153-0.50492 0-0.84153-0.33661-0.84153-0.84153s0.33661-0.84154 0.84153-0.84154z'/%3E %3C/g%3E %3C/svg%3E"},"0b8eb3e35929778b339a":function(t,e,n){"use strict";n.r(e);var r,o=n("8af190b70a6bc55c6f1b"),i=n.n(o),a=n("7aa8db87e3c9e814f06d"),s=n("fc43733ec9d3f066c334"),l=n("8a2d1b95e05b6a321e74"),c=n.n(l),u=n("0a81c721557e72a0975d"),h=n("1f7eb4558e149d7a2535"),p=n("71d2f9a0d515b86993c4"),f=n("7c819471f8086f26a136"),d=n("721170d9c04e3d2551ec"),g=n.n(d),v=n("ef4865002b343d63dc0c"),y=n("ecad9051054967dddd1d"),m=n("5967b2c4674ec19411e2"),_=n("d8682765e772da6a405c"),b=n("8fdd8041225f426c1db2"),x=n.n(b),w=n("73c491490691b18f8f8a"),E=n("fdae765a9a200f4374cf"),O=n("48f467bf988d0839cdf4"),S=n.n(O),C=n("ea78a4d6077b4ce99010"),T=n.n(C),I=n("b5b7bafeb7add2b1fc09"),P=n("9095151026da8c51dd60"),R=n.n(P),M=n("ab039aecd4a1d4fedc0e"),F="app.components.Header",L=Object(M.defineMessages)({header:{id:"".concat(F,".header"),defaultMessage:"This is the Header component!"},search:{id:"".concat(F,".search"),defaultMessage:"Search"},following:{id:"".concat(F,".following"),defaultMessage:"Following"},logout:{id:"".concat(F,".logout"),defaultMessage:"Logout"},addFleet:{id:"".concat(F,".addFleet"),defaultMessage:"Add fleet"}});function D(t,e,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=o;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];e.children=s}if(e&&i)for(var c in i)void 0===e[c]&&(e[c]=i[c]);else e||(e=i||{});return{$$typeof:r,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=Object(s.a)(function(t){return{paper:{margin:"5px 5px",padding:"2px 4px",display:"flex",alignItems:"center",minWidth:306,maxWidth:358,zIndex:1,position:"absolute"},input:{marginLeft:t.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},list:{minWidth:306,maxWidth:358}}}),N=D(T.a,{}),z=D(R.a,{}),G=D(x.a,{}),Y=D(m.a,{},void 0,D(S.a,{})),W=D(m.a,{},void 0,D(g.a,{}));var U=Object(o.memo)(function(t){var e=t.onLiveRoute,n=t.onSearch,r=t.searchPhrase,o=t.logout,a=t.openAddFleetModal,s=j(),l=function(t){return n(t.target.value)},c=k(i.a.useState(!1),2),u=c[0],h=c[1];return i.a.createElement(i.a.Fragment,null,D(I.a,{className:s.paper},void 0,D(w.a,{className:s.iconButton,"aria-label":"menu",onClick:function(){return h(!0)}},void 0,N),i.a.createElement(M.FormattedMessage,L.search,function(t){return D(E.a,{className:s.input,placeholder:t,onChange:l,value:r})}),D(w.a,{className:s.iconButton,"arial-label":i.a.createElement(M.FormattedMessage,L.search)},void 0,z),D(p.a,{className:s.divider,orientation:"vertical"}),D(w.a,{className:s.iconButton,"aria-label":i.a.createElement(M.FormattedMessage,L.following),onClick:e},void 0,G)),D(f.a,{anchor:"left",open:u,onClose:function(){return h(!1)}},void 0,D("div",{className:s.list,role:"presentation"},void 0,D(v.a,{},void 0,D(y.a,{button:!0,onClick:function(){h(!1),a("add")}},"add-fleet",Y,D(_.a,{primary:i.a.createElement(M.FormattedMessage,L.addFleet)})),D(y.a,{button:!0,onClick:function(){h(!1),o()}},"logout",W,D(_.a,{primary:i.a.createElement(M.FormattedMessage,L.logout)}))))))}),H=n("a1cf5d6fa4ed65a6ddd5"),q=n.n(H),B=n("398fee01cee86d8d3bfd"),X=n("56af34ed4ff7f0ddd6ef"),K=n("ed8e77f92a2fb9d2cbfa"),V=n("67249d373779d224be91"),Z=n("85b71a27cbcf93ff4854"),$=n("3a1f560dcc2cef217ef6"),J=n("016e72efd45bf6ae01f9"),Q=n("1977fad39392966fc780"),tt=n("14407cc432f2bf4f958e"),et=n("a28fc3c963a1d4d1a2e5"),nt=n("96100616be21446d392a"),rt=n.n(nt),ot=n("f1c990499b5bad8f3731"),it=n("238fef99c154a7dfd239"),at=n("9ae32c517479bfbc8a70"),st=n("8e0d8d60b701f2c2a59e"),lt=(n("eafcfe49e6bd3eeab38b"),"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function ct(t){cancelAnimationFrame(t.id)}function ut(t,e){var n=lt();var r={id:requestAnimationFrame(function o(){lt()-n>=e?t.call(null):r.id=requestAnimationFrame(o)})};return r}var ht=null;function pt(t){if(void 0===t&&(t=!1),null===ht||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?ht="positive-descending":(e.scrollLeft=1,ht=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),ht}return ht}var ft=150,dt=function(t,e){return t};function gt(t){var e,n,r=t.getItemOffset,i=t.getEstimatedTotalSize,a=t.getItemSize,s=t.getOffsetForIndexAndAlignment,l=t.getStartIndexForOffset,c=t.getStopIndexForStartIndex,u=t.initInstanceProps,h=t.shouldResetStyleCacheOnItemSizeChange,p=t.validateProps;return n=e=function(t){function e(e){var n;return(n=t.call(this,e)||this)._instanceProps=u(n.props,Object(at.a)(Object(at.a)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(at.a)(Object(at.a)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object(st.a)(function(t,e,r,o){return n.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:r,visibleStopIndex:o})}),n._callOnScroll=void 0,n._callOnScroll=Object(st.a)(function(t,e,r){return n.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:r})}),n._getItemStyle=void 0,n._getItemStyle=function(t){var e,o=n.props,i=o.direction,s=o.itemSize,l=o.layout,c=n._getItemStyleCache(h&&s,h&&l,h&&i);if(c.hasOwnProperty(t))e=c[t];else{var u=r(n.props,t,n._instanceProps),p=a(n.props,t,n._instanceProps),f="horizontal"===i||"horizontal"===l,d="rtl"===i,g=f?u:0;c[t]=e={position:"absolute",left:d?void 0:g,right:d?g:void 0,top:f?0:u,height:f?"100%":p,width:f?p:"100%"}}return e},n._getItemStyleCache=void 0,n._getItemStyleCache=Object(st.a)(function(t,e,n){return{}}),n._onScrollHorizontal=function(t){var e=t.currentTarget,r=e.clientWidth,o=e.scrollLeft,i=e.scrollWidth;n.setState(function(t){if(t.scrollOffset===o)return null;var e=n.props.direction,a=o;if("rtl"===e)switch(pt()){case"negative":a=-o;break;case"positive-descending":a=i-r-o}return a=Math.max(0,Math.min(a,i-r)),{isScrolling:!0,scrollDirection:t.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._onScrollVertical=function(t){var e=t.currentTarget,r=e.clientHeight,o=e.scrollHeight,i=e.scrollTop;n.setState(function(t){if(t.scrollOffset===i)return null;var e=Math.max(0,Math.min(i,o-r));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._outerRefSetter=function(t){var e=n.props.outerRef;n._outerRef=t,"function"===typeof e?e(t):null!=e&&"object"===typeof e&&e.hasOwnProperty("current")&&(e.current=t)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&ct(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=ut(n._resetIsScrolling,ft)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},function(){n._getItemStyleCache(-1,null)})},n}Object(it.a)(e,t),e.getDerivedStateFromProps=function(t,e){return vt(t,e),p(t),null};var n=e.prototype;return n.scrollTo=function(t){t=Math.max(0,t),this.setState(function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},n.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props.itemCount,r=this.state.scrollOffset;t=Math.max(0,Math.min(t,n-1)),this.scrollTo(s(this.props,t,e,r,this._instanceProps))},n.componentDidMount=function(){var t=this.props,e=t.direction,n=t.initialScrollOffset,r=t.layout;if("number"===typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===e||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var t=this.props,e=t.direction,n=t.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===e||"horizontal"===n)if("rtl"===e)switch(pt()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&ct(this._resetIsScrollingTimeoutId)},n.render=function(){var t=this.props,e=t.children,n=t.className,r=t.direction,a=t.height,s=t.innerRef,l=t.innerElementType,c=t.innerTagName,u=t.itemCount,h=t.itemData,p=t.itemKey,f=void 0===p?dt:p,d=t.layout,g=t.outerElementType,v=t.outerTagName,y=t.style,m=t.useIsScrolling,_=t.width,b=this.state.isScrolling,x="horizontal"===r||"horizontal"===d,w=x?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),O=E[0],S=E[1],C=[];if(u>0)for(var T=O;T<=S;T++)C.push(Object(o.createElement)(e,{data:h,key:f(T,h),index:T,isScrolling:m?b:void 0,style:this._getItemStyle(T)}));var I=i(this.props,this._instanceProps);return Object(o.createElement)(g||v||"div",{className:n,onScroll:w,ref:this._outerRefSetter,style:Object(ot.a)({position:"relative",height:a,width:_,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},y)},Object(o.createElement)(l||c||"div",{children:C,ref:s,style:{height:x?"100%":I,pointerEvents:b?"none":void 0,width:x?I:"100%"}}))},n._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],r=t[2],o=t[3];this._callOnItemsRendered(e,n,r,o)}if("function"===typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,l=i.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},n._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,r=this.state,o=r.isScrolling,i=r.scrollDirection,a=r.scrollOffset;if(0===e)return[0,0,0,0];var s=l(this.props,a,this._instanceProps),u=c(this.props,s,a,this._instanceProps),h=o&&"backward"!==i?1:Math.max(1,n),p=o&&"forward"!==i?1:Math.max(1,n);return[Math.max(0,s-h),Math.max(0,Math.min(e-1,u+p)),s,u]},e}(o.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var vt=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},yt=function(t,e,n){var r=t.itemSize,o=n.itemMetadataMap,i=n.lastMeasuredIndex;if(e>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var l=i+1;l<=e;l++){var c=r(l);o[l]={offset:a,size:c},a+=c}n.lastMeasuredIndex=e}return o[e]},mt=function(t,e,n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=yt(t,i,e).offset;if(a===o)return i;a<o?r=i+1:a>o&&(n=i-1)}return r>0?r-1:0},_t=function(t,e,n,r){for(var o=t.itemCount,i=1;n<o&&yt(t,n,e).offset<r;)n+=i,i*=2;return mt(t,e,Math.min(n,o-1),Math.floor(n/2),r)},bt=function(t,e){var n=t.itemCount,r=e.itemMetadataMap,o=e.estimatedItemSize,i=e.lastMeasuredIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=r[i];a=s.offset+s.size}return a+(n-i-1)*o},xt=gt({getItemOffset:function(t,e,n){return yt(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:bt,getOffsetForIndexAndAlignment:function(t,e,n,r,o){var i=t.direction,a=t.height,s=t.layout,l=t.width,c="horizontal"===i||"horizontal"===s?l:a,u=yt(t,e,o),h=bt(t,o),p=Math.max(0,Math.min(h-c,u.offset)),f=Math.max(0,u.offset-c+u.size);switch("smart"===n&&(n=r>=f-c&&r<=p+c?"auto":"center"),n){case"start":return p;case"end":return f;case"center":return Math.round(f+(p-f)/2);case"auto":default:return r>=f&&r<=p?r:r<f?f:p}},getStartIndexForOffset:function(t,e,n){return function(t,e,n){var r=e.itemMetadataMap,o=e.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?mt(t,e,o,0,n):_t(t,e,Math.max(0,o),n)}(t,n,e)},getStopIndexForStartIndex:function(t,e,n,r){for(var o=t.direction,i=t.height,a=t.itemCount,s=t.layout,l=t.width,c="horizontal"===o||"horizontal"===s?l:i,u=yt(t,e,r),h=n+c,p=u.offset+u.size,f=e;f<a-1&&p<h;)p+=yt(t,++f,r).size;return f},initInstanceProps:function(t,e){var n={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),r&&e.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});var wt=n("3dde4251a4e36fb3d2d7"),Et=n.n(wt),Ot=n("bc52778aa4babd5538cf"),St=n("2f3d4de668fb4d70ea9c"),Ct=n.n(St),Tt=n("0b25eed4e425475e9ff9"),It=n("86dc7434cccb672722d1"),Pt=n.n(It),Rt=n("e68eb59aa96fc65ab714"),Mt=n.n(Rt),Ft=n("e9cb1a74b44c7bf473df"),Lt=n.n(Ft),Dt=n("8113359511cd270e25e9"),kt=n("52b94d0fd50d848aba95"),At=n("f8c4cc511a2da4f715ef"),jt=n("cfab155c45befb529f46"),Nt=n("80e80f602055becd595c"),zt=n.n(Nt),Gt=n("d49b87ecf6a512a7e380"),Yt=n.n(Gt),Wt=n("a804b82c14c8fd248b2b"),Ut=n.n(Wt),Ht=n("04323db87621e60c823e"),qt=n.n(Ht),Bt=n("0b0decaa36a89b8a4558"),Xt=n("7f1e5b8b7e153fb9be55"),Kt=n("adc20f99e57c573c589c"),Vt=n("d95b0cf107403b178365"),Zt=n("100182af864976edb75f"),$t=n.n(Zt),Jt=n("14caec635f70dc2c02ca"),Qt=n.n(Jt),te=n("6a55381db84a511b309a"),ee=n.n(te),ne=n("8fc0c6ca761d160560c9"),re=n("d7f9c90bb9eec3ae4c76"),oe=n("1b4947d16bbaf85cb8db"),ie=n("043737a9f76d0e1c02ad"),ae=n("9d316ebc33f5187e30d0"),se=n("ad2ec3ce61b4e80ca5b7"),le=n("25bd7a87af357973417a"),ce=n.n(le),ue=n("f2ef6f6e544aad97aa22"),he=n.n(ue),pe=n("bf95d08a577daedf0222"),fe=n.n(pe),de=n("3cfaddbc49b3b4520d9c"),ge=n.n(de),ve=n("98f11010eed1f30a67e8"),ye=n.n(ve),me=n("5ad5fa305fb9d8886d1b"),_e=n.n(me);function be(t){var e=decodeURIComponent(t).replace("data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ","");return(new DOMParser).parseFromString(e,"image/svg+xml")}var xe=n("34d538758fadc195d9b0"),we=n.n(xe),Ee=n("38a5cf7bd4a34adb836d"),Oe=n.n(Ee),Se=n("774b962f7f8ee233d0d8"),Ce=n.n(Se),Te=n("8e5ff0d18795eecbe193"),Ie=n.n(Te),Pe=n("cc9cb34247c192a15852"),Re=n.n(Pe),Me=n("a7e9ffa2c081a2fb5ea5"),Fe=n.n(Me),Le=n("e35698e68d1df72089c6"),De=n.n(Le),ke=n("9f8408bc240279d0b00a"),Ae=n.n(ke),je=n("0cd3c73b0976507cb4f5"),Ne=n.n(je),ze=n("fb27460172bd4593ba8b"),Ge=n.n(ze),Ye=n("37b9a59b1709fe27f5f8"),We=n.n(Ye),Ue=n("e0e8ac40fdfb7ae1c907"),He=n.n(Ue),qe=n("d00ca599655a685685b3"),Be=n.n(qe),Xe=n("911f6b041ac8efd77294"),Ke=n.n(Xe),Ve=n("4061d78159b3c8762e5a"),Ze=n.n(Ve),$e=n("49f4067ee71e74f7bfe5"),Je=n.n($e),Qe=n("064ca696732477a7857b"),tn=n.n(Qe),en=n("ca58d6a6a484c1aaa883"),nn=n.n(en),rn=n("ab0f7027a5d5d72ab9da"),on=n.n(rn),an=n("f1d2accb1cb5589a1510"),sn=n.n(an),ln=n("dfd42df999446333fe96"),cn=n.n(ln),un=n("dd8173cc67fa36d7ff4a"),hn=n.n(un),pn=n("d2538cc52c3c9ed4b50a"),fn=n.n(pn),dn={animal:be(we.a),arrow:be(Oe.a),bicycle:be(Ce.a),boat:be(Ie.a),bus:be(Re.a),car:be(Fe.a),crane:be(De.a),default:be(Ae.a),helicopter:be(Ne.a),motorcycle:be(Ge.a),offroad:be(We.a),person:be(He.a),pickup:be(Be.a),plane:be(Ke.a),scooter:be(Ze.a),ship:be(Je.a),tractor:be(tn.a),train:be(nn.a),tram:be(on.a),trolleybus:be(sn.a),truck:be(cn.a),van:be(hn.a),circle:be(fn.a)},gn={dd:{name:"DecimalDegree",factor:1},km:{name:"km",factor:.001},kn:{name:"kn",factor:1},kmh:{name:"km/h",factor:1.852},mi:{name:"mi",factor:621371e-9},mph:{name:"mph",factor:1.15078},nmi:{name:"nmi",factor:539957e-9}};function vn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(gn[e||n].factor*(t||0)).toFixed(r)}function yn(t,e){return"".concat(vn(t,e,"kmh",0)," ").concat(gn[e||"kmh"].name)}function mn(t,e,n){if(n&&Object.keys(n).indexOf("".concat(e,"Unit"))>-1){if(e.match(/speed/g))return yn(t,n["".concat(e,"Unit")]);if(e.match(/distance/g))return function(t,e){return"".concat(vn(t,e,"km")," ").concat(gn[e||"km"].name)}(t,n["".concat(e,"Unit")])}return t}function _n(t){return function(t){if(Array.isArray(t))return bn(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(n),!0).forEach(function(e){En(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function En(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function On(t,e){return"offline"===t.status?"rgba(255, 162, 173, 1.0)":"online"===t.status&&e&&(e.attributes.motion||e.attributes.ignition)?"rgba(77, 250, 144, 1.0)":"rgba(250, 190, 77, 1.0)"}function Sn(t,e,n){return e.forEach(function(e){var r=rt()(t,["id",e.id]),o=t[r].positions?t[r].positions.slice(-1)[0]:null,i=vn(o?o.speed:0,n.attributes.speedUnit),a=yn(o?o.speed:0,n.attributes.speedUnit),s=t[r].icon;t[r].category===e.category&&t[r].status===e.status||(s=Pn(dn[e.category||"default"],On(e,o),o?o.course:0,"arrow"===e.category?"arrow":"background","arrow"===e.category?"arrow":"background")),r>-1?_e()(t[r],e,{icon:s,speed:i,formattedSpeed:a}):t.push(_e()(e,{icon:s,speed:i,formattedSpeed:a}))}),t}var Cn=function(t,e){var n=wn({isSelected:arguments.length>2&&void 0!==arguments[2]&&arguments[2],isPinned:arguments.length>3&&void 0!==arguments[3]&&arguments[3]},e.slice(-1)[0]);return t&&(n.category=t.category,n.icon=t.icon.source),n},Tn=function(t,e,n){return Et()(t,function(t){return t&&t.positions&&Cn(t,t.positions,e&&e.uniqueId===t.uniqueId,n&&n.uniqueId===t.uniqueId)}).filter(function(t){return!!t})};function In(t){return"data:image/svg+xml,<?xml version='1.0' encoding='UTF-8' standalone='no'?> ".concat(encodeURIComponent((new XMLSerializer).serializeToString(t.documentElement)))}function Pn(t,e,n,r,o){var i=t,a=parseFloat(i.documentElement.getAttribute("width")),s=parseFloat(i.documentElement.getAttribute("height")),l=i.getElementById(r);if(l){l.style.fill=e;var c="rotate(".concat(n," ").concat(a/2," ").concat(s/2,")");i.getElementById(o).setAttribute("transform",c)}return{height:s,source:In(i),width:a}}function Rn(t,e){return ee()(t,{uniqueId:e})}var Mn,Fn=function(t,e){return ye()(t,function(t){return t.longitude>e.br&&t.longitude<e.tl&&t.latitude<e.bl&&t.latitude>e.tr})},Ln=function(t,e,n,r){var o=n&&ee()(e,{uniqueId:n.uniqueId}),i=r&&ee()(e,{uniqueId:r.uniqueId});return n&&n.positions&&!o?e.push(Cn(null,n.positions,!0)):r&&r.positions&&!i&&e.push(Cn(null,r.positions,!1,!0)),e};function Dn(t){return(Dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,e,n,r){Mn||(Mn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Mn,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jn(t,e){return(jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Gn(t);if(e){var o=Gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Dn(e)||"function"===typeof e))return e;return zn(t)}(this,n)}}function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jn(t,e)}(a,i.a.PureComponent);var e,n,r,o=Nn(a);function a(){var t,e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=o.call.apply(o,[this].concat(s)),e=zn(t),r=function(){return Pn(t.props.icon,"#008000",0,t.props.IconFillId,t.props.IconRotateId).source},(n="getIcon")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=a,(n=[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,kn(_.a,{disableTypography:this.props.disableTypography},void 0,this.props.children),this.props.icon&&kn(m.a,{},void 0,kn("img",{src:this.getIcon(),alt:this.props.alt,style:{margin:"auto"}})))}}])&&An(e.prototype,n),r&&An(e,r),a}();Yn.defaultProps={IconFillId:"background",IconRotateId:"background"};var Wn,Un=Yn,Hn="app.components.Fleet",qn=Object(M.defineMessages)({options:{id:"".concat(Hn,".options"),defaultMessage:"Options"},name:{id:"".concat(Hn,".name"),defaultMessage:"Name"},uniqueId:{id:"".concat(Hn,".uniqueId"),defaultMessage:"Device's Serial"},details:{id:"".concat(Hn,".details"),defaultMessage:"Details"},add:{id:"".concat(Hn,".add"),defaultMessage:"Add"},edit:{id:"".concat(Hn,".edit"),defaultMessage:"Edit"},delete:{id:"".concat(Hn,".delete"),defaultMessage:"Delete"},deleteConfirmationMessage:{id:"".concat(Hn,".deleteConfirmationMessage"),defaultMessage:"Are you sure to delete the device?"},newDevice:{id:"".concat(Hn,".newDevice"),defaultMessage:"new device"},enable:{id:"".concat(Hn,".enable"),defaultMessage:"Enable"},disable:{id:"".concat(Hn,".disable"),defaultMessage:"Disable"},mode:{id:"".concat(Hn,".mode"),defaultMessage:"Mode"},none:{id:"".concat(Hn,".none"),defaultMessage:"None"},groups:{id:"".concat(Hn,".groups"),defaultMessage:"Groups"},phone:{id:"".concat(Hn,".phone"),defaultMessage:"Phone Number"},model:{id:"".concat(Hn,".model"),defaultMessage:"Model"},contact:{id:"".concat(Hn,".contact"),defaultMessage:"Contact"},category:{id:"".concat(Hn,".category"),defaultMessage:"Category"},default:{id:"".concat(Hn,".default"),defaultMessage:"Default"},arrow:{id:"".concat(Hn,".arrow"),defaultMessage:"arrow"},animal:{id:"".concat(Hn,".animal"),defaultMessage:"Animal"},bicycle:{id:"".concat(Hn,".bicycle"),defaultMessage:"Bicycle"},boat:{id:"".concat(Hn,".boat"),defaultMessage:"Boat"},bus:{id:"".concat(Hn,".bus"),defaultMessage:"Bus"},car:{id:"".concat(Hn,".car"),defaultMessage:"Car"},crane:{id:"".concat(Hn,".crane"),defaultMessage:"Crane"},helicopter:{id:"".concat(Hn,".helicopter"),defaultMessage:"Helicopter"},motorcycle:{id:"".concat(Hn,".motorcycle"),defaultMessage:"Motorcycle"},offroad:{id:"".concat(Hn,".offroad"),defaultMessage:"Offroad"},person:{id:"".concat(Hn,".person"),defaultMessage:"Person"},pickup:{id:"".concat(Hn,".pickup"),defaultMessage:"Pickup"},plane:{id:"".concat(Hn,".plane"),defaultMessage:"Plane"},ship:{id:"".concat(Hn,".ship"),defaultMessage:"Ship"},tractor:{id:"".concat(Hn,".tractor"),defaultMessage:"Tractor"},truck:{id:"".concat(Hn,".truck"),defaultMessage:"Truck"},van:{id:"".concat(Hn,".van"),defaultMessage:"Van"}}),Bn=["default","arrow","animal","bicycle","boat","bus","car","crane","helicopter","motorcycle","offroad","person","pickup","plane","ship","tractor","truck","van"];function Xn(t,e,n,r){Wn||(Wn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Wn,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Kn,Vn=Object(s.a)({"MuiSelect-selectMenu":{"& > div":{display:"flex"}}}),Zn=function(t){var e=t.defaultValue,n=t.disabled,r=t.onChange,o=Vn();return i.a.createElement(i.a.Fragment,null,Xn(oe.a,{fullWidth:!0},void 0,Xn(ie.a,{},void 0,i.a.createElement(M.FormattedMessage,qn.category)),Xn(ae.a,{name:"category",required:!0,defaultValue:e||"",onChange:r,disabled:n,className:o["MuiSelect-selectMenu"]},void 0,Bn.map(function(t){return Xn(Xt.a,{value:t,style:{textAlign:"center"}},t,Xn(Un,{icon:dn[t],alt:t,IconFillId:"arrow"===t?"arrow":"background",IconRotateId:"arrow"===t?"arrow":"background"},void 0,i.a.createElement(M.FormattedMessage,qn[t])))}))))};function $n(){return($n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Jn(t,e,n,r){Kn||(Kn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Kn,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Qn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(n),!0).forEach(function(e){er(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var or,ir=Jn(ne.a,{position:"start"},void 0,"+98\xa0"),ar=i.a.memo(function(t){var e=t.fleet,n=t.groups,r=t.task,a=t.readonly,s=t.onFormChanged,l=t.onValid,c=nr(Object(o.useState)(q()(e)?{}:e),2),u=c[0],h=c[1],p=function(t){return"groupId"===t?ee()(n,function(n){return e?n.id===e[t]:null}):e?e[t]:""},f=function(){return{name:p("name"),uniqueId:p("uniqueId"),groupId:p("groupId"),phone:p("phone"),model:p("model"),contact:p("contact"),category:p("category"),disabled:p("disabled")}},d=nr(Object(o.useState)(f()),2),g=d[0],v=d[1];Object(o.useEffect)(function(){return v(f())},[n]);var y={name:function(t){return t&&t.length>0},uniqueId:function(t){return t&&t.length>0}},m=nr(Object(o.useState)({name:!1,uniqueId:!1,groupId:!0,phone:!0,model:!0,contact:!0,category:!0,disabled:!0}),2),_=m[0],b=m[1],x=function(t,e,n){if(!a){var r=t?t.target:{name:e,value:n},o=r.name,i=r.value,c=tr(tr({},u),{},er({},o,i));h(c),s(o,i),Qt()(y,function(t,e){var n,r;_[e]=(n=e,r=c[e],!y[n]||y[n](r))}),b(_),l($t()(_).every(function(t){return t}))}};return Jn(Dt.a,{container:!0,spacing:3},void 0,Jn(Dt.a,{item:!0,xs:12},void 0,Jn(re.a,{name:"name",required:!0,id:"standard-required",label:i.a.createElement(M.FormattedMessage,qn.name),defaultValue:g.name,fullWidth:!0,disabled:a,onChange:x})),Jn(Dt.a,{item:!0,xs:12},void 0,Jn(re.a,{name:"uniqueId",required:!0,type:"text",label:i.a.createElement(M.FormattedMessage,qn.uniqueId),defaultValue:g.uniqueId,fullWidth:!0,disabled:a,onChange:x})),Jn(Dt.a,{item:!0,xs:12},void 0,Jn(oe.a,{fullWidth:!0},void 0,Jn(se.a,{defaultValue:g.groupId,onChange:function(t,e){return x(null,"groupId",e&&e.id)},options:n,disabled:a,getOptionLabel:function(t){return t.name||""},getOptionSelected:function(t,e){return function(t,e){return t.id===e.id}(t,e)},renderInput:function(t){return i.a.createElement(re.a,$n({},t,{label:i.a.createElement(M.FormattedMessage,qn.groups)}))}}))),Jn(Dt.a,{item:!0,xs:12},void 0,Jn(re.a,{name:"phone",type:"text",label:i.a.createElement(M.FormattedMessage,qn.phone),defaultValue:g.phone,fullWidth:!0,disabled:a,onChange:x,InputProps:{startAdornment:ir,style:{direction:"ltr"}}})),Jn(Dt.a,{item:!0,xs:12},void 0,Jn(re.a,{name:"model",type:"text",label:i.a.createElement(M.FormattedMessage,qn.model),defaultValue:g.model,fullWidth:!0,disabled:a,onChange:x})),Jn(Dt.a,{item:!0,xs:12},void 0,Jn(re.a,{name:"contact",type:"text",label:i.a.createElement(M.FormattedMessage,qn.contact),defaultValue:g.contact,fullWidth:!0,disabled:a,onChange:x})),Jn(Dt.a,{item:!0,xs:12},void 0,Jn(Zn,{defaultValue:g.category,disabled:a,onChange:x})),"edit"===r?Jn(Dt.a,{item:!0,xs:12},void 0,Jn(oe.a,{fullWidth:!0},void 0,Jn(ie.a,{},void 0,i.a.createElement(M.FormattedMessage,qn.mode)),Jn(ae.a,{name:"disabled",fullWidth:!0,defaultValue:g.disabled,disabled:a,onChange:x},void 0,Jn(Xt.a,{value:!1},void 0,Jn(Un,{},void 0,i.a.createElement(M.FormattedMessage,qn.enable))),Jn(Xt.a,{value:!0},void 0,Jn(Un,{},void 0,i.a.createElement(M.FormattedMessage,qn.disable)))))):null)}),sr=n("937d726c1c2880f2c2ec"),lr=n("c20cb9ad2a6d30ec5986"),cr=n("6e86753cc35d11eb3233"),ur=n("6ff4e1147c3741f130e5"),hr=n("5033cead807f05d3635d"),pr=n("a11eacdcf2a3861858dc"),fr=n("95304742f100121de3ed"),dr=Object(M.defineMessages)({closeModal:{id:"".concat("app.components.Modal",".closeModal"),defaultMessage:"Close"}});function gr(t,e,n,r){or||(or="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:or,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function vr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return yr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mr=Object(s.a)(function(){return{progress:{textAlign:"center"}}}),_r=gr(fr.a,{size:25});var br,xr=function(t){var e=mr(),n=t.children,r=t.open,a=t.onClose,s=t.style,l=t.className,c=t.fullScreen,u=t.maxWidth,h=t.modalTitle,p=t.modalContent,f=t.modalActions,d=vr(Object(o.useState)(r),2),g=d[0],v=d[1];Object(o.useEffect)(function(){g!==r&&v(!g)});var y=function(){a(),v(!1)};return gr(sr.a,{open:g,onClose:function(){a(),y()},style:s,className:l,fullWidth:!0,maxWidth:u||"sm",fullScreen:c},void 0,gr(hr.a,{id:"simple-dialog-title"},void 0,h),gr(cr.a,{},void 0,p?gr(ur.a,{id:"alert-dialog-description"},void 0,p):null,n),gr(lr.a,{},void 0,f&&f.map(function(t){return t.showLoader?gr("div",{className:e.progress},"showLoader-".concat(Math.random()),_r):gr(pr.a,{onClick:t.action,color:t.color?t.color:"primary",disabled:t.disabled},"action-".concat(Math.random()),t.text)}),gr(pr.a,{onClick:y,color:"default"},void 0,i.a.createElement(M.FormattedMessage,dr.closeModal))))};function wr(t){return(wr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(n),!0).forEach(function(e){Mr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Sr(t,e,n,r){br||(br="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:br,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tr(t,e){return(Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ir(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Rr(t);if(e){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===wr(e)||"function"===typeof e))return e;return Pr(t)}(this,n)}}function Pr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rr(t){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fr=Sr("span",{},void 0,"("),Lr=Sr("span",{},void 0,")"),Dr=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}(s,o["PureComponent"]);var e,n,r,a=Ir(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Mr(Pr(e=a.call(this,t)),"sanitizeDetails",function(t){return{id:t.id,name:t.name,uniqueId:t.uniqueId,status:t.status,positionId:t.positionId,groupId:t.groupId,phone:t.phone,model:t.model,contact:t.contact,category:t.category,geofenceIds:t.geofenceIds,attributes:t.attributes,disabled:t.disabled,lastUpdate:t.lastUpdate}}),Mr(Pr(e),"getModalTitle",function(t,e){return t&&e?Sr("strong",{},void 0,Sr("span",{style:{marginLeft:"5px"}},void 0,t),Fr,e,Lr):Sr("strong",{},void 0,t)}),Mr(Pr(e),"handleFormChanges",function(t,n){e.state.fleetDetails=Or(Or({},e.state.fleetDetails),{},Mr({},t,n))}),e.state={fleetDetails:"add"===e.props.task?{}:e.sanitizeDetails(e.props.fleet),shouldButtonDisabled:"delete"!==e.props.task},e}return e=s,(n=[{key:"componentDidMount",value:function(){"add"!==this.props.task&&this.props.getFleet(this.props.fleet.id)}},{key:"render",value:function(){var t=this,e=this.props.task&&i.a.createElement(M.FormattedMessage,qn[this.props.task]),n=this.getModalTitle(i.a.createElement(M.FormattedMessage,qn[this.props.task]),"add"===this.props.task?i.a.createElement(M.FormattedMessage,qn.newDevice):this.props.fleet.name),r=[{action:function(){t.props.action(t.state.fleetDetails),t.setState(Or(Or({},t.state),{},{shouldButtonDisabled:!0}))},color:"primary",text:e,disabled:this.state.shouldButtonDisabled||this.props.showLoader,showLoader:this.props.showLoader}];return n&&Sr(xr,{open:this.props.open,onClose:this.props.onClose,modalTitle:n,modalActions:"details"!==this.props.task?r:[]},void 0,"details"===this.props.task&&Sr(ar,{fleet:this.state.fleetDetails,groups:this.props.groups,task:this.props.task,readonly:!0}),"add"===this.props.task&&Sr(ar,{fleet:this.state.fleetDetails,groups:this.props.groups,task:this.props.task,onFormChanged:this.handleFormChanges,onValid:function(e){t.setState(Or(Or({},t.state),{},{shouldButtonDisabled:t.props.showLoader||!e}))}}),"edit"===this.props.task&&Sr(ar,{fleet:this.state.fleetDetails,groups:this.props.groups,task:this.props.task,onFormChanged:this.handleFormChanges,onValid:function(e){t.setState(Or(Or({},t.state),{},{shouldButtonDisabled:t.props.showLoader||!e}))}}),"delete"===this.props.task&&i.a.createElement(M.FormattedMessage,qn.deleteConfirmationMessage))}}])&&Cr(e.prototype,n),r&&Cr(e,r),s}(),kr=i.a.memo(Dr),Ar="app/Fleet/GET_FLEET_REQUEST",jr="app/Fleet/ADD_FLEET_REQUEST",Nr="app/Fleet/EDIT_FLEET_REQUEST",zr="app/Fleet/DELETE_FLEET_REQUEST",Gr=function(t){return{type:Ar,payload:t}},Yr=function(t){return{type:"app/Fleet/GET_FLEET_SUCCESSFUL",payload:t}},Wr=function(t){return{type:"app/Fleet/GET_FLEET_FAILED",payload:t}},Ur=function(t){return{type:jr,payload:t}},Hr=function(t){return{type:"app/Fleet/ADD_FLEET_SUCCESSFUL",payload:t}},qr=function(t){return{type:"app/Fleet/ADD_FLEET_FAILED",payload:t}},Br=function(t){return{type:Nr,payload:t}},Xr=function(t){return{type:"app/Fleet/EDIT_FLEET_SUCCESSFUL",payload:t}},Kr=function(t){return{type:"app/Fleet/EDIT_FLEET_FAILED",payload:t}},Vr=function(t){return{type:zr,payload:t}},Zr=function(t){return{type:"app/Fleet/DELETE_FLEET_SUCCESSFUL",payload:t}},$r=function(t){return{type:"app/Fleet/DELETE_FLEET_FAILED",payload:t}},Jr=n("da010f21fea25912dd9e"),Qr=n.n(Jr),to=n("7edf83707012a871cdfb"),eo={fleet:{id:0,name:"",uniqueId:"",status:"",lastUpdate:Qr()().toDate(),positionId:0,groupId:0,phone:"",model:"",contact:"",category:"",geofenceIds:[],attributes:{}},showLoader:!1,error:null},no=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo,e=arguments.length>1?arguments[1]:void 0;return Object(to.a)(t,function(t){var n=e.payload;switch(e.type){case Ar:t.showLoader=!0,t.error=null;break;case"app/Fleet/GET_FLEET_SUCCESSFUL":t.fleet=n,t.showLoader=!1,t.error=null;break;case"app/Fleet/GET_FLEET_FAILED":t.error=n,t.showLoader=!1;break;case jr:t.showLoader=!0,t.error=null;break;case"app/Fleet/ADD_FLEET_SUCCESSFUL":t.fleet=n,t.showLoader=!1,t.error=null;break;case"app/Fleet/ADD_FLEET_FAILED":t.error=n,t.showLoader=!1;break;case Nr:t.showLoader=!0,t.error=null;break;case"app/Fleet/EDIT_FLEET_SUCCESSFUL":t.fleet=n,t.showLoader=!1,t.error=null;break;case"app/Fleet/EDIT_FLEET_FAILED":t.error=n,t.showLoader=!1;break;case zr:t.showLoader=!0,t.error=null;break;case"app/Fleet/DELETE_FLEET_SUCCESSFUL":t.fleet=eo.fleet,t.showLoader=!1,t.error=null;break;case"app/Fleet/DELETE_FLEET_FAILED":t.error=n,t.showLoader=!1}})},ro=function(t){return t.fleet||eo},oo=Object(M.defineMessages)({addFleetSuccessful:{id:"".concat("app.containers.FleetContainer",".addFleetSuccessful"),defaultMessage:"Added successfully"},addFleetFailed:{id:"".concat("app.containers.FleetContainer",".addFleetFailed"),defaultMessage:"Check inputs"},editFleetSuccessful:{id:"".concat("app.containers.FleetContainer",".editFleetSuccessful"),defaultMessage:"Edited successfully"},editFleetFailed:{id:"".concat("app.containers.FleetContainer",".editFleetFailed"),defaultMessage:"Check inputs"},deleteFleetSuccessful:{id:"".concat("app.containers.FleetContainer",".deleteFleetSuccessful"),defaultMessage:"Deleted successfully"},deleteFleetFailed:{id:"".concat("app.containers.FleetContainer",".deleteFleetFailed"),defaultMessage:"Something's wrong. please try again later"}}),io="app/FleetsDrawer/FETCH_DEVICES_FAIL",ao="app/FleetsDrawer/FETCH_DEVICES_REQUEST",so="app/FleetsDrawer/FETCH_DEVICES_SUCCESS",lo="app/FleetsDrawer/SOCKET_CONNECTION_FAIL",co="app/FleetsDrawer/SOCKET_MESSAGE_RECEIVE",uo="app/FleetsDrawer/SOCKET_CONNECTION_REQUEST",ho="app/FleetsDrawer/SOCKET_CONNECTION_SUCCESS",po="app/FleetDrawer/UPDATE_FLEET_PANEL_STATE",fo="app/FleetDrawer/UPDATE_FILTER_PANEL_STATE",go="app/FleetsDrawer/PIN_DEVICE",vo="app/FleetsDrawer/SELECT_DEVICE_IN_LIST",yo="app/FleetsDrawer/SET_SEARCH_PHRASE",mo="app/FleetsDrawer/TOGGLE_LIVE_ROUTE",_o="app/FleetsDrawer/SET_FLEET_FILTERS",bo="app/FleetsDrawer/FETCH_FLEET_GROUPS_REQUEST",xo="app/FleetsDrawer/FETCH_FLEET_GROUPS_SUCCESSFUL",wo="app/FleetsDrawer/FETCH_FLEET_GROUPS_FAILED",Eo={error:null,fleets:[],groups:[],isFleetPanelOpen:!0,isFilterPanelOpen:!1,isLiveRouteEnabled:!1,selectedDeviceUniqueId:null,pinnedDeviceUniqueId:null,searchPhrase:null,showLoader:!1,filters:{name:null,status:null,groupId:[],speed:null}},Oo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,e=arguments.length>1?arguments[1]:void 0;return Object(to.a)(t,function(t){switch(e.type){case io:t.fleets=[],t.error=e.payload,t.showLoader=!1;break;case ao:t.fleets=[],t.showLoader=!0,t.error=null;break;case so:t.fleets=e.payload,t.showLoader=!1,t.error=null;break;case go:t.pinnedDeviceUniqueId=e.payload;break;case vo:t.selectedDeviceUniqueId!==e.payload&&(t.pinnedDeviceUniqueId=null),t.selectedDeviceUniqueId=e.payload;break;case yo:t.searchPhrase=e.payload||null;break;case co:e.payload.devices?t.fleets=Sn(t.fleets,e.payload.devices,e.server):e.payload.positions&&(t.fleets=(n=t.fleets,r=e.payload.positions,o=e.server,i=n,r.forEach(function(t){var e=rt()(i,["id",t.deviceId]);if(e>-1){var n=i[e];if(n.positions=i[e].positions||[],n.positions.length>0&&n.positions.slice(-1)[0].id===t.id)return;n.speed=vn(t.speed,o.attributes.speedUnit),n.formattedSpeed=yn(t.speed,o.attributes.speedUnit),n.icon=Pn(dn[n.category||"default"],On(n,t),t.course,"arrow"===n.category?"arrow":"background","arrow"===n.category?"arrow":"background"),n.positions.push(wn({uniqueId:n.uniqueId,category:n.category||"default",color:On(n,t),height:n.icon.height,icon:n.icon.source,name:n.name,width:n.icon.width},t)),i[e].positions.length>10&&i[e].positions.shift()}}),i));break;case mo:t.isLiveRouteEnabled=!t.isLiveRouteEnabled;break;case fo:t.isFilterPanelOpen=!t.isFilterPanelOpen;break;case po:t.isFleetPanelOpen=!t.isFleetPanelOpen;break;case _o:t.filters=e.payload;break;case bo:t.groups=[],t.showLoader=!0,t.error=null;break;case xo:t.groups=e.payload,t.showLoader=!1,t.error=null;break;case wo:t.groups=[],t.showLoader=!1,t.error=e.payload;break;case"app/FleetsDrawer/UPDATE_FLEETS":t.fleets=function(t,e,n,r){return"add"===r?t.push(e):"delete"===r?ce()(t,function(t){return t.id===e.id}):Sn(t,[e],n),t}(t.fleets,e.payload,e.server,e.task)}var n,r,o,i})},So=n("6542cd13fd5dd1bcffd4"),Co=.5;function To(){return function(){throw new Error("Unimplemented abstract method.")}()}var Io=0;function Po(t){return t.ol_uid||(t.ol_uid=String(++Io))}var Ro="6.1.1",Mo={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function Fo(t){return Math.pow(t,3)}function Lo(t){return 1-Fo(1-t)}function Do(t){return 3*t*t-2*t*t*t}function ko(t){return t}var Ao=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function jo(t,e){return t>e?1:t<e?-1:0}function No(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var o=void 0;if(n>0){for(o=1;o<r;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<r;++o)if(t[o]<=e)return o}else for(o=1;o<r;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return r-1}function zo(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Go(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,o=0;o<r;o++)t[t.length]=n[o]}function Yo(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wo(){return!0}function Uo(){return!1}function Ho(){}var qo=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Bo="function"===typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(void 0!==i&&null!==i)for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])}return n};function Xo(t){for(var e in t)delete t[e]}var Ko="function"===typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function Vo(t){var e;for(e in t)return!1;return!e}var Zo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$o=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return Zo(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=[],this.listeners_[t]=n),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new qo(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var i=0,a=o.length;i<a;++i)if(!1===o[i].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,Ho);delete this.dispatching_[n]}return r}},e.prototype.disposeInternal=function(){Xo(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(t in this.pendingRemovals_?(n[r]=Ho,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(Ao),Jo={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"},Qo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ti=function(t){function e(e,n,r){var o=t.call(this)||this,i=r||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===i.transition?250:i.transition,o.transitionStarts_={},o}return Qo(e,t),e.prototype.changed=function(){this.dispatchEvent(Jo.CHANGE)},e.prototype.disposeInternal=function(){this.setState(Mo.ABORT)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Mo.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Mo.LOADED){t.interimTile=null;break}t.getState()==Mo.LOADING?e=t:t.getState()==Mo.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Mo.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){To()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:Fo(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}($o);function ei(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function ni(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function ri(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function oi(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function ii(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function ai(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var si=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),li=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.extent=e,i.pixelRatio_=r,i.resolution=n,i.state=o,i}return si(e,t),e.prototype.changed=function(){this.dispatchEvent(Jo.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return To()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){To()},e}($o),ci={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ui(t,e,n,r,o){if(r&&r!==t&&(n=n.bind(r)),o){var i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function hi(t,e,n,r){return ui(t,e,n,r,!0)}function pi(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Xo(t))}var fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("latest"===Ro?Ro:"v"+Ro.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return fi(e,t),e}(Error);function gi(t,e){if(!t)throw new di(e)}var vi={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},yi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function mi(t){for(var e=Ci(),n=0,r=t.length;n<r;++n)Mi(e,t[n]);return e}function _i(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function bi(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function xi(t,e,n){var r,o;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function wi(t,e){return Oi(t,e[0],e[1])}function Ei(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Oi(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Si(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],s=e[1],l=yi.UNKNOWN;return a<n?l|=yi.LEFT:a>o&&(l|=yi.RIGHT),s<r?l|=yi.BELOW:s>i&&(l|=yi.ABOVE),l===yi.UNKNOWN&&(l=yi.INTERSECTING),l}function Ci(){return[1/0,1/0,-1/0,-1/0]}function Ti(t,e,n,r,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=r,o):[t,e,n,r]}function Ii(t){return Ti(1/0,1/0,-1/0,-1/0,t)}function Pi(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ri(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Mi(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Fi(t,e){for(var n=0,r=e.length;n<r;++n)Mi(t,e[n]);return t}function Li(t,e,n,r,o){for(;n<r;n+=o)Di(t,e[n],e[n+1]);return t}function Di(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function ki(t){var e=0;return Xi(t)||(e=qi(t)*Yi(t)),e}function Ai(t){return[t[0],t[1]]}function ji(t){return[t[2],t[1]]}function Ni(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function zi(t,e){var n;return e===vi.BOTTOM_LEFT?n=Ai(t):e===vi.BOTTOM_RIGHT?n=ji(t):e===vi.TOP_LEFT?n=Ui(t):e===vi.TOP_RIGHT?n=Hi(t):gi(!1,13),n}function Gi(t,e,n,r,o){var i=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),l=Math.sin(n),c=i*s,u=i*l,h=a*s,p=a*l,f=t[0],d=t[1],g=f-c+p,v=f-c-p,y=f+c-p,m=f+c+p,_=d-u-h,b=d-u+h,x=d+u+h,w=d+u-h;return Ti(Math.min(g,v,y,m),Math.min(_,b,x,w),Math.max(g,v,y,m),Math.max(_,b,x,w),o)}function Yi(t){return t[3]-t[1]}function Wi(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return Bi(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):Ii(r),r}function Ui(t){return[t[0],t[3]]}function Hi(t){return[t[2],t[3]]}function qi(t){return t[2]-t[0]}function Bi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Xi(t){return t[2]<t[0]||t[3]<t[1]}function Ki(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(r,r,2),function(t,e,n){return Ti(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],n)}var Vi="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Zi=-1!==Vi.indexOf("firefox"),$i=(-1!==Vi.indexOf("safari")&&Vi.indexOf("chrom"),-1!==Vi.indexOf("webkit")&&-1==Vi.indexOf("edge")),Ji=-1!==Vi.indexOf("macintosh"),Qi=window.devicePixelRatio||1,ta="undefined"!==typeof Image&&Image.prototype.decode,ea=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function na(t,e,n){var r=t;if(r.src&&ta){var o=r.decode(),i=!0;return o.then(function(){i&&e()}).catch(function(t){i&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){i=!1}}var a=[hi(r,Jo.LOAD,e),hi(r,Jo.ERROR,n)];return function(){a.forEach(pi)}}!function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,r,ci.IDLE)||this;return s.src_=o,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.state=ci.IDLE,s.imageLoadFunction_=a,s}ea(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ci.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Yi(this.extent)/this.image_.height),this.state=ci.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ci.IDLE&&this.state!=ci.ERROR||(this.state=ci.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=na(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(li);var ra=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function oa(){var t=ei(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var ia=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=r,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=i,s}return ra(e,t),e.prototype.disposeInternal=function(){this.state==Mo.LOADING&&(this.unlistenImage_(),this.image_=oa()),this.interimTile&&this.interimTile.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=Mo.ERROR,this.unlistenImage_(),this.image_=oa(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Mo.LOADED:this.state=Mo.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Mo.ERROR&&(this.state=Mo.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Mo.IDLE&&(this.state=Mo.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=na(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ti),aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sa=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return aa(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(Jo.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return gi(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return gi(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){gi(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}($o);function la(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function ca(t,e,n){return t+"/"+e+"/"+n}function ua(t){return ca(t[0],t[1],t[2])}var ha=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pa=function(t){function e(e){return t.call(this,e)||this}return ha(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(ua(e.tileCoord)),e.dispose())}.bind(this))}},e}(sa);function fa(t,e,n){return Math.min(Math.max(t,e),n)}var da="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function ga(t,e,n,r,o,i){var a=o-n,s=i-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=o,r=i):l>0&&(n+=a*l,r+=s*l)}return va(t,e,n,r)}function va(t,e,n,r){var o=n-t,i=r-e;return o*o+i*i}function ya(t){return t*Math.PI/180}function ma(t,e){var n=t%e;return n*e<0?n+e:n}function _a(t,e,n){return t+n*(e-t)}var ba={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},xa=6371008.8;function wa(t,e,n){var r=n||xa,o=ya(t[1]),i=ya(e[1]),a=(i-o)/2,s=ya(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var Ea={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Oa={};Oa[Ea.DEGREES]=2*Math.PI*6370997/360,Oa[Ea.FEET]=.3048,Oa[Ea.METERS]=1,Oa[Ea.USFEET]=1200/3937;var Sa=Ea,Ca=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Oa[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ia=6378137,Pa=Math.PI*Ia,Ra=[-Pa,-Pa,Pa,Pa],Ma=[-180,-85,180,85],Fa=function(t){function e(e){return t.call(this,{code:e,units:Sa.METERS,extent:Ra,global:!0,worldExtent:Ma,getPointResolution:function(t,e){return t/da(e[1]/Ia)}})||this}return Ta(e,t),e}(Ca),La=[new Fa("EPSG:3857"),new Fa("EPSG:102100"),new Fa("EPSG:102113"),new Fa("EPSG:900913"),new Fa("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Fa("urn:ogc:def:crs:EPSG::3857"),new Fa("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Da(t,e,n){var r=t.length,o=n>1?n:2,i=e;void 0===i&&(i=o>2?t.slice():new Array(r));for(var a=Pa,s=0;s<r;s+=o){i[s]=a*t[s]/180;var l=Ia*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),i[s+1]=l}return i}function ka(t,e,n){var r=t.length,o=n>1?n:2,i=e;void 0===i&&(i=o>2?t.slice():new Array(r));for(var a=0;a<r;a+=o)i[a]=180*t[a]/Pa,i[a+1]=360*Math.atan(Math.exp(t[a+1]/Ia))/Math.PI-90;return i}var Aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ja=[-180,-90,180,90],Na=6378137*Math.PI/180,za=function(t){function e(e,n){return t.call(this,{code:e,units:Sa.DEGREES,extent:ja,axisOrientation:n,global:!0,metersPerUnit:Na,worldExtent:ja})||this}return Aa(e,t),e}(Ca),Ga=[new za("CRS:84"),new za("EPSG:4326","neu"),new za("urn:ogc:def:crs:EPSG::4326","neu"),new za("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new za("urn:ogc:def:crs:OGC:1.3:CRS84"),new za("urn:ogc:def:crs:OGC:2:84"),new za("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new za("urn:x-ogc:def:crs:EPSG:4326","neu")],Ya={};function Wa(t,e,n){var r=t.getCode(),o=e.getCode();r in Ya||(Ya[r]={}),Ya[r][o]=n}var Ua={};function Ha(t,e,n){var r;if(void 0!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];r=e}else r=t.slice();return r}function qa(t,e,n){if(void 0!==e&&t!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];t=e}return t}function Ba(t){!function(t,e){Ua[t]=e}(t.getCode(),t),Wa(t,t,Ha)}function Xa(t){return"string"===typeof t?Ua[t]||null:t||null}function Ka(t,e,n,r){var o,i=(t=Xa(t)).getPointResolutionFunc();if(i)o=i(e,n),r&&r!==t.getUnits()&&(a=t.getMetersPerUnit())&&(o=o*a/Oa[r]);else if(t.getUnits()==Sa.DEGREES&&!r||r==Sa.DEGREES)o=e;else{var a,s=Qa(t,Xa("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(wa((l=s(l,l,2)).slice(0,2),l.slice(2,4))+wa(l.slice(4,6),l.slice(6,8)))/2,void 0!==(a=r?Oa[r]:t.getMetersPerUnit())&&(o/=a)}return o}function Va(t){!function(t){t.forEach(Ba)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Wa(e,t,Ha)})})}function Za(t,e){return t?"string"===typeof t?Xa(t):t:Xa(e)}function $a(t,e){return es(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Ja(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Qa(t,e)===Ha&&n}function Qa(t,e){var n=function(t,e){var n;return t in Ya&&e in Ya[t]&&(n=Ya[t][e]),n}(t.getCode(),e.getCode());return n||(n=qa),n}function ts(t,e){return Qa(Xa(t),Xa(e))}function es(t,e,n){return ts(e,n)(t,void 0,t.length)}function ns(t,e,n){return Ki(t,ts(e,n))}var rs,os,is,as=null;function ss(){return as}function ls(t,e){return as?es(t,e,as):t}function cs(t,e){return as?es(t,as,e):t}function us(t,e){return as?ns(t,e,as):t}function hs(t,e){return as?ns(t,as,e):t}function ps(t,e,n,r){var o=n-t,i=r-e,a=Math.sqrt(o*o+i*i);return[Math.round(n+o/a),Math.round(r+i/a)]}function fs(t,e,n,r,o,i,a,s,l,c,u){var h=ei(Math.round(n*t),Math.round(n*e));if(0===l.length)return h.canvas;h.scale(n,n);var p=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){Ri(p,t.extent)});var f=qi(p),d=Yi(p),g=ei(Math.round(n*f/r),Math.round(n*d/r)),v=n/r;l.forEach(function(t,e,n){var r=t.extent[0]-p[0],o=-(t.extent[3]-p[3]),i=qi(t.extent),a=Yi(t.extent);g.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,r*v,o*v,i*v,a*v)});var y=Ui(a);return s.getTriangles().forEach(function(t,e,o){var a=t.source,s=t.target,l=a[0][0],c=a[0][1],u=a[1][0],f=a[1][1],d=a[2][0],v=a[2][1],m=(s[0][0]-y[0])/i,_=-(s[0][1]-y[1])/i,b=(s[1][0]-y[0])/i,x=-(s[1][1]-y[1])/i,w=(s[2][0]-y[0])/i,E=-(s[2][1]-y[1])/i,O=l,S=c;l=0,c=0;var C=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,o=Math.abs(t[n][n]),i=n+1;i<e;i++){var a=Math.abs(t[i][n]);a>o&&(o=a,r=i)}if(0===o)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=c*t[n][u]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}([[u-=O,f-=S,0,0,b-m],[d-=O,v-=S,0,0,w-m],[0,0,u,f,x-_],[0,0,d,v,E-_]]);if(C){h.save(),h.beginPath();var T=(m+b+w)/3,I=(_+x+E)/3,P=ps(T,I,m,_),R=ps(T,I,b,x),M=ps(T,I,w,E);h.moveTo(R[0],R[1]),h.lineTo(P[0],P[1]),h.lineTo(M[0],M[1]),h.clip(),h.transform(C[0],C[2],C[1],C[3],m,_),h.translate(p[0]-O,p[3]-S),h.scale(r/n,-r/n),h.drawImage(g.canvas,0,0),h.restore()}}),u&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var r=t.target,o=(r[0][0]-y[0])/i,a=-(r[0][1]-y[1])/i,s=(r[1][0]-y[0])/i,l=-(r[1][1]-y[1])/i,c=(r[2][0]-y[0])/i,u=-(r[2][1]-y[1])/i;h.beginPath(),h.moveTo(s,l),h.lineTo(o,a),h.lineTo(c,u),h.closePath(),h.stroke()}),h.restore()),h.canvas}Va(La),Va(Ga),rs=La,os=Da,is=ka,Ga.forEach(function(t){rs.forEach(function(e){Wa(t,e,os),Wa(e,t,is)})});var ds=10,gs=function(){function t(t,e,n,r,o){this.sourceProj_=t,this.targetProj_=e;var i={},a=ts(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return i[e]||(i[e]=a(t)),i[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&qi(r)==qi(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?qi(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?qi(this.targetProj_.getExtent()):null;var s=Ui(n),l=Hi(n),c=ji(n),u=Ai(n),h=this.transformInv_(s),p=this.transformInv_(l),f=this.transformInv_(c),d=this.transformInv_(u);if(this.addQuad_(s,l,c,u,h,p,f,d,ds),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}i={}}return t.prototype.addTriangle_=function(t,e,n,r,o,i){this.triangles_.push({source:[r,o,i],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,o,i,a,s,l){var c=mi([o,i,a,s]),u=this.sourceWorldWidth_?qi(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&u>.5&&u<1,f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)f=qi(mi([t,e,n,r]))/this.targetWorldWidth_>.25||f;!p&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(f||!this.maxSourceExtent_||Bi(c,this.maxSourceExtent_)){if(!f&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(i[0])||!isFinite(i[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1]))){if(!(l>0))return;f=!0}if(l>0){if(!f){var d=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(d),v=void 0;if(p)v=(ma(o[0],h)+ma(a[0],h))/2-ma(g[0],h);else v=(o[0]+a[0])/2-g[0];var y=(o[1]+a[1])/2-g[1];f=v*v+y*y>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(m),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],x=this.transformInv_(b);this.addQuad_(t,e,m,b,o,i,_,x,l-1),this.addQuad_(b,m,n,r,x,_,a,s,l-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(w),O=[(n[0]+r[0])/2,(n[1]+r[1])/2],S=this.transformInv_(O);this.addQuad_(t,w,O,r,o,E,S,s,l-1),this.addQuad_(w,e,n,O,E,i,a,S,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,o,a,s),this.addTriangle_(t,e,n,o,i,a)}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,r){var o=e.source;Mi(t,o[0]),Mi(t,o[1]),Mi(t,o[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),vs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ys=function(t){function e(e,n,r,o,i,a,s,l,c,u,h){var p=t.call(this,i,Mo.IDLE)||this;p.renderEdges_=void 0!==h&&h,p.pixelRatio_=s,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=o,p.wrappedTileCoord_=a||i,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=o.getTileCoordExtent(p.wrappedTileCoord_),d=p.targetTileGrid_.getExtent(),g=p.sourceTileGrid_.getExtent(),v=d?Wi(f,d):f;if(0===ki(v))return p.state=Mo.EMPTY,p;var y=e.getExtent();y&&(g=g?Wi(g,y):y);var m=o.getResolution(p.wrappedTileCoord_[0]),_=function(t,e,n,r){var o=es(n,e,t),i=Ka(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(i*=a);var s=t.getMetersPerUnit();void 0!==s&&(i/=s);var l=t.getExtent();if(!l||wi(l,o)){var c=Ka(t,i,o)/i;isFinite(c)&&c>0&&(i/=c)}return i}(e,r,Ni(v),m);if(!isFinite(_)||_<=0)return p.state=Mo.EMPTY,p;var b=void 0!==u?u:Co;if(p.triangulation_=new gs(e,r,v,g,_*b),0===p.triangulation_.getTriangles().length)return p.state=Mo.EMPTY,p;p.sourceZ_=n.getZForResolution(_);var x=p.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(x[1]=fa(x[1],g[1],g[3]),x[3]=fa(x[3],g[1],g[3])):x=Wi(x,g)),ki(x)){for(var w=n.getTileRangeForExtentAndZ(x,p.sourceZ_),E=w.minX;E<=w.maxX;E++)for(var O=w.minY;O<=w.maxY;O++){var S=c(p.sourceZ_,E,O,s);S&&p.sourceTiles_.push(S)}0===p.sourceTiles_.length&&(p.state=Mo.EMPTY)}else p.state=Mo.EMPTY;return p}return vs(e,t),e.prototype.disposeInternal=function(){this.state==Mo.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==Mo.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=Mo.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"===typeof n?n:n[0],o="number"===typeof n?n:n[1],i=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fs(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),i,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=Mo.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Mo.IDLE){this.state=Mo.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var o=e.getState();if(o==Mo.IDLE||o==Mo.LOADING){t++;var i=ui(e,Jo.CHANGE,function(n){var r=e.getState();r!=Mo.LOADED&&r!=Mo.ERROR&&r!=Mo.EMPTY||(pi(i),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==Mo.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(pi),this.sourcesListenerKeys_=null},e}(ti);function ms(t,e){var n=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(o,a[2].toString()).replace(i,function(){var t=a[0],n=e.getFullTileRange(t);return gi(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function _s(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=ms(t[o],e);return function(t){if(1===t.length)return t[0];return function(e,n,r){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),i=ma(o,t.length);return t[i](e,n,r)}}}(r)}function bs(t,e,n){}function xs(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var ws="propertychange",Es=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Os=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return Es(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Jo.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=ui(this,t[o],e);return r}return ui(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=hi(this,t[o],e);return r}return hi(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}($o),Ss=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cs=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.key=n,o.oldValue=r,o}return Ss(e,t),e}(qo),Ts=function(t){function e(e){var n=t.call(this)||this;return Po(n),n.values_={},void 0!==e&&n.setProperties(e),n}return Ss(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Bo({},this.values_)},e.prototype.notify=function(t,e){var n;n=Ps(t),this.dispatchEvent(new Cs(n,t,e)),n=ws,this.dispatchEvent(new Cs(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(Os),Is={};function Ps(t){return Is.hasOwnProperty(t)?Is[t]:Is[t]="change:"+t}var Rs=Ts,Ms={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ls(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var Ds=function(t){function e(e){var n=t.call(this)||this;return n.projection_=Xa(e.projection),n.attributions_=Ls(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Ms.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Fs(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return To()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Ls(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Rs),ks=42,As=256,js=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Ns(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new js(t,e,n,r)}var zs=js,Gs=[0,0,0],Ys=function(){function t(t){var e,n,r,o;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,gi((e=this.resolutions_,n=!0,r=function(t,e){return e-t}||jo,e.every(function(t,o){if(0===o)return!0;var i=r(e[o-1],t);return!(i>0||n&&0===i)})),17),!t.origins)for(var i=0,a=this.resolutions_.length-1;i<a;++i)if(o){if(this.resolutions_[i]/this.resolutions_[i+1]!==o){o=void 0;break}}else o=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=o,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,gi(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=Ui(s)),gi(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,gi(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:As,gi(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new zs(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,i=r.maxX;o<=i;++o)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var o,i,a=null,s=t[0]-1;for(2===this.zoomFactor_?(o=t[1],i=t[2]):a=this.getTileCoordExtent(t,r);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Ns(o=Math.floor(o/2),o,i=Math.floor(i/2),i,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return Ns(r,r+1,o,o+1,e)}var i=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),o=this.getResolution(t),i=xs(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*i[0]*o,s=r[0]+(e.maxX+1)*i[0]*o;return Ti(a,r[1]+e.minY*i[1]*o,s,r[1]+(e.maxY+1)*i[1]*o,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=Gs;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var o=r[1],i=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Ns(o,r[1],i,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=xs(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=xs(this.getTileSize(t[0]),this.tmpSize_),i=n[0]+t[1]*o[0]*r,a=n[1]-(t[2]+1)*o[1]*r;return Ti(i,a,i+o[0]*r,a+o[1]*r,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,o){var i=this.getZForResolution(n),a=n/this.getResolution(i),s=this.getOrigin(i),l=xs(this.getTileSize(i),this.tmpSize_),c=r?.5:0,u=r?.5:0,h=Math.floor((t-s[0])/n+c),p=Math.floor((s[1]-e)/n+u),f=a*h/l[0],d=a*p/l[1];return r?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),la(i,f,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,o){var i=this.getOrigin(n),a=this.getResolution(n),s=xs(this.getTileSize(n),this.tmpSize_),l=r?.5:0,c=r?.5:0,u=Math.floor((t-i[0])/a+l),h=Math.floor((i[1]-e)/a+c),p=u/s[0],f=h/s[1];return r?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),la(n,p,f,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){return fa(No(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();function Ws(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var o=void 0!==r?r:vi.TOP_LEFT,i=Us(t,e,n);return new Ys({extent:t,origin:zi(t,o),resolutions:i,tileSize:n})}(Hs(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function Us(t,e,n){for(var r=void 0!==e?e:ks,o=Yi(t),i=qi(t),a=xs(void 0!==n?n:As),s=Math.max(i/a[0],o/a[1]),l=r+1,c=new Array(l),u=0;u<l;++u)c[u]=s/Math.pow(2,u);return c}function Hs(t){var e=(t=Xa(t)).getExtent();if(!e){var n=180*Oa[Sa.DEGREES]/t.getMetersPerUnit();e=Ti(-n,-n,n,n)}return e}var qs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bs=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.cacheSize;if(void 0===r){var o=[256,256],i=e.tileGrid;i&&xs(i.getTileSize(i.getMinZoom()),o);var a="undefined"!==typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;r=4*Math.ceil(s/o[0])*Math.ceil(l/o[1])}return n.tileCache=new pa(r),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return qs(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var i,a,s,l=!0,c=n.minX;c<=n.maxX;++c)for(var u=n.minY;u<=n.maxY;++u)a=ca(e,c,u),s=!1,o.containsKey(a)&&(s=(i=o.get(a)).getState()===Mo.LOADED)&&(s=!1!==r(i)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,o){return To()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Ws(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Ja(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,o,i,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=xs(a.getTileSize(t),this.tmpSize);return 1==s?l:(r=l,o=s,void 0===(i=this.tmpSize)&&(i=[0,0]),i[0]=r[0]*o+.5|0,i[1]=r[1]*o+.5|0,i)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],o=t.getTileCoordCenter(e),i=Hs(n);if(wi(i,o))return e;var a=qi(i),s=Math.ceil((i[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var i,a=e.getExtent();return!(i=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||i.containsXY(r,o)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,r){},e}(Ds),Xs=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return qs(e,t),e}(qo),Ks=Bs,Vs="tileloadstart",Zs="tileloadend",$s="tileloaderror",Js=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qs=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):bs,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return Js(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=Po(n),o=n.getState();o==Mo.LOADING?(this.tileLoadingKeys_[r]=!0,e=Vs):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=o==Mo.ERROR?$s:o==Mo.LOADED||o==Mo.ABORT?Zs:void 0),void 0!=e&&this.dispatchEvent(new Xs(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),o=n[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(_s(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var r=ca(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(Ks),tl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function el(t,e){t.getImage().src=e}var nl=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:el,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:ia,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return tl(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[r];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ja(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ja(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ja(e,t)){var n=Po(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Ws(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ja(e,t))return this.tileCache;var n=Po(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new pa(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,o,i){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,o),l=s?this.tileUrlFunction(s,r,o):void 0,c=new this.tileClass(a,void 0!==l?Mo.IDLE:Mo.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=i,c.addEventListener(Jo.CHANGE,this.handleTileChange.bind(this)),c},e.prototype.getTile=function(t,e,n,r,o){var i=this.getProjection();if(i&&o&&!Ja(i,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],l=void 0,c=ua(s);a.containsKey(c)&&(l=a.get(c));var u=this.getKey();if(l&&l.key==u)return l;var h=this.getTileGridForProjection(i),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(s,o),d=new ys(i,h,o,p,s,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,i)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,r,i||o)},e.prototype.getTileInternal=function(t,e,n,r,o){var i=null,a=ca(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((i=this.tileCache.get(a)).key!=s){var l=i;i=this.createTile_(t,e,n,r,o,s),l.getState()==Mo.IDLE?i.interimTile=l.interimTile:i.interimTile=l,i.refreshInterimChain(),this.tileCache.replace(a,i)}}else i=this.createTile_(t,e,n,r,o,s),this.tileCache.set(a,i);return i},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Xa(t);if(n){var r=Po(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(Qs),rl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ol=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Xa("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Us(n,e.maxZoom,e.tileSize)};return new Ys(r)}({extent:Hs(r),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return rl(e,t),e}(nl),il=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),al='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',sl=function(t){function e(e){var n,r=e||{};n=void 0!==r.attributions?r.attributions:[al];var o=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",i=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:r.cacheSize,crossOrigin:o,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:i,wrapX:r.wrapX,attributionsCollapsible:!1})||this}return il(e,t),e}(ol);function ll(t){return{type:io,payload:t}}function cl(t){return{type:go,payload:t}}function ul(t){return{type:vo,payload:t}}function hl(t){return{type:lo,payload:t}}function pl(){return{type:uo}}function fl(t,e){return{type:co,payload:t,server:e}}function dl(t){return{type:wo,payload:t}}var gl=function(t,e,n){return{type:"app/FleetsDrawer/UPDATE_FLEETS",payload:t,server:e,task:n}},vl="app/FleetHistory/FETCH_ROUTE_HISTORY",yl="app/FleetHistory/FETCH_ROUTE_HISTORY_FAILED",ml="app/FleetHistory/FETCH_ROUTE_HISTORY_SUCCESSFUL",_l="appSTARTSTARTSTART/FleetHistory/SET_END_DATETIME",bl="app/FleetHistory/SET_LOADER",xl="app/FleetHistory/SET_SHOW_MARKERS",wl="app/FleetHistory/SET_START_DATETIME",El="app/FleetHistory/SET_SELECTED_POSITION",Ol="app/FleetHistory/SET_SHOW_SPEED_LABELS",Sl="app/FleetHistory/SET_SORTED_PROPERTY";function Cl(t){return{type:yl,payload:t}}function Tl(t,e){return{type:ml,payload:t,selectedDevice:e}}function Il(t){return{type:El,payload:t}}function Pl(t){return{type:xl,payload:t}}function Rl(t){return{type:Ol,payload:t}}var Ml,Fl=function(t,e,n){var r=e.forEachFeatureAtPixel(n.pixel,function(t){return t});if(r)switch(r.get("type")){case"device":return function(){return t(ul(r.get("id")))};case"position":return function(){return t(Il({id:r.get("id")}))};default:return function(){return t(ul(null))}}return function(){t(ul(null)),t(Il(null))}},Ll=function(t){var e=ns(t.getView().calculateExtent(t.getSize()),"EPSG:3857","EPSG:4326");return{br:e[0],tr:e[1],tl:e[2],bl:e[3]}},Dl={zoom:12,viewport:{br:0,tr:0,tl:0,bl:0},scale:1},kl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,e=arguments.length>1?arguments[1]:void 0;return Object(to.a)(t,function(t){switch(e.type){case"app/MapContainer/SET_MAP_ZOOM":t.zoom=e.zoom,t.scale=(n=e.zoom)>=6&&n<=14?20-2*Math.floor(n-6):n<=6?20:1;break;case"app/MapContainer/SET_MAP_CLUSTERING_SCALE":t.scale=e.scale;break;case"app/MapContainer/SET_VIEWPORT":t.viewport=e.viewport}var n})},Al=function(t){return t.map||Dl},jl=function(){return Object(et.a)(Al,function(t){return t.viewport})},Nl=Al,zl=function(t){return t.fleetsDrawer||Eo},Gl=function(){return Object(et.a)(zl,function(t){return function(t,e){var n=t;return ge()(e,function(t,e){if(!q()(t))if("asc"===t.value||"desc"===t.value)n=fe()(ye()(n,function(t){return void 0!==t[e]}),e,t.value);else if(he()(t)){var r=[];ge()(t,function(t){r=[].concat(_n(r),_n(ye()(n,function(n){return n[e]===t.value})))}),n=r}else n=ye()(n,function(n){return t.value===n[e]})}),n}((e=t.fleets,(n=t.searchPhrase)?ye()(e,function(t){return t.name.toLowerCase().indexOf(n.toLowerCase())>-1||t.uniqueId.toString().indexOf(n)>-1}):e),t.filters);var e,n})},Yl=function(){return Object(et.a)(zl,function(t){return t.pinnedDeviceUniqueId})},Wl=function(){return Object(et.a)(zl,function(t){return t.selectedDeviceUniqueId})},Ul=function(){return Object(et.a)(Gl(),Wl(),function(t,e){return Rn(t,e)})},Hl=function(){return Object(et.a)(zl,function(t){return t.groups})},ql=n("124b48bac274890c1fae"),Bl=n("2cb3248ea08cdbff4a37"),Xl=n("f363639bc5c3c97af546"),Kl={success:"success",error:"error",info:"info",warning:"warning"},Vl=function(t){return{type:"app/AlertContainer/SET_MESSAGES",payload:t}},Zl=function(t){return{type:"app/AlertContainer/OPEN_ALERT",payload:t}},$l=regeneratorRuntime.mark(nc),Jl=regeneratorRuntime.mark(rc),Ql=regeneratorRuntime.mark(oc),tc=regeneratorRuntime.mark(ic),ec=regeneratorRuntime.mark(ac);function nc(t){var e,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.payload,r.prev=1,r.next=4,Object(ql.b)(Xl.b,"".concat(Bl.a.API_URL,"/devices/?id=").concat(e));case 4:return n=r.sent,r.next=7,Object(ql.c)(Yr(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(ql.c)(Wr(r.t0));case 13:case"end":return r.stop()}},$l,null,[[1,9]])}function rc(t){var e,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.payload,o.prev=1,o.next=4,Object(ql.b)(Xl.c,"".concat(Bl.a.API_URL,"/devices/"),e);case 4:return n=o.sent,o.next=7,Object(ql.c)(Hr(n));case 7:return o.next=9,Object(ql.e)(So.e);case 9:return r=o.sent,o.next=12,Object(ql.c)(gl(n,r.server,"add"));case 12:return o.next=14,Object(ql.c)(Zl(Kl.success));case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(1),o.next=20,Object(ql.c)(Zl(Kl.error));case 20:return o.next=22,Object(ql.c)(qr(o.t0));case 22:case"end":return o.stop()}},Jl,null,[[1,16]])}function oc(t){var e,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.payload,o.prev=1,o.next=4,Object(ql.b)(Xl.d,"".concat(Bl.a.API_URL,"/devices/").concat(e.id),e);case 4:return n=o.sent,o.next=7,Object(ql.c)(Xr(n));case 7:return o.next=9,Object(ql.e)(So.e);case 9:return r=o.sent,o.next=12,Object(ql.c)(gl(n,r.server));case 12:return o.next=14,Object(ql.c)(Zl(Kl.success));case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(1),o.next=20,Object(ql.c)(Kl.error);case 20:return o.next=22,Object(ql.c)(Kr(o.t0));case 22:case"end":return o.stop()}},Ql,null,[[1,16]])}function ic(t){var e,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.payload,o.prev=1,o.next=4,Object(ql.b)(Xl.a,"".concat(Bl.a.API_URL,"/devices/").concat(e.id),e);case 4:return n=o.sent,o.next=7,Object(ql.c)(Zr(n));case 7:return o.next=9,Object(ql.e)(So.e);case 9:return r=o.sent,o.next=12,Object(ql.c)(gl(e,r.server,"delete"));case 12:return o.next=14,Object(ql.c)(Zl(Kl.success));case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(1),o.next=20,Object(ql.c)(Kl.error);case 20:return o.next=22,Object(ql.c)($r(o.t0));case 22:case"end":return o.stop()}},tc,null,[[1,16]])}function ac(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ql.a)([Object(ql.g)(Ar,nc),Object(ql.g)(jr,rc),Object(ql.g)(Nr,oc),Object(ql.g)(zr,ic)]);case 2:case"end":return t.stop()}},ec)}function sc(t,e,n,r){Ml||(Ml="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Ml,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var lc=Object(et.b)({selectedDevice:Ul(),showLoader:Object(et.a)(ro,function(t){return t.showLoader}),groups:Hl()});var cc,uc=Object(u.c)(lc,function(t){return{getFleet:function(e){return t(Gr(e))},addFleet:function(e){return t(Ur(e))},editFleet:function(e){return t(Br(e))},deleteFleet:function(e){return t(Vr(e))},setMessages:function(e){return t(Vl(e))}}}),hc=Object(h.d)(uc)(function(t){var e=t.open,n=t.onClose,r=t.task,o=t.selectedDevice,a=t.showLoader,s=t.groups,l=t.getFleet,c=t.addFleet,u=t.editFleet,h=t.deleteFleet,p=t.setMessages,f=function(t,e){return i.a.createElement(i.a.Fragment,null,sc("span",{style:{marginLeft:"5px"}},void 0,t),sc("span",{},void 0,e))};return Object(Vt.a)({key:"fleet",reducer:no}),Object(Kt.a)({key:"fleet",saga:ac}),e&&r&&sc(kr,{open:e,onClose:n,action:function(t){switch(r){case"add":c(t),p({success:f(t.name,i.a.createElement(M.FormattedMessage,oo.addFleetSuccessful)),error:f(i.a.createElement(M.FormattedMessage,oo.addFleetFailed))});break;case"edit":u(t),p({success:f(t.name,i.a.createElement(M.FormattedMessage,oo.editFleetSuccessful)),error:f(i.a.createElement(M.FormattedMessage,oo.editFleetFailed))});break;case"delete":h(t),p({success:f(t.name,i.a.createElement(M.FormattedMessage,oo.deleteFleetSuccessful)),error:f(i.a.createElement(M.FormattedMessage,oo.deleteFleetFailed))})}},task:r,fleet:o,showLoader:a,groups:s,getFleet:l})}),pc=Object(M.defineMessages)({battery:{id:"".concat("app.components.FleetList",".battery"),defaultMessage:"Battery"},course:{id:"".concat("app.components.FleetList",".course"),defaultMessage:"Point"},deviceTime:{id:"".concat("app.components.FleetList",".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat("app.components.FleetList",".distance"),defaultMessage:"Distance"},ignition:{id:"".concat("app.components.FleetList",".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat("app.components.FleetList",".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat("app.components.FleetList",".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat("app.components.FleetList",".motion"),defaultMessage:"Motion"},no:{id:"".concat("app.components.FleetList",".no"),defaultMessage:"No"},operator:{id:"".concat("app.components.FleetList",".operator"),defaultMessage:"Operator"},outdated:{id:"".concat("app.components.FleetList",".outdated"),defaultMessage:"Outedated"},power:{id:"".concat("app.components.FleetList",".power"),defaultMessage:"Power"},protocol:{id:"".concat("app.components.FleetList",".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat("app.components.FleetList",".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat("app.components.FleetList",".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat("app.components.FleetList",".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat("app.components.FleetList",".valid"),defaultMessage:"Valid"},yes:{id:"".concat("app.components.FleetList",".yes"),defaultMessage:"Yes"},details:{id:"".concat("app.components.FleetList",".details"),defaultMessage:"Details"},edit:{id:"".concat("app.components.FleetList",".edit"),defaultMessage:"Edit"},delete:{id:"".concat("app.components.FleetList",".delete"),defaultMessage:"Delete"}}),fc=n("3f3a0914a8688311fc1b"),dc=n.n(fc),gc=n("f2a0a9b443783f48e935"),vc=n.n(gc),yc={43211:"MCI",43235:"Irancell",43220:"RighTel",43221:"RighTel"},mc={deviceTime:{format:function(t){return Ct()(t).format("HH:mm:ss jYYYY-jMM-jDD")}},valid:{format:bc},outdated:{format:bc},sat:{format:function(t){return t}},latitude:{format:function(t){return t}},longitude:{format:function(t){return t}},course:{format:function(t){var e=t;if(e<=0||e>360||"undefined"===typeof e)return"\u2608";var n={north:"\u2191 N",north_east:"\u2197 NE",east:"\u2192 E",south_east:"\u2198 SE",south:"\u2193 S",south_west:"\u2199 SW",west:"\u2190 W",north_west:"\u2196 NW"},r=Object.keys(n),o=360/r.length;e+=o/2;for(var i=0;i<r.length;i+=1)if(e>=i*o&&e<(i+1)*o)return n[r[i]];return n.north}},ignition:{format:bc},motion:{format:bc},power:{format:function(t){return t.toFixed(2)}},battery:{format:function(t){return t.toFixed(2)}},operator:{format:function(t){return yc[t]||t}},rssi:{format:function(t){return t}},distance:{format:function(t){return t}},totalDistance:{format:function(t){return t}},protocol:{format:function(t){return t}}};function _c(t){var e={};return ge()(mc,function(n,r){(void 0!==t[r]&&!vc()(t[r])||void 0!==t.attributes[r]&&!vc()(t.attributes[r]))&&(e[r]=n.format(t[r]||t.attributes[r]))}),dc()(e,t.attributes,function(t,e){return t||e})}function bc(t){return i.a.createElement(M.FormattedMessage,pc[t?"yes":"no"])}function xc(t,e,n,r){cc||(cc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:cc,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function wc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Ec(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Sc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cc,Tc={offline:"red",online:"green",unknown:"orange",ignitionOn:"orange"},Ic=Object(s.a)(function(t){return{enginIcon:{color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?Tc.ignitionOn:"inherit"}},fleetName:{fontSize:"0.8rem",fontWeight:"bold"},lastUpdate:{fontSize:"0.6rem",fontWeight:"bold",color:"rgba(0, 0, 0, 0.54)",margin:"-4px 0 0 0"},title:{whiteSpace:"nowrap"},icon:{textAlign:"center",display:"flex",justifyContent:"center"},speed:{textAlign:"center",fontSize:"0.7rem",color:function(t){return"online"===t.status&&t.positions&&t.positions.slice(-1)[0].attributes.ignition?"inherit":"lightgray"},direction:"rtl"},status:{color:function(t){return Tc[t.status]},fontSize:"small"},centerFocus:{color:function(t){return t.isPinned?"inherit":"lightgray"}},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130},buttonGroup:{marginTop:10}}}),Pc=Object(B.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(jt.a),Rc=xc(qt.a,{}),Mc=xc(Pt.a,{}),Fc=xc(Mt.a,{}),Lc=xc(Lt.a,{}),Dc=xc(zt.a,{}),kc=i.a.memo(function(t){var e=t.user,n=t.fleet,r=t.isExpandedInfo,a=t.isPinned,s=t.onExpandInfo,l=t.onPin,c=Ic(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oc(Object(n),!0).forEach(function(e){Sc(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({isPinned:a},n)),u=wc(Object(o.useState)(!1),2),h=u[0],p=u[1],f=wc(Object(o.useState)(null),2),d=f[0],g=f[1],v=wc(Object(o.useState)(!1),2),y=v[0],m=v[1],_=wc(Object(o.useState)(null),2),b=_[0],x=_[1];Object(o.useEffect)(function(){return p(r)},[r]);var E=function(){return g(null)},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;x(t),m(!y),E()};return i.a.createElement(i.a.Fragment,null,xc(Dt.a,{alignItems:"center",container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,xc(Dt.a,{className:c.icon,item:!0,xs:1},void 0,xc(w.a,{size:"small",onClick:function(t){return g(t.currentTarget)}},void 0,Rc),xc(Bt.a,{id:"long-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:E},void 0,e.readonly?xc(Xt.a,{onClick:function(){return O("details")}},void 0,Mc,i.a.createElement(M.FormattedMessage,pc.details)):[xc(Xt.a,{onClick:function(){return O("edit")}},"edit",Fc,i.a.createElement(M.FormattedMessage,pc.edit)),xc(Xt.a,{onClick:function(){return O("delete")}},"delete",Lc,i.a.createElement(M.FormattedMessage,pc.delete))])),xc(Dt.a,{className:c.title,item:!0,xs:7},void 0,xc(Z.a,{className:c.fleetName,noWrap:!0},void 0,n.name),xc("p",{className:c.lastUpdate},void 0,Ct()(n.lastUpdate).fromNow())),xc(Dt.a,{className:c.speed,item:!0,xs:2},void 0,n.formattedSpeed||"-"),xc(Dt.a,{className:c.icon,item:!0,xs:1},void 0,xc("span",{className:"icon ico-engin ".concat(c.enginIcon)})),xc(Dt.a,{className:c.icon,item:!0,xs:1},void 0,xc(Ut.a,{className:c.status})),xc(Dt.a,{className:c.icon,item:!0,xs:1},void 0,xc(w.a,{onClick:function(){return l(a?null:n.uniqueId)},size:"small","aria-label":"Pin"},void 0,xc(Yt.a,{className:c.centerFocus}))),xc(Dt.a,{className:c.icon,item:!0,xs:1},void 0,xc(w.a,{className:Object(Ot.a)(c.expand,Sc({},c.expandOpen,h)),onClick:function(){s&&s(!h),p(!h)},size:"small","aria-expanded":h,"aria-label":"show more"},void 0,Dc))),n.positions&&n.positions.length&&xc(Tt.a,{in:h,timeout:"auto",unmountOnExit:!0},void 0,h&&xc(kt.a,{cellHeight:40,className:c.gridList,cols:2},void 0,Et()(_c(n.positions.slice(-1)[0]),function(t,e){return xc(At.a,{cols:1},e,xc(Pc,{title:pc[e]?i.a.createElement(M.FormattedMessage,pc[e]):e,subtitle:t||"--"}))}))),xc(hc,{open:y,onClose:O,task:b}))});function Ac(t){return(Ac="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jc(t,e,n,r){Cc||(Cc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Cc,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Nc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nc(Object(n),!0).forEach(function(e){qc(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yc(t,e){return(Yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wc(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Hc(t);if(e){var o=Hc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ac(e)||"function"===typeof e))return e;return Uc(t)}(this,n)}}function Uc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hc(t){return(Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bc=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yc(t,e)}(a,i.a.Component);var e,n,r,o=Wc(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),qc(Uc(e=o.call(this,t)),"handleExpantionInfo",function(t){e.onExpandInfo(t?e.index:null)}),qc(Uc(e),"selectDevice",function(){return e.onClick(e.fleet.uniqueId)}),e.user=e.props.data.user,e.fleet=e.props.data.fleets[e.props.index],e.index=e.props.index,e.onClick=e.props.data.onClick,e.onExpandInfo=e.props.data.onExpandInfo,e.onPin=e.props.data.onPin,e.isSelected=e.props.data.selectedDevice===e.fleet.uniqueId,e.isPinned=e.fleet.uniqueId===e.props.data.pinnedDevice,e}return e=a,(n=[{key:"componentDidUpdate",value:function(){this.user=this.props.data.user,this.fleet=this.props.data.fleets[this.props.index],this.index=this.props.index,this.onClick=this.props.data.onClick,this.onExpandInfo=this.props.data.onExpandInfo,this.onPin=this.props.data.onPin,this.isSelected=this.props.data.selectedDevice===this.fleet.uniqueId,this.isPinned=this.fleet.uniqueId===this.props.data.pinnedDevice,this.props.data.expandedInfoIndex!==this.props.index?this.isExpandedInfo=!1:this.isExpandedInfo=!0}},{key:"render",value:function(){return jc("div",{onClick:this.selectDevice,style:zc(zc({},this.styles.row),this.props.style),role:"button",tabIndex:this.index,onKeyPress:this.selectDevice},void 0,jc(kc,{user:this.props.data.user,fleet:this.props.data.fleets[this.props.index],isExpandedInfo:this.isExpandedInfo,isPinned:this.fleet.uniqueId===this.props.data.pinnedDevice,onExpandInfo:this.handleExpantionInfo,onPin:this.onPin}))}},{key:"styles",get:function(){return{row:{padding:"5px 5px 5px",backgroundColor:this.props.data.selectedDevice===this.fleet.uniqueId?"whitesmoke":"white",outline:"none"}}}}])&&Gc(e.prototype,n),r&&Gc(e,r),a}();function Xc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Kc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vc=Object(s.a)(function(){return{paper:{position:"absolute",right:0,left:0,bottom:0,top:45,display:function(t){return t.isVisible?"inherit":"none"},maxWidth:400,margin:0,padding:"2px 6px",width:"100%",zIndex:1}}});var Zc,$c=i.a.memo(function(t){var e=t.user,n=t.fleets,r=void 0===n?[]:n,a=t.isVisible,s=void 0!==a&&a,l=t.onClick,c=t.onPin,u=t.pinnedDevice,h=t.selectedDevice,p=Vc({isVisible:s}),f=Object(o.createRef)(),d=Object(o.createRef)(),g=Xc(Object(o.useState)(0),2),v=g[0],y=g[1],m=Xc(Object(o.useState)(null),2),_=m[0],b=m[1],x=function(t){b(t),d.current.resetAfterIndex(t<=_?t:_,!1)};return Object(o.useEffect)(function(){s&&v!==f.current.clientHeight&&y(f.current.clientHeight)}),Object(o.useEffect)(function(){if(s&&h){var t=rt()(r,{uniqueId:h});d.current.scrollToItem(t,"smart"),t!==_&&x(null)}},[s,h]),i.a.createElement("div",{className:p.paper,ref:f},s&&i.a.createElement(xt,{direction:"rtl",id:"feet-list",itemCount:r.length,itemData:{user:e,fleets:r,expandedInfoIndex:_,onClick:l,onExpandInfo:x,onPin:c,pinnedDevice:u,selectedDevice:h},itemKey:function(t,e){return e.fleets[t].uniqueId},itemSize:function(t){return t===_?180:50},height:v-10,ref:d,width:"100%"},Bc))}),Jc=n("6ac3e552da79538f50d3"),Qc=n("a46ffb7617c27d63a192"),tu=n.n(Qc),eu=Object(M.defineMessages)({ascending:{id:"".concat("app.components.FilterFleets",".ascending"),defaultMessage:"Ascending"},descending:{id:"".concat("app.components.FilterFleets",".descending"),defaultMessage:"Descending"},none:{id:"".concat("app.components.FilterFleets",".none"),defaultMessage:"None"},name:{id:"".concat("app.components.FilterFleets",".name"),defaultMessage:"Name"},status:{id:"".concat("app.components.FilterFleets",".status"),defaultMessage:"Status"},online:{id:"".concat("app.components.FilterFleets",".online"),defaultMessage:"Online"},offline:{id:"".concat("app.components.FilterFleets",".offline"),defaultMessage:"Offline"},group:{id:"".concat("app.components.FilterFleets",".group"),defaultMessage:"Group"},speed:{id:"".concat("app.components.FilterFleets",".speed"),defaultMessage:"Speed"},filters:{id:"".concat("app.components.FilterFleets",".filters"),defaultMessage:"Filters"},moreFilters:{id:"".concat("app.components.FilterFleets",".moreFilters"),defaultMessage:"More Filters"},customizeFilters:{id:"".concat("app.components.FilterFleets",".customizeFilters"),defaultMessage:"Customize Filters"}});function nu(t,e,n,r){Zc||(Zc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Zc,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var ru=Object(s.a)({inputRoot:{height:34,borderRadius:35,margin:"0.15rem"},multipleSelect:{width:"100%"}}),ou=i.a.memo(function(t){var e=t.id,n=t.filters,r=t.options,o=t.onChange,a=t.title,s=t.multiple,l=t.inputVarient,c=ru();return nu(oe.a,{},void 0,nu(ie.a,{},void 0,a),nu(ae.a,{size:"small",value:q()(n[e])?s?[]:"":s?n[e].map(function(t){return t.value}):n[e].value,onChange:function(t){var n=t.target.value,i=s?[]:null;s?ge()(n,function(t){i.push(ee()(r,function(e){return e.value===t}))}):i=ee()(r,function(t){return t.value===n}),o(e,i||null)},multiple:s,variant:l||"standard",className:c.inputRoot,renderValue:function(t){return e=t,s?e.map(function(t){return ee()(r,function(e){return e.value===t})}).map(function(t){return t.text}).join(", "):ee()(r,function(t){return t.value===e}).text;var e}},void 0,!s&&nu(Xt.a,{value:""},void 0,nu(Un,{},void 0,i.a.createElement(M.FormattedMessage,eu.none))),r.map(function(t){return nu(Xt.a,{value:t.value},t.value,nu(Un,{},void 0,t.text))})))});var iu;function au(){return(au=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var su,lu=Object(s.a)({inputRoot:{borderRadius:35,padding:"3px !important",paddingRight:"65px !important",margin:"0.15rem"},multipleSelect:{width:"100%"}}),cu=i.a.memo(function(t){var e=t.id,n=t.filters,r=t.options,o=t.onChange,a=t.title,s=t.multiple,l=t.inputVarient,c=lu();return function(t,e,n,r){iu||(iu="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:iu,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(se.a,{size:"small",value:n[e],onChange:function(t,n){return o(e,n)},filterSelectedOptions:!0,multiple:s||!1,options:r,className:s?c.multipleSelect:null,classes:{inputRoot:c.inputRoot},getOptionLabel:function(t){return t.text||""},getOptionSelected:function(t){return function(t,e,n){if(e){if(t){var r=e.map(function(t){return t.value});return!!ee()(r,function(t){return t===n.value})}return e.value===n.value}return!1}(s,n[e],t)||!1},renderInput:function(t){return i.a.createElement(re.a,au({},t,{classes:{root:c.inputLabel},label:a,variant:l||"standard"}))}})});function uu(t,e,n,r){su||(su="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:su,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var hu,pu=Object(s.a)({container:{"& > *":{minWidth:320}},singleSelect:{display:"flex",justifyContent:"start","& > *":{minWidth:"31%",margin:"0 7px"}}}),fu=i.a.memo(Object(M.injectIntl)(function(t){var e=t.open,n=t.onClose,r=t.filters,o=t.groups,a=t.onChange,s=t.intl,l=pu(),c=[{text:s.formatMessage(eu.ascending),value:"asc"},{text:s.formatMessage(eu.descending),value:"desc"}],u=[{text:s.formatMessage(eu.online),value:"online"},{text:s.formatMessage(eu.offline),value:"offline"}],h=function(){return o.map(function(t){return{text:t.name,value:t.id}})};return uu(xr,{open:e,onClose:n,fullScreen:!1,className:l.container,modalTitle:i.a.createElement(M.FormattedMessage,eu.filters),modalContent:i.a.createElement(M.FormattedMessage,eu.customizeFilters)},void 0,uu("div",{className:l.singleSelect},void 0,uu(ou,{id:"name",filters:r,options:c,title:i.a.createElement(M.FormattedMessage,eu.name),onChange:a}),uu(ou,{id:"status",filters:r,options:u,title:i.a.createElement(M.FormattedMessage,eu.status),onChange:a}),uu(ou,{id:"speed",filters:r,options:c,onChange:a,title:i.a.createElement(M.FormattedMessage,eu.speed)})),he()(o)&&o.length>10?uu(cu,{id:"groupId",filters:r,options:h(),onChange:a,multiple:!0,title:i.a.createElement(M.FormattedMessage,eu.group)}):uu("div",{className:l.singleSelect},void 0,uu(ou,{id:"groupId",multiple:!0,filters:r,options:h(),onChange:a,title:i.a.createElement(M.FormattedMessage,eu.group)})))}));function du(t,e,n,r){hu||(hu="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:hu,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return vu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yu=Object(s.a)({container:{display:"flex",flexWrap:"wrap",justifyContent:"start",padding:"2px 6px","& > *":{width:"100%",flex:"1 0 21%",margin:"0.15rem"}}}),mu=du(tu.a,{}),_u=Object(o.memo)(function(t){var e=t.filters,n=t.groups,r=t.onChange,a=yu(),s=gu(Object(o.useState)(!1),2),l=s[0],c=s[1],u=function(){return c(!l)};return du("div",{className:a.container},void 0,l&&du(fu,{open:l,onClose:u,filters:e,groups:n,onChange:r}),du(Jc.a,{icon:mu,label:i.a.createElement(M.FormattedMessage,eu.moreFilters),clickable:!0,onClick:u,color:"primary",variant:"outlined"}))}),bu=Object(M.defineMessages)({devices:{id:"".concat("app.containers.FleetsDrawer",".devices"),defaultMessage:"Devices"},history:{id:"".concat("app.containers.FleetsDrawer",".history"),defaultMessage:"History"},shouldClusterVehicles:{id:"".concat("app.containers.FleetsDrawer",".shouldClusterVehicles"),defaultMessage:"Should Cluster Vehicles?"}}),xu=n("f8070c2fe09c11722ab2");function wu(t){return new Promise(function(e,n){var r=new WebSocket(t);r.onopen=function(){return e(r)},r.onerror=function(t){return n(t)}})}function Eu(t){var e=t;return Object(xu.c)(function(t){e.onmessage=function(e){return t(e.data)},e.onclose=function(){return t(xu.a)};return function(){e.onmessage=null}})}var Ou=regeneratorRuntime.mark(Iu),Su=regeneratorRuntime.mark(Pu),Cu=regeneratorRuntime.mark(Ru),Tu=regeneratorRuntime.mark(Mu);function Iu(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ql.b)(Xl.b,"".concat(Bl.a.API_URL,"/devices"));case 3:return t=e.sent,e.next=6,Object(ql.c)({type:so,payload:t});case 6:return e.next=8,Object(ql.c)(pl());case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ql.c)(ll(e.t0));case 14:case"end":return e.stop()}},Ou,null,[[0,10]])}function Pu(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ql.b)(Xl.b,"".concat(Bl.a.API_URL,"/groups"));case 3:return t=e.sent,e.next=6,Object(ql.c)({type:xo,payload:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ql.c)(dl(e.t0));case 12:case"end":return e.stop()}},Su,null,[[0,8]])}function Ru(){var t,e,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(ql.b)(wu,Bl.a.WS_URL);case 3:return t=o.sent,o.next=6,Object(ql.b)(Eu,t);case 6:return e=o.sent,o.next=9,Object(ql.c)({type:ho});case 9:return o.next=12,Object(ql.f)(e);case 12:return n=o.sent,o.next=15,Object(ql.e)(So.e);case 15:return r=o.sent,o.next=18,Object(ql.d)(fl(JSON.parse(n),r.server));case 18:o.next=9;break;case 20:o.next=27;break;case 22:return o.prev=22,o.t0=o.catch(0),console.log(o.t0),o.next=27,Object(ql.d)(hl(o.t0));case 27:return o.prev=27,console.log("in finally"),e&&e.close(),t&&t.close(),o.next=33,Object(ql.d)(hl("WebSocket disconnected!"));case 33:return o.finish(27);case 34:return o.next=36,Object(ql.c)(pl());case 36:case"end":return o.stop()}},Cu,null,[[0,22,27,34]])}function Mu(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ql.a)([Object(ql.g)(ao,Iu),Object(ql.g)(bo,Pu),Object(ql.g)(uo,Ru)]);case 2:case"end":return t.stop()}},Tu)}var Fu=function(t,e){return(Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Lu,Du=function(){function t(t){var e=void 0===t?{}:t,n=e.locale,r=e.instance,o=e.moment;this.yearFormat="YYYY",this.yearMonthFormat="MMMM YYYY",this.dateTime12hFormat="MMMM Do hh:mm a",this.dateTime24hFormat="MMMM Do HH:mm",this.time12hFormat="hh:mm A",this.time24hFormat="HH:mm",this.dateFormat="MMMM Do",this.moment=r||o||Qr.a,this.locale=n}return t.prototype.parse=function(t,e){return""===t?null:this.moment(t,e,!0)},t.prototype.date=function(t){if(null===t)return null;var e=this.moment(t);return e.locale(this.locale),e},t.prototype.isValid=function(t){return this.moment(t).isValid()},t.prototype.isNull=function(t){return null===t},t.prototype.getDiff=function(t,e){return t.diff(e)},t.prototype.isAfter=function(t,e){return t.isAfter(e)},t.prototype.isBefore=function(t,e){return t.isBefore(e)},t.prototype.isAfterDay=function(t,e){return t.isAfter(e,"day")},t.prototype.isBeforeDay=function(t,e){return t.isBefore(e,"day")},t.prototype.isBeforeYear=function(t,e){return t.isBefore(e,"year")},t.prototype.isAfterYear=function(t,e){return t.isAfter(e,"year")},t.prototype.startOfDay=function(t){return t.clone().startOf("day")},t.prototype.endOfDay=function(t){return t.clone().endOf("day")},t.prototype.format=function(t,e){return t.locale(this.locale),t.format(e)},t.prototype.formatNumber=function(t){return t},t.prototype.getHours=function(t){return t.get("hours")},t.prototype.addDays=function(t,e){return e<0?t.clone().subtract(Math.abs(e),"days"):t.clone().add(e,"days")},t.prototype.setHours=function(t,e){return t.clone().hours(e)},t.prototype.getMinutes=function(t){return t.get("minutes")},t.prototype.setMinutes=function(t,e){return t.clone().minutes(e)},t.prototype.getSeconds=function(t){return t.get("seconds")},t.prototype.setSeconds=function(t,e){return t.clone().seconds(e)},t.prototype.getMonth=function(t){return t.get("month")},t.prototype.isSameDay=function(t,e){return t.isSame(e,"day")},t.prototype.isSameMonth=function(t,e){return t.isSame(e,"month")},t.prototype.isSameYear=function(t,e){return t.isSame(e,"year")},t.prototype.isSameHour=function(t,e){return t.isSame(e,"hour")},t.prototype.setMonth=function(t,e){return t.clone().month(e)},t.prototype.getMeridiemText=function(t){return"am"===t?"AM":"PM"},t.prototype.startOfMonth=function(t){return t.clone().startOf("month")},t.prototype.endOfMonth=function(t){return t.clone().endOf("month")},t.prototype.getNextMonth=function(t){return t.clone().add(1,"month")},t.prototype.getPreviousMonth=function(t){return t.clone().subtract(1,"month")},t.prototype.getMonthArray=function(t){for(var e=[t.clone().startOf("year")];e.length<12;){var n=e[e.length-1];e.push(this.getNextMonth(n))}return e},t.prototype.getYear=function(t){return t.get("year")},t.prototype.setYear=function(t,e){return t.clone().set("year",e)},t.prototype.mergeDateAndTime=function(t,e){return this.setMinutes(this.setHours(t,this.getHours(e)),this.getMinutes(e))},t.prototype.getWeekdays=function(){return this.moment.weekdaysShort(!0)},t.prototype.isEqual=function(t,e){return null===t&&null===e||this.moment(t).isSame(e)},t.prototype.getWeekArray=function(t){for(var e=t.clone().startOf("month").startOf("week"),n=t.clone().endOf("month").endOf("week"),r=0,o=e,i=[];o.isBefore(n);){var a=Math.floor(r/7);i[a]=i[a]||[],i[a].push(o),o=o.clone().add(1,"day"),r+=1}return i},t.prototype.getYearRange=function(t,e){for(var n=this.moment(t).startOf("year"),r=this.moment(e).endOf("year"),o=[],i=n;i.isBefore(r);)o.push(i),i=i.clone().add(1,"year");return o},t.prototype.getCalendarHeaderText=function(t){return this.format(t,this.yearMonthFormat)},t.prototype.getYearText=function(t){return this.format(t,"YYYY")},t.prototype.getDatePickerHeaderText=function(t){return this.format(t,"ddd, MMM D")},t.prototype.getDateTimePickerHeaderText=function(t){return this.format(t,"MMM D")},t.prototype.getMonthText=function(t){return this.format(t,"MMMM")},t.prototype.getDayText=function(t){return this.format(t,"D")},t.prototype.getHourText=function(t,e){return this.format(t,e?"hh":"HH")},t.prototype.getMinuteText=function(t){return this.format(t,"mm")},t.prototype.getSecondText=function(t){return this.format(t,"ss")},t}(),ku={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},Au=function(t){function e(e){var n=void 0===e?{}:e,r=n.moment,o=n.instance,i=t.call(this,{locale:"fa",moment:r})||this;return i.dateTime12hFormat="jMMMM jD hh:mm a",i.dateTime24hFormat="jMMMM jD HH:mm",i.time12hFormat="hh:mm A",i.time24hFormat="HH:mm",i.dateFormat="jMMMM jD",i.moment=o||r||Ct.a,i.locale="fa",i}return function(t,e){function n(){this.constructor=t}Fu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.toJMoment=function(t){return this.moment(t?t.clone():void 0).locale("fa")},e.prototype.parse=function(t,e){return""===t?null:this.moment(t,e,!0).locale("fa")},e.prototype.date=function(t){return null===t?null:this.moment(t).locale("fa")},e.prototype.isBeforeYear=function(t,e){return t.jYear()<e.jYear()},e.prototype.isAfterYear=function(t,e){return t.jYear()>e.jYear()},e.prototype.getMonth=function(t){return t.jMonth()},e.prototype.startOfMonth=function(t){return t.clone().startOf("jMonth")},e.prototype.endOfMonth=function(t){return t.clone().endOf("jMonth")},e.prototype.getNextMonth=function(t){return t.clone().add(1,"jMonth")},e.prototype.getPreviousMonth=function(t){return t.clone().subtract(1,"jMonth")},e.prototype.getYear=function(t){return t.jYear()},e.prototype.setYear=function(t,e){return t.clone().jYear(e)},e.prototype.getMeridiemText=function(t){return"am"===t?this.toJMoment().hours(2).format("A"):this.toJMoment().hours(14).format("A")},e.prototype.getWeekdays=function(){var t=this;return[0,1,2,3,4,5,6].map(function(e){return t.toJMoment().weekday(e).format("dd")})},e.prototype.isEqual=function(t,e){return null===t&&null===e||this.moment(t).isSame(e)},e.prototype.formatNumber=function(t){return t.replace(/\d/g,function(t){return ku[t]}).replace(/,/g,"\u060c")},e.prototype.getWeekArray=function(t){for(var e=t.clone().startOf("jMonth").startOf("week"),n=t.clone().endOf("jMonth").endOf("week"),r=0,o=e,i=[];o.isBefore(n);){var a=Math.floor(r/7);i[a]=i[a]||[],i[a].push(o),o=o.clone().add(1,"day"),r+=1}return i},e.prototype.getYearRange=function(t,e){for(var n=this.moment(t).startOf("jYear"),r=this.moment(e).endOf("jYear"),o=[],i=n;i.isBefore(r);)o.push(i),i=i.clone().add(1,"jYear");return o},e.prototype.getCalendarHeaderText=function(t){return t.format("jMMMM jYYYY")},e.prototype.getYearText=function(t){return t.format("jYYYY")},e.prototype.getDatePickerHeaderText=function(t){return t.format("ddd, jMMM jD")},e.prototype.getDateTimePickerHeaderText=function(t){return t.format("jMMM jD")},e.prototype.getDayText=function(t){return t.format("jD")},e}(Du),ju=n("7728af80fbbc041752ea"),Nu=n("cc51d72b43105b8dfd61"),zu=n("ee177d3d0966e20024dd"),Gu=Object(M.defineMessages)({cancelLabel:{id:"".concat("app.components.DatePicker",".cancelLabel"),defaultMessage:"Cancel"},clearLabel:{id:"".concat("app.components.DatePicker",".clearLabel"),defaultMessage:"Clear"},okLabel:{id:"".concat("app.components.DatePicker",".okLabel"),defaultMessage:"OK"}});function Yu(t,e,n,r){Lu||(Lu="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Lu,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Wu=Object(s.a)({datePickerRoot:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:5,"& input":{padding:"5px 14px"}},datePicker:{maxWidth:120},timePicker:{maxWidth:70}});var Uu,Hu=Object(o.memo)(function(t){var e=t.date,n=void 0===e?Qr()().toDate():e,r=t.datePicker,o=void 0===r||r,a=t.maxDate,s=void 0===a?void 0:a,l=t.minDate,c=void 0===l?void 0:l,u=t.onChange,h=t.timePicker,p=void 0===h||h,f=Wu(),d=function(t){return u(t.toDate())};return Yu("div",{className:f.datePickerRoot},void 0,Yu(ju.a,{utils:Au,locale:"fa"},void 0,o&&Yu(Nu.a,{className:f.datePicker,clearable:!0,cancelLabel:i.a.createElement(M.FormattedMessage,Gu.cancelLabel),clearLabel:i.a.createElement(M.FormattedMessage,Gu.clearLabel),inputVariant:"outlined",labelFunc:function(t){return t?t.format("jYYYY/jMM/jDD"):""},maxDate:s,minDate:c,okLabel:i.a.createElement(M.FormattedMessage,Gu.okLabel),onChange:d,value:n}),p&&Yu(zu.a,{className:f.timePicker,clearable:!0,cancelLabel:i.a.createElement(M.FormattedMessage,Gu.cancelLabel),clearLabel:i.a.createElement(M.FormattedMessage,Gu.clearLabel),inputVariant:"outlined",labelFunc:function(t){return t?t.format("HH:mm"):""},okLabel:i.a.createElement(M.FormattedMessage,Gu.okLabel),onChange:d,value:n})))}),qu=n("1a661b4d25e85fc8b8d4"),Bu=n("86e872c5125e2efac7b0"),Xu=n("40adfee730b536e75ddb"),Ku=Object(M.defineMessages)({scale:{id:"".concat("app.containers.ClusteringScale",".scale"),defaultMessage:"Scale of clustering"}});function Vu(t,e,n,r){Uu||(Uu="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Uu,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Zu=Object(s.a)(function(){return{ClusteringScaleRoot:{width:"100%",padding:"20px 25px"},Slider:{margin:"auto"}}});var $u=function(t){var e=t.routeHistoryLength,n=t.clusteringScale,r=t.onScaleChanged,o=Zu();return Vu("div",{className:o.ClusteringScaleRoot},void 0,Vu(Z.a,{id:"discrete-slider",gutterBottom:!0},void 0,i.a.createElement(M.FormattedMessage,Ku.scale)),Vu(Xu.a,{className:o.Slider,value:n,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:e?20:0,onChangeCommitted:function(t,e){r(e)}}))},Ju=Object(M.defineMessages)({settings:{id:"".concat("app.components.RouteHistorySettingsModal",".settings"),defaultMessage:"Route History Settings"},showMarkers:{id:"".concat("app.components.RouteHistorySettingsModal",".showMarkers"),defaultMessage:"Show Markers"},showSpeedLabels:{id:"".concat("app.components.RouteHistorySettingsModal",".showSpeedLabels"),defaultMessage:"Show Speed Labels"}}),Qu=n("d10af94d6d7ac0013e81"),th=n.n(Qu);function eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eh(Object(n),!0).forEach(function(e){rh(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oh,ih=function(t,e,n){if(t){if(1===e)return t;if(t.length<100)return t;var r=function(t){var e=Math.floor(t/1e3);return 0!==e?e:1}(t?t.length:0),o=t.filter(function(t,n){return n%(e*r)===0});if(n){var i=function(t,e){var n=[];return ge()(t,function(t){t.speed>e&&n.push(t)}),n.length>0?n:null}(t,n);o=th()(o,i,"id")}return o}return null},ah={endDate:Qr()().toDate(),error:null,routeHistory:null,selectedPosition:null,showLoader:!1,showMarkers:!1,showSpeedLabels:!1,sortedProperty:null,startDate:Qr()().subtract("minutes",10).toDate()},sh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ah,e=arguments.length>1?arguments[1]:void 0;return Object(to.a)(t,function(n){switch(e.type){case yl:n.error=e.payload,n.routeHistory=null,n.showLoader=!1;break;case ml:n.routeHistory=e.payload&&e.selectedDevice&&(r=e.payload,o=e.selectedDevice,i=o.attributes.speedLimit,r.map(function(t){var e=i&&i<t.speed?"#ff5500":"#00ff00";return nh(nh({},t),{},{icon:Pn(dn.arrow,e,t.course,"arrow","arrow")})})),n.error=null,n.showLoader=!1;break;case _l:n.endDate=e.payload,t.startDate.getTime()>n.endDate&&(n.endDate=t.startDate);break;case bl:n.showLoader=e.payload,n.routeHistory=null;break;case El:n.selectedPosition=e.payload;break;case wl:n.startDate=e.payload,n.startDate.getTime()>t.endDate.getTime()&&(n.endDate=n.startDate);break;case xl:n.showMarkers=e.payload;break;case Ol:n.showSpeedLabels=e.payload;break;case Sl:n.sortedProperty=e.payload}var r,o,i})},lh=function(t){return t.fleetHistory||ah},ch=function(){return Object(et.a)(lh,function(t){return t.showMarkers})},uh=function(){return Object(et.a)(lh,function(t){return t.routeHistory})},hh=function(){return Object(et.a)(lh,function(t){return t.selectedPosition})},ph=function(){return Object(et.a)(lh,function(t){return t.showSpeedLabels})},fh=function(){return Object(et.a)(lh,function(t){return t})},dh=function(t){return{type:"app/MapContainer/SET_MAP_ZOOM",zoom:t}},gh=function(t){return{type:"app/MapContainer/SET_MAP_CLUSTERING_SCALE",scale:t}},vh=function(t){return{type:"app/MapContainer/SET_VIEWPORT",viewport:t}};function yh(t,e,n,r){oh||(oh="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:oh,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var mh=Object(s.a)({modal:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around",margin:5},formControl:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around",margin:5}});var _h=Object(et.b)({showMarkers:ch(),showSpeedLabels:ph(),routeHistory:uh(),clusteringScale:Object(et.a)(Al,function(t){return t.scale})});var bh=Object(u.c)(_h,function(t){return{changeShowMarkers:function(e){return t(Pl(e.target.checked))},changeShowSpeedLabels:function(e){return t(Rl(e.target.checked))},changeClusteringScale:function(e){return t(gh(e))}}}),xh=Object(h.d)(bh)(function(t){var e=mh(),n=t.open,r=t.onClose,o=t.showMarkers,a=t.changeShowMarkers,s=t.showSpeedLabels,l=t.changeShowSpeedLabels,c=t.routeHistory,u=t.clusteringScale,h=t.changeClusteringScale;return yh(xr,{open:n,onClose:r,className:e.modal,modalTitle:i.a.createElement(M.FormattedMessage,Ju.settings)},void 0,yh(qu.a,{control:yh(Bu.a,{checked:o,onChange:a,name:"show-markers",color:"primary",size:"small"}),label:i.a.createElement(M.FormattedMessage,Ju.showMarkers)}),yh(qu.a,{control:yh(Bu.a,{checked:s,color:"primary",name:"show-markers",onChange:l,size:"small"}),disabled:!o,label:i.a.createElement(M.FormattedMessage,Ju.showSpeedLabels)}),c?yh($u,{routeHistoryLength:c?c.length:0,clusteringScale:u,onScaleChanged:h}):null)}),wh=regeneratorRuntime.mark(Oh),Eh=regeneratorRuntime.mark(Sh);function Oh(t){var e,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(ql.c)({type:bl,payload:!0});case 3:return e=new URL("".concat(Bl.a.API_URL,"/reports/route")),n=new URLSearchParams,Object.keys(t.payload).forEach(function(e){return n.append(e,t.payload[e])}),e.search=n.toString(),o.next=9,Object(ql.b)(Xl.b,e);case 9:return r=o.sent,o.next=12,Object(ql.c)(Tl(r,t.payload.selectedDevice));case 12:o.next=19;break;case 14:return o.prev=14,o.t0=o.catch(0),console.log(o.t0),o.next=19,Object(ql.c)(Cl(o.t0));case 19:case"end":return o.stop()}},wh,null,[[0,14]])}function Sh(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ql.a)([Object(ql.g)(vl,Oh)]);case 2:case"end":return t.stop()}},Eh)}var Ch,Th=Object(M.defineMessages)({clear:{id:"".concat("app.containers.FleetHistory",".clear"),defaultMessage:"clear"},selectDevice:{id:"".concat("app.containers.FleetHistory",".selectDevice"),defaultMessage:"Select the device"},settings:{id:"".concat("app.containers.FleetHistory",".settings"),defaultMessage:"Settings"},submit:{id:"".concat("app.containers.FleetHistory",".submit"),defaultMessage:"Submit"}}),Ih=Object(M.defineMessages)({noData:{id:"".concat("app.components.RouteHistoryList",".noData"),defaultMessage:"There are not any records."},battery:{id:"".concat("app.components.RouteHistoryList",".battery"),defaultMessage:"Battery"},course:{id:"".concat("app.components.RouteHistoryList",".course"),defaultMessage:"Point"},deviceTime:{id:"".concat("app.components.RouteHistoryList",".deviceTime"),defaultMessage:"Device Time"},distance:{id:"".concat("app.components.RouteHistoryList",".distance"),defaultMessage:"Distance"},ignition:{id:"".concat("app.components.RouteHistoryList",".ignition"),defaultMessage:"Ignition"},latitude:{id:"".concat("app.components.RouteHistoryList",".latitude"),defaultMessage:"Latitude"},longitude:{id:"".concat("app.components.RouteHistoryList",".longitude"),defaultMessage:"Longitude"},motion:{id:"".concat("app.components.RouteHistoryList",".motion"),defaultMessage:"Motion"},no:{id:"".concat("app.components.RouteHistoryList",".no"),defaultMessage:"No"},operator:{id:"".concat("app.components.RouteHistoryList",".operator"),defaultMessage:"Operator"},outdated:{id:"".concat("app.components.RouteHistoryList",".outdated"),defaultMessage:"Outedated"},power:{id:"".concat("app.components.RouteHistoryList",".power"),defaultMessage:"Power"},protocol:{id:"".concat("app.components.RouteHistoryList",".protocol"),defaultMessage:"Protocol"},rssi:{id:"".concat("app.components.RouteHistoryList",".rssi"),defaultMessage:"Signal Strength"},sat:{id:"".concat("app.components.RouteHistoryList",".sat"),defaultMessage:"Satellite"},totalDistance:{id:"".concat("app.components.RouteHistoryList",".totalDistance"),defaultMessage:"Total Distance"},valid:{id:"".concat("app.components.RouteHistoryList",".valid"),defaultMessage:"Valid"},yes:{id:"".concat("app.components.RouteHistoryList",".yes"),defaultMessage:"Yes"}}),Ph=n("97cd5d5e566200f9197b");function Rh(t){return(Rh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Mh,Fh=function(t){var e=t.children,n=["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"];return function(t,e,n,r){Ch||(Ch="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Ch,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}("span",{},void 0,"object"!==Rh(e)?e.toString().replace(/\d/g,function(t){return n[parseInt(t,10)]}):e)};var Lh,Dh=Object(et.b)({units:Object(So.c)()}),kh=Object(u.c)(Dh,null),Ah=Object(h.d)(kh)(function(t){var e=t.units,n=t.type,r=t.value;return function(t,e,n,r){Mh||(Mh="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Mh,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(Fh,{},void 0,mn(r,n,e))});function jh(t,e,n,r){Lh||(Lh="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Lh,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Nh,zh=Object(s.a)(function(t){return{routeHistoryRowRoot:{backgroundColor:function(t){var e=t.isSelected,n=t.isExpanded;return(e||n)&&"whitesmoke"},borderRadius:5},buttonBase:{width:"100%",padding:5},container:{height:50},dataTime:{fontSize:"0.8rem",fontWeight:"bold"},speed:{textAlign:"center",fontSize:"0.7rem",direction:"rtl",whiteSpace:"nowrap"},distance:{textAlign:"center",fontSize:"0.7rem",direction:"rtl"},expansionButton:{textAlign:"center"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridList:{height:130,width:"100%",backgroundColor:"whitesmoke"}}}),Gh=Object(B.a)({root:{height:"inherit",background:"rgba(255, 255, 255, 0.5)"},titlePositionBottom:{bottom:"inherit"},title:{color:"rgba(0, 0, 0, 0.87)",fontSize:"0.75rem",fontWeight:"bold"},subtitle:{color:"rgba(0, 0, 0, 0.87)"}})(jt.a),Yh=jh(zt.a,{}),Wh=i.a.memo(function(t){var e,n,r,o,a=t.data,s=t.index,l=t.style,c=a.expandedIndex,u=a.onClick,h=a.onExpand,p=a.selectedRow,f=a.data[s],d=p&&f.id===p.id,g=c===s,v=zh({isSelected:d,isExpanded:g});return jh("div",{className:v.routeHistoryRowRoot,style:l},void 0,jh(Dt.a,{alignItems:"center",className:v.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,jh(Dt.a,{item:!0,xs:10},void 0,jh(Ph.a,{className:v.buttonBase,onClick:function(){return u(f)}},void 0,jh(Dt.a,{alignItems:"center",className:v.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap"},void 0,jh(Dt.a,{item:!0,xs:2},void 0,jh(Fh,{},void 0,s+1)),jh(Dt.a,{item:!0,xs:5,zeroMinWidth:!0},void 0,jh(Z.a,{className:v.dataTime},void 0,Ct()(f.deviceTime).format("jYYYY-jMM-jDD HH:mm:ss"))),jh(Dt.a,{className:v.distance,item:!0,xs:2},void 0,jh(Ah,{type:"distance",value:f.attributes.distance})),jh(Dt.a,{className:v.speed,item:!0,xs:3},void 0,jh(Ah,{type:"speed",value:f.speed}))))),jh(Dt.a,{className:v.expansionButton,item:!0,xs:2},void 0,jh(w.a,{className:Object(Ot.a)(v.expand,(n={},r=v.expandOpen,o=g,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)),onClick:(e=s,function(){return h(e!==c?e:null)}),size:"small","aria-expanded":g,"aria-label":"show more"},void 0,Yh))),f&&jh(Tt.a,{in:g,timeout:"auto",unmountOnExit:!0},void 0,g&&jh(kt.a,{cellHeight:40,className:v.gridList,cols:2},void 0,Et()(_c(f),function(t,e){return jh(At.a,{cols:1},e,jh(Gh,{title:Ih[e]?i.a.createElement(M.FormattedMessage,Ih[e]):e,subtitle:jh(Ah,{type:e,value:t||"--"})}))}))))});function Uh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Hh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qh=Object(s.a)({routeHistoryRoot:{bottom:0,minWidth:306,maxWidth:400,margin:0,padding:"2px 6px",width:"100%",height:"100%",maxHeight:"inherit",overflowY:"auto",zIndex:1}});var Bh,Xh=Object(o.memo)(function(t){var e=t.data,n=t.onSelect,r=t.selected,o=t.isExpanded,a=qh(),s=i.a.createRef(),l=i.a.createRef(),c=Uh(i.a.useState(null),2),u=c[0],h=c[1],p=Uh(i.a.useState(0),2),f=p[0],d=p[1],g=function(t){h(t),s.current.resetAfterIndex(t<=u?t:u,!1)};return i.a.useLayoutEffect(function(){setTimeout(function(){s.current&&e&&!o&&(d(l.current.clientHeight),s.current&&s.current.resetAfterIndex(0,!1))},5)}),i.a.useEffect(function(){if(r){var t=rt()(e,{id:r.id});s.current.scrollToItem(t,"smart"),t!==u&&g(null)}},[r]),i.a.createElement("div",{className:a.routeHistoryRoot,ref:l},e&&e.length?i.a.createElement(xt,{direction:"rtl",id:"route-history-list",itemCount:e.length,itemData:{data:e,expandedIndex:u,onClick:n,onExpand:g,selectedRow:r},itemKey:function(t,e){return e.data[t].id},itemSize:function(t){return t===u?180:50},height:f-10-(o?120:0),ref:s,width:"100%"},Wh):function(t,e,n,r){Nh||(Nh="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Nh,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}("p",{},void 0,i.a.createElement(M.FormattedMessage,Ih.noData)))});function Kh(t,e,n,r){Bh||(Bh="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Bh,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Vh(){return(Vh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return $h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jh=Object(s.a)(function(){return{fleetHistoryRoot:{display:"flex",flexDirection:"column",height:"100%"},autocomplete:{},historyForm:{display:"flex",flexDirection:"column",padding:10},actions:{display:"flex",flexDirection:"row",justifySelf:"center",justifyContent:"space-around",margin:5},expansionPanel:{margin:5,"&::before":{backgroundColor:"inherit",display:"none"},boxShadow:"none"},expansionPanelExpanded:{margin:"5 !important",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"},expansionTitle:{fontSize:"inherit"},progress:{textAlign:"center"}}}),Qh=Kh(fr.a,{});var tp=Object(et.b)({endDate:Object(et.a)(lh,function(t){return t.endDate}),error:Object(et.a)(lh,function(t){return t.error}),fleets:Gl(),fleetHistory:fh(),routeHistory:uh(),selectedDevice:Ul(),selectedPosition:hh(),showLoader:Object(et.a)(lh,function(t){return t.showLoader}),startDate:Object(et.a)(lh,function(t){return t.startDate}),sortedProperty:Object(et.a)(lh,function(t){return t.sortedProperty})});var ep,np=Object(u.c)(tp,function(t){return{changeEndDateTime:function(e){return t({type:_l,payload:e})},changeShowMarkers:function(e){return t(Pl(e.target.checked))},changeShowSpeedLabels:function(e){return t(Rl(e.target.checked))},changeStartDateTime:function(e){return t({type:wl,payload:e})},changeSortedProperty:function(e){return t({type:Sl,payload:e})},clearHistory:function(){return t(Tl(null))},getRouteHistory:function(e){return t({type:vl,payload:e})},selectDevice:function(e){return t(ul(e))},selectPosition:function(e){return t(Il(e))},changeClusteringScale:function(e){return t(gh(e))}}}),rp=Object(h.d)(np)(function(t){var e=t.changeEndDateTime,n=t.changeStartDateTime,r=t.clearHistory,o=t.endDate,a=t.getRouteHistory,s=t.fleets,l=t.routeHistory,c=t.selectDevice,u=t.selectPosition,h=t.selectedDevice,p=t.selectedPosition,f=t.showLoader,d=t.startDate,g=Jh(),v=Zh(i.a.useState(!1),2),y=v[0],m=v[1];Object(Vt.a)({key:"fleetHistory",reducer:sh}),Object(Kt.a)({key:"fleetHistory",saga:Sh});var _=function(){return m(!y)};return Kh("div",{className:g.fleetHistoryRoot},void 0,Kh("div",{className:g.historyForm},void 0,Kh(se.a,{className:g.autocomplete,options:s||[],getOptionLabel:function(t){return t.name||""},getOptionSelected:function(t,e){return t.name.match(new RegExp(e,"g"))},onChange:function(t,e){return c(e&&e.uniqueId)},renderInput:function(t){return i.a.createElement(re.a,Vh({},t,{label:i.a.createElement(M.FormattedMessage,Th.selectDevice),size:"small",variant:"outlined"}))},value:h||""}),Kh(Hu,{date:d,onChange:n}),Kh(Hu,{date:o,minDate:d,onChange:e}),Kh(pr.a,{variant:"outlined",onClick:_},void 0,i.a.createElement(M.FormattedMessage,Th.settings)),Kh(xh,{open:y,onClose:_}),Kh("div",{className:g.actions},void 0,Kh(pr.a,{color:"primary",variant:"contained",onClick:function(){return h&&a({selectedDevice:h,deviceId:h.id,from:d.toISOString(),to:o.toISOString()})},disabled:f},void 0,i.a.createElement(M.FormattedMessage,Th.submit)),Kh(pr.a,{variant:"outlined",onClick:function(){return r()}},void 0,i.a.createElement(M.FormattedMessage,Th.clear)))),f?Kh("div",{className:g.progress},void 0,Qh):Kh(Xh,{data:l,onSelect:u,selected:p}))});function op(t,e,n,r){ep||(ep="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:ep,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function ip(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ip(Object(n),!0).forEach(function(e){sp(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function sp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return cp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function up(){return(up=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function hp(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var pp=Object(B.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",borderRadius:"4px",boxShadow:"none",margin:"5px 5px",minWidth:306,maxWidth:358,top:55,zIndex:1,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"5px 5px"}},expanded:{}})(X.a),fp=Object(B.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:0,minHeight:30,"&$expanded":{minHeight:30}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(K.a),dp=Object(B.a)(function(){return{root:{padding:0,bottom:0,height:"80vh"}}})(V.a),gp=Object(B.a)(function(){return{root:{width:"80%"}}})(tt.a),vp=function(t){return{id:"".concat(t,"-tab"),"aria-controls":"".concat(t,"-tabpannel")}},yp=function(t){var e=t.children,n=t.value,r=t.index,o=hp(t,["children","value","index"]);return n===r&&i.a.createElement("div",up({role:"tabpanel",hidden:n!==r,id:"".concat(r,"-tabpanel"),"aria-labelledby":"".concat(r,"-tab")},o),e)},mp=Object(s.a)({expansionDetails:{display:"flex",flexFlow:"column",flexGrow:1},tabbar:{marginBottom:10},tabPannel:{position:"relative",overflow:"hidden",alignContent:"stretch",display:"flex",flexDirection:"column",height:"100%"}}),_p=op(gp,{}),bp=op(gp,{animation:!1}),xp=op(gp,{animation:"wave"}),wp=op(rp,{});var Ep=Object(et.b)({user:Object(So.d)(),fleets:Gl(),isFilterPanelOpen:Object(et.a)(zl,function(t){return t.isFilterPanelOpen}),isFleetPanelOpen:Object(et.a)(zl,function(t){return t.isFleetPanelOpen}),pinnedDeviceUniqueId:Yl(),selectedDeviceUniqueId:Wl(),showLoader:Object(et.a)(zl,function(t){return t.showLoader}),groups:Hl(),filters:Object(et.a)(zl,function(t){return t.filters}),error:Object(et.a)(zl,function(t){return t.error})});var Op=Object(u.c)(Ep,function(t){return{getFleets:function(){return t({type:ao})},getFleetsGroups:function(){return t({type:bo})},onPin:function(e){return t(cl(e))},setFilterPanelState:function(){return t({type:fo})},setFleetPanelState:function(){return t({type:po})},selectDeviceFromList:function(e){return t(ul(e))},setFilters:function(e){return t({type:_o,payload:e})}}}),Sp=Object(h.d)(Op)(function(t){var e=t.user,n=t.fleets,r=t.isFleetPanelOpen,a=t.getFleets,s=t.getFleetsGroups,l=t.onPin,c=t.pinnedDeviceUniqueId,u=t.setFleetPanelState,h=t.selectDeviceFromList,p=t.selectedDeviceUniqueId,f=t.setFilters,d=t.groups,g=t.filters,v=mp(),y=lp(Object(o.useState)("devices"),2),m=y[0],_=y[1];return Object(Vt.a)({key:"fleetsDrawer",reducer:Oo}),Object(Kt.a)({key:"fleetsDrawer",saga:Mu}),Object(o.useEffect)(function(){a(),s()},[]),op(pp,{square:!0,expanded:r,onChange:u},void 0,op(fp,{"aria-controls":"panel1d-content",id:"panel1d-header"},void 0,op(Z.a,{},void 0,i.a.createElement(M.FormattedMessage,bu.devices))),op(dp,{className:v.expansionDetails},void 0,op($.a,{className:v.tabbar,color:"default",position:"static"},void 0,op(J.a,{onChange:function(t,e){return _(e)},value:m,variant:"fullWidth"},void 0,i.a.createElement(Q.a,up({label:i.a.createElement(M.FormattedMessage,bu.devices),value:"devices",wrapped:!0},vp("devices"))),i.a.createElement(Q.a,up({label:i.a.createElement(M.FormattedMessage,bu.history),value:"history",wrapped:!0},vp("history"))))),op(yp,{index:"devices",value:m,className:v.tabPannel},void 0,n&&op(_u,{filters:g,groups:d,onChange:function(t,e){f(ap(ap({},g),{},sp({},t,e)))}}),q()(n)?op("div",{style:{width:"100%",display:"flex",flexFlow:"column",alignItems:"center"}},void 0,_p,bp,xp):op($c,{user:e,fleets:n,isVisible:r,onClick:h,onPin:l,pinnedDevice:c,selectedDevice:p})),op(yp,{index:"history",value:m,className:v.tabPannel},void 0,wp)))}),Cp=function(t){return i.a.createElement(i.a.Fragment,null,t.children)};Cp.propTypes={children:c.a.node};var Tp=Cp,Ip={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},Pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rp=function(t){function e(e){var n=t.call(this)||this,r=Bo({},e);return r[Ip.OPACITY]=void 0!==e.opacity?e.opacity:1,gi("number"===typeof r[Ip.OPACITY],64),r[Ip.VISIBLE]=void 0===e.visible||e.visible,r[Ip.Z_INDEX]=e.zIndex,r[Ip.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[Ip.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[Ip.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[Ip.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return Pp(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=fa(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return To()},e.prototype.getLayerStatesArray=function(t){return To()},e.prototype.getExtent=function(){return this.get(Ip.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Ip.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Ip.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(Ip.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(Ip.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(Ip.OPACITY)},e.prototype.getSourceState=function(){return To()},e.prototype.getVisible=function(){return this.get(Ip.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Ip.Z_INDEX)},e.prototype.setExtent=function(t){this.set(Ip.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Ip.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Ip.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(Ip.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(Ip.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){gi("number"===typeof t,64),this.set(Ip.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Ip.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Ip.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(Rs),Mp="prerender",Fp="postrender",Lp="precompose",Dp="postcompose",kp="rendercomplete",Ap=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function jp(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var Np,zp,Gp=function(t){function e(e){var n=this,r=Bo({},e);delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Ps(Ip.SOURCE),n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return Ap(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(Ip.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Ms.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(pi(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=ui(t,Jo.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(pi(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(pi(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ui(t,Lp,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=ui(this,Jo.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Ip.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Rp),Yp="preload",Wp="useInterimTilesOnError",Up=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hp=function(t){function e(e){var n=this,r=e||{},o=Bo({},r);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return Up(e,t),e.prototype.getPreload=function(){return this.get(Yp)},e.prototype.setPreload=function(t){this.set(Yp,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Wp)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Wp,t)},e}(Gp),qp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bp=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.inversePixelTransform=n,i.frameState=r,i.context=o,i}return qp(e,t),e}(qo),Xp="ol-hidden",Kp="ol-selectable",Vp="ol-unselectable",Zp="ol-control",$p="ol-collapsed",Jp=(zp={},function(t){if(Np||(Np=document.createElement("div").style),!(t in zp)){Np.font=t;var e=Np.fontFamily,n=Np.fontWeight,r=Np.fontStyle;if(Np.font="",!e)return null;var o=e.split(/,\s?/);zp[t]={families:o,weight:n,style:r}}return zp[t]});new Array(6);function Qp(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t}function tf(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function ef(t,e,n,r,o,i,a,s){var l=Math.sin(i),c=Math.cos(i);return t[0]=r*c,t[1]=o*l,t[2]=-r*l,t[3]=o*c,t[4]=a*r*c-s*r*l+e,t[5]=a*o*l+s*o*c+n,t}function nf(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];gi(0!==r,32);var o=e[0],i=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/r,t[1]=-i/r,t[2]=-a/r,t[3]=o/r,t[4]=(a*c-s*l)/r,t[5]=-(o*c-i*l)/r,t}function rf(t){return"matrix("+t.join(", ")+")"}var of,af=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sf=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return af(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var r=t.prototype.get.call(this,e),o=Po(n);return o in this.consumers||(this.consumers[o]={}),this.consumers[o][e]=!0,r},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=0,n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[Po(t)]},e}(sa),lf=[],cf=[0,0,0,0],uf=new sf,hf={},pf=null,ff={},df=function(){var t,e,n=100,r=hf,o="32px ",i=["monospace","serif"],a=i.length,s="wmytzilWMYTZIL@#/&?$%10\uf013";function l(t,n,r){for(var l=gf(),c=!0,u=0;u<a;++u){var h=i[u];if(l.font=t+" "+n+" "+o+h,e=l.measureText(s).width,r!=h){l.font=t+" "+n+" "+o+r+","+h;var p=l.measureText(s).width;c=c&&p!=e}}return!!c}function c(){var e=!0;for(var o in r)r[o]<n&&(l.apply(this,o.split("\n"))?(r[o]=n,Xo(ff),pf=null,of=void 0,uf.getCount()&&uf.clear()):(++r[o],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Jp(e);if(o)for(var i=o.families,a=0,s=i.length;a<s;++a){var u=i[a],h=o.style+"\n"+o.weight+"\n"+u;h in r||(r[h]=n,l(o.style,o.weight,u)||(r[h]=0,void 0===t&&(t=setInterval(c,32))))}}}();function gf(){return pf||(pf=ei(1,1)),pf}var vf,yf,mf=(yf=ff,function(t){var e=yf[t];return void 0==e&&(vf||((vf=document.createElement("div")).innerHTML="M",vf.style.margin="0 !important",vf.style.padding="0 !important",vf.style.position="absolute !important",vf.style.left="-99999px !important"),vf.style.font=t,document.body.appendChild(vf),e=vf.offsetHeight,yf[t]=e,document.body.removeChild(vf)),e});function _f(t,e){var n=gf();return t!=of&&(n.font=t,of=n.font),n.measureText(e).width}function bf(t,e,n){if(e in n)return n[e];var r=_f(t,e);return n[e]=r,r}function xf(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))}var wf=[1,0,0,1,0,0];function Ef(t,e,n,r,o,i,a,s,l,c,u){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(r,o,i,a,s,l,c,a*u,s*u),1!=n&&(t.globalAlpha=h),e&&t.setTransform.apply(t,wf)}var Of=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sf=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return Of(e,t),e.prototype.getFeatures=function(t){return To()},e.prototype.prepareFrame=function(t){return To()},e.prototype.renderFrame=function(t,e){return To()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,o){var i=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,o,i)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){},e.prototype.getDataAtPixel=function(t,e,n){return To()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===ci.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=ci.LOADED&&e!=ci.ERROR&&t.addEventListener(Jo.CHANGE,this.boundHandleImageChange_),e==ci.IDLE&&(t.load(),e=t.getState()),e==ci.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Ms.READY&&t.changed()},e}(Os),Cf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tf=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=ei(1,1).canvas,n}return Cf(e,t),e.prototype.useContainer=function(t,e,n){var r,o,i=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===i&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(o=s.getContext("2d")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=i;var a=r.style;a.position="absolute",a.width="100%",a.height="100%";var s=(o=ei()).canvas;r.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}},e.prototype.clip=function(t,e,n){var r=e.pixelRatio,o=e.size[0]*r/2,i=e.size[1]*r/2,a=e.viewState.rotation,s=Ui(n),l=Hi(n),c=ji(n),u=Ai(n);tf(e.coordinateToPixelTransform,s),tf(e.coordinateToPixelTransform,l),tf(e.coordinateToPixelTransform,c),tf(e.coordinateToPixelTransform,u),t.save(),xf(t,-a,o,i),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(c[0]*r,c[1]*r),t.lineTo(u[0]*r,u[1]*r),t.clip(),xf(t,a,o,i)},e.prototype.clipUnrotated=function(t,e,n){var r=Ui(n),o=Hi(n),i=ji(n),a=Ai(n);tf(e.coordinateToPixelTransform,r),tf(e.coordinateToPixelTransform,o),tf(e.coordinateToPixelTransform,i),tf(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;tf(s,r),tf(s,o),tf(s,i),tf(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var o=new Bp(t,this.inversePixelTransform,n,e);r.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Mp,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Fp,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,o,i,a){var s=o/2,l=i/2,c=r/e,u=-c,h=-t[0]+a,p=-t[1];return ef(this.tempTransform_,s,l,c,u,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var r,o=tf(this.inversePixelTransform,t.slice()),i=this.context;try{r=i.getImageData(Math.round(o[0]),Math.round(o[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=rf(t),this.createTransformStringCanvas_.style.transform},e}(Sf),If=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pf=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new zs(0,0,0,0),n}return If(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==Mo.LOADED||n==Mo.EMPTY||n==Mo.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var o=r.pixelRatio,i=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,o,i);return s.getState()==Mo.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(Mo.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,i=r.resolution,a=r.center,s=r.rotation,l=t.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),p=u.getTileGridForProjection(o),f=p.getZForResolution(i,u.zDirection),d=p.getResolution(f),g=t.extent,v=n.extent&&hs(n.extent,o);v&&(g=Wi(g,hs(n.extent,o)));var y=u.getTilePixelRatio(l),m=Math.round(t.size[0]*y),_=Math.round(t.size[1]*y);if(s){var b=Math.round(Math.sqrt(m*m+_*_));m=b,_=b}var x=d*m/2/y,w=d*_/2/y,E=[a[0]-x,a[1]-w,a[0]+x,a[1]+w],O=p.getTileRangeForExtentAndZ(g,f),S={};S[f]={};var C=this.createLoadedTileFinder(u,o,S),T=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var P=O.minX;P<=O.maxX;++P)for(var R=O.minY;R<=O.maxY;++R){var M=this.getTile(f,P,R,t);if(this.isDrawableTile(M)){var F=Po(this);if(M.getState()==Mo.LOADED){S[f][M.tileCoord.toString()]=M;var L=M.inTransition(F);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(F,t.time))continue}var D=p.getTileCoordChildTileRange(M.tileCoord,I,T),k=!1;D&&(k=C(f+1,D)),k||p.forEachTileCoordParentTileRange(M.tileCoord,C,I,T)}var A=d/i;ef(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,s,-m/2,-_/2);var j=this.createTransformString(this.pixelTransform);this.useContainer(e,j,n.opacity);var N=this.context,z=N.canvas;nf(this.inversePixelTransform,this.pixelTransform),ef(this.tempTransform_,m/2,_/2,A,A,0,-m/2,-_/2),z.width!=m||z.height!=_?(z.width=m,z.height=_):this.containerReused||N.clearRect(0,0,m,_),v&&this.clipUnrotated(N,t,v),this.preRender(N,t),this.renderedTiles.length=0;var G,Y,W,U=Object.keys(S).map(Number);U.sort(jo),1!==n.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(G=[],Y=[]):U=U.reverse();for(var H=U.length-1;H>=0;--H){var q=U[H],B=u.getTilePixelSize(q,l,o),X=p.getResolution(q)/d,K=B[0]*X*A,V=B[1]*X*A,Z=p.getTileCoordForCoordAndZ(Ui(E),q),$=p.getTileCoordExtent(Z),J=tf(this.tempTransform_,[y*($[0]-E[0])/d,y*(E[3]-$[3])/d]),Q=y*u.getGutterForProjection(o),tt=S[q];for(var et in tt){var nt=(M=tt[et]).tileCoord,rt=J[0]-(Z[1]-nt[1])*K,ot=Math.round(rt+K),it=J[1]-(Z[2]-nt[2])*V,at=Math.round(it+V),st=ot-(P=Math.round(rt)),lt=at-(R=Math.round(it)),ct=f===q;if(!(L=ct&&1!==M.getAlpha(Po(this),t.time)))if(G){N.save(),W=[P,R,P+st,R,P+st,R+lt,P,R+lt];for(var ut=0,ht=G.length;ut<ht;++ut)if(f!==q&&q<Y[ut]){var pt=G[ut];N.beginPath(),N.moveTo(W[0],W[1]),N.lineTo(W[2],W[3]),N.lineTo(W[4],W[5]),N.lineTo(W[6],W[7]),N.moveTo(pt[6],pt[7]),N.lineTo(pt[4],pt[5]),N.lineTo(pt[2],pt[3]),N.lineTo(pt[0],pt[1]),N.clip()}G.push(W),Y.push(q)}else N.clearRect(P,R,st,lt);this.drawTileImage(M,t,P,R,st,lt,Q,ct,n.opacity),G&&!L&&N.restore(),this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,u,M)}}return this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Pi(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(t,u,p,l,o,g,f,c.getPreload()),this.updateCacheSize_(t,u),this.scheduleExpireCache(t,u),this.postRender(N,t),n.extent&&N.restore(),j!==z.style.transform&&(z.style.transform=j),this.container},e.prototype.drawTileImage=function(t,e,n,r,o,i,a,s,l){var c=this.getTileImage(t);if(c){var u=Po(this),h=s?t.getAlpha(u,e.time):1,p=l*h,f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,r,o,i),f&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Po(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=Po(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=Po(e),r=0;n in t.usedTiles&&(r+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(r+=Object.keys(t.wantedTiles[n]).length);var o=e.tileCache;o.highWaterMark<r&&(o.highWaterMark=r)},e.prototype.manageTilePyramid=function(t,e,n,r,o,i,a,s,l){var c=Po(e);c in t.wantedTiles||(t.wantedTiles[c]={});var u,h,p,f,d,g,v=t.wantedTiles[c],y=t.tileQueue;for(g=n.getMinZoom();g<=a;++g)for(h=n.getTileRangeForExtentAndZ(i,g,h),p=n.getResolution(g),f=h.minX;f<=h.maxX;++f)for(d=h.minY;d<=h.maxY;++d)a-g<=s?((u=e.getTile(g,f,d,r,o)).getState()==Mo.IDLE&&(v[u.getKey()]=!0,y.isKeyQueued(u.getKey())||y.enqueue([u,c,n.getTileCoordCenter(u.tileCoord),p])),void 0!==l&&l(u)):e.useTile(g,f,d,o)},e}(Tf);Pf.prototype.getLayer;var Rf=Pf,Mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ff=function(t){function e(e){return t.call(this,e)||this}return Mf(e,t),e.prototype.createRenderer=function(){return new Rf(this)},e}(Hp),Lf=i.a.createContext({}),Df=Lf.Provider,kf=(Lf.Consumer,Lf),Af=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,jf=/^([a-z]*)$|^hsla?\(.*\)$/i;function Nf(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var zf=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var o=0;for(var i in t)0===(3&o++)&&(delete t[i],--e)}r=function(t){var e,n,r,o,i;jf.exec(t)&&(t=Nf(t));if(Af.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),o=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(o=(o<<4)+o)),i=[e,n,r,o/255]}else 0==t.indexOf("rgba(")?Yf(i=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((i=t.slice(4,-1).split(",").map(Number)).push(1),Yf(i)):gi(!1,14);return i}(n),t[n]=r,++e}return r}}();function Gf(t){return Array.isArray(t)?t:zf(t)}function Yf(t){return t[0]=fa(t[0]+.5|0,0,255),t[1]=fa(t[1]+.5|0,0,255),t[2]=fa(t[2]+.5|0,0,255),t[3]=fa(t[3],0,1),t}function Wf(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}var Uf={FRACTION:"fraction",PIXELS:"pixels"},Hf=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=qf(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var o=qf(t,e,n);this.cache_[o]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function qf(t,e,n){return e+":"+t+":"+(n?function(t){return"string"===typeof t?t:Wf(t)}(n):"null")}var Bf=new Hf,Xf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kf=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=r,s.src_=n,s.tainted_,s}return Xf(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ci.LOADED){this.tainted_=!1;var t=ei(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Jo.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ci.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ci.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],r=ei(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ci.IDLE){this.imageState_=ci.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=na(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,r=this.color_[0]/255,o=this.color_[1]/255,i=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=r,n[a+1]*=o,n[a+2]*=i;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}($o);var Vf={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Zf=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return To()},t.prototype.getImage=function(t){return To()},t.prototype.getHitDetectionImage=function(t){return To()},t.prototype.getImageState=function(){return To()},t.prototype.getImageSize=function(){return To()},t.prototype.getHitDetectionImageSize=function(){return To()},t.prototype.getOrigin=function(){return To()},t.prototype.getSize=function(){return To()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){To()},t.prototype.load=function(){To()},t.prototype.unlistenImageChange=function(t){To()},t}(),$f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jf=function(t){function e(e){var n=this,r=e||{},o=void 0!==r.opacity?r.opacity:1,i=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:o,rotation:i,scale:a,rotateWithView:s})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:Vf.TOP_LEFT,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:Uf.FRACTION,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:Uf.FRACTION,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var l=void 0!==r.img?r.img:null,c=void 0!==r.imgSize?r.imgSize:null,u=r.src;gi(!(void 0!==u&&l),4),gi(!l||l&&c,5),void 0!==u&&0!==u.length||!l||(u=l.src||Po(l)),gi(void 0!==u&&u.length>0,6);var h=void 0!==r.src?ci.IDLE:ci.LOADED;return n.color_=void 0!==r.color?Gf(r.color):null,n.iconImage_=function(t,e,n,r,o,i){var a=Bf.get(e,r,i);return a||(a=new Kf(t,e,n,r,o,i),Bf.set(e,r,i,a)),a}(l,u,c,n.crossOrigin_,h,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:Vf.TOP_LEFT,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return $f(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Uf.FRACTION||this.anchorYUnits_==Uf.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Uf.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Uf.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Vf.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Vf.TOP_RIGHT&&this.anchorOrigin_!=Vf.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Vf.BOTTOM_LEFT&&this.anchorOrigin_!=Vf.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Vf.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Vf.TOP_RIGHT&&this.offsetOrigin_!=Vf.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Vf.BOTTOM_LEFT&&this.offsetOrigin_!=Vf.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Jo.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Jo.CHANGE,t)},e}(Zf);function Qf(t){return Array.isArray(t)?Wf(t):t}var td=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ed=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return td(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return ci.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e="round",n="round",r=0,o=null,i=0,a=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=Qf(t),void 0===(a=this.stroke_.getWidth())&&(a=1),o=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(r=this.stroke_.getMiterLimit())&&(r=10));var s=2*(this.radius_+a)+1,l={strokeStyle:t,strokeWidth:a,size:s,lineCap:e,lineDash:o,lineDashOffset:i,lineJoin:n,miterLimit:r},c=ei(s,s);this.canvas_=c.canvas;var u=s=this.canvas_.width;this.draw_(l,c,0,0),this.createHitDetectionCanvas_(l),this.anchor_=[s/2,s/2],this.size_=[s,s],this.imageSize_=[u,u]},e.prototype.draw_=function(t,e,n,r){var o,i,a;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),o=0;o<=s;o++)i=2*o*Math.PI/s-Math.PI/2+this.angle_,a=o%2===0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(i),t.size/2+a*Math.sin(i))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c="#000"),e.fillStyle=Qf(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"===typeof e&&(e=Gf(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=ei(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var i=void 0!==this.radius2_?this.radius2_:this.radius_;i!==this.radius_&&(o*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=o;a++)l=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2===0?this.radius_:i,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(Zf),nd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rd=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return nd(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(ed),od=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),id=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),ad=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=cd,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=cd,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var sd=null;function ld(t,e){if(!sd){var n=new od({color:"rgba(255,255,255,0.4)"}),r=new id({color:"#3399CC",width:1.25});sd=[new ad({image:new rd({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return sd}function cd(t){return t.getGeometry()}var ud=ad,hd={POINT:"point",LINE:"line"},pd="#333",fd=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new od({color:pd}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:hd.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();function dd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vd(t){return function(t){if(Array.isArray(t))return yd(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return yd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yd(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function md(t,e){var n={};Object.keys(t).forEach(function(t){var e;n[(e=t,"on".concat(e.replace(/(:[a-z])/g,function(t){return t.toUpperCase()}).replace(/^[a-z]/,function(t){return t.toUpperCase()}).replace(":","")))]=t});var r=t;return Object.keys(e).forEach(function(t){var o=n[t],i=e[t];"undefined"!==typeof i&&t.match(/^on[A-Z]/)&&o&&(r[o]=[].concat(vd(r[o]),[i]))}),r}function _d(t){var e={};return Object.keys(t).forEach(function(n){"children"===n||"undefined"===typeof t[n]||n.match(/^on[A-Z]/)||(e[n]=t[n])}),e}function bd(t,e,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=function(t,e,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=new Jf({imgSize:[i,n],src:r,scale:(o?1.5:1)*a});return s.fill=t,s.angle=e,s}(t,e,n,r,o,i,s);return new ud(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dd(Object(n),!0).forEach(function(e){gd(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({image:l,text:new fd({textBaseline:"middle",fill:new od({color:"rgba(255, 255, 255, 1.0)"}),stroke:new id({color:"rgba(50, 50, 50, 1.0)",width:5}),offsetY:s?0:-l.getSize()[1]/2-2,textAlign:"center",font:"bold 12px IRAN-Sans"}),zIndex:o?99999999:void 0},a))}function xd(t){return(xd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ed(t,e){return(Ed=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Od(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Sd(t);if(e){var o=Sd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===xd(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Sd(t){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cd=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ed(t,e)}(a,i.a.Component);var e,n,r,o=Od(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).layer=null,e.options={zIndex:void 0,opacity:void 0,preload:void 0,source:void 0,visible:void 0,extent:void 0,minResolution:void 0,maxResolution:void 0,useInterimTilesOnError:void 0},e.events={change:[],"change:extent":[],"change:maxResolution":[],"change:minResolution":[],"change:opacity":[],"change:preload":[],"change:source":[],"change:useInterimTilesOnError":[],"change:visible":[],"change:zIndex":[],postcompose:[],precompose:[],propertychange:[],render:[]},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this,e=_d(Object.assign(this.options,this.props));e.source=e.source||new sl,this.layer=new Ff(e),this.props.zIndex&&this.layer.setZIndex(this.props.zIndex),this.context.layers.push(this.layer);var n=md(this.events,this.props);Object.keys(n).forEach(function(e){n[e].forEach(function(n){return t.layer.on(e,n)})})}},{key:"render",value:function(){return null}}])&&wd(e.prototype,n),r&&wd(e,r),a}();Cd.contextType=kf;var Td=Cd,Id=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pd="renderOrder",Rd=function(t){function e(e){var n=this,r=e||{},o=Bo({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return Id(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Pd)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(Pd,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:ld,this.styleFunction_=null===t?void 0:function(t){var e;if("function"===typeof t)e=t;else{var n;Array.isArray(t)?n=t:(gi("function"===typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(Gp),Md=0,Fd=1;function Ld(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=e;s<n;s+=r)i[a++]=t.slice(s,s+r);return i.length=a,i}function Dd(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];i[a++]=Ld(t,e,c,r,i[a]),e=c}return i.length=a,i}function kd(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];i[a++]=Dd(t,e,c,r,i[a]),e=c[c.length-1]}return i.length=a,i}var Ad=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),jd={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Nd=[jd.FILL],zd=[jd.STROKE],Gd=[jd.BEGIN_PATH],Yd=[jd.CLOSE_PATH],Wd=jd,Ud=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hd=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.tolerance=e,i.maxExtent=n,i.pixelRatio=o,i.maxLineWidth=0,i.resolution=r,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return Ud(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,r,o,i){var a=this.coordinates.length,s=this.getBufferedMaxExtent();i&&(e+=r);var l,c,u,h=t[e],p=t[e+1],f=this.tmpCoordinate_,d=!0;for(l=e+r;l<n;l+=r)f[0]=t[l],f[1]=t[l+1],(u=Si(s,f))!==c?(d&&(this.coordinates[a++]=h,this.coordinates[a++]=p),this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):u===yi.INTERSECTING?(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):d=!0,h=f[0],p=f[1],c=u;return(o&&d||l===e+r)&&(this.coordinates[a++]=h,this.coordinates[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);o.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,o,i,a,s,l=t.getType(),c=t.getStride(),u=this.coordinates.length;if(l==ba.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,f=h.length;p<f;++p){var d=[];s=this.drawCustomCoordinates_(r,s,h[p],c,d),a.push(d)}this.instructions.push([Wd.CUSTOM,u,a,t,n,kd])}else l==ba.POLYGON||l==ba.MULTI_LINE_STRING?(i=[],r=l==ba.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),c,i),this.instructions.push([Wd.CUSTOM,u,i,t,n,Dd])):l==ba.LINE_STRING||l==ba.MULTI_POINT?(r=t.getFlatCoordinates(),o=this.appendFlatCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([Wd.CUSTOM,u,o,t,n,Ld])):l==ba.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([Wd.CUSTOM,u,o,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[Wd.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Wd.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,o=e.length,i=-1;for(t=0;t<o;++t)(r=(n=e[t])[0])==Wd.END_GEOMETRY?i=t:r==Wd.BEGIN_GEOMETRY&&(n[2]=t,zo(this.hitDetectionInstructions,i,t),i=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=Qf(r||"#000")}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=Qf(o||"#000");var i=e.getLineCap();n.lineCap=void 0!==i?i:"round";var a=e.getLineDash();n.lineDash=a?a.slice():lf;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Wd.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Wd.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,o=t.lineDash,i=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||o!=t.currentLineDash&&!Yo(t.currentLineDash,o)||t.currentLineDashOffset!=i||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=i,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Wd.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=bi(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;_i(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Ad),qd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bd=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.declutterGroups_=null,i.hitDetectionImage_=null,i.image_=null,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i}return qd(e,t),e.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,i=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([Wd.DRAW_IMAGE,o,i,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Wd.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,i=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([Wd.DRAW_IMAGE,o,i,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Wd.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),o=t.getHitDetectionImage(1),i=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=o,this.image_=i,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(Hd),Xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kd=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return Xd(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var o=this.coordinates.length,i=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[Wd.MOVE_TO_LINE_TO,o,i];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wd.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Gd);var i=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push(zd),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wd.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Gd);for(var i=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,c=0,u=i.length;c<u;++c)l=this.drawFlatCoordinates_(a,l,i[c],s);this.hitDetectionInstructions.push(zd),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(zd),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(zd),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Gd)},e}(Hd);function Vd(t,e,n,r,o,i,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)i[a++]=t[e],i[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var c=[e,n-r],u=0;c.length>0;){for(var h=c.pop(),p=c.pop(),f=0,d=t[p],g=t[p+1],v=t[h],y=t[h+1],m=p+r;m<h;m+=r){var _=ga(t[m],t[m+1],d,g,v,y);_>f&&(u=m,f=_)}f>o&&(l[(u-e)/r]=1,p+r<u&&c.push(p,u),u+r<h&&c.push(u,h))}for(m=0;m<s;++m)l[m]&&(i[a++]=t[e+m*r],i[a++]=t[e+m*r+1]);return a}function Zd(t,e){return e*Math.round(t/e)}function $d(t,e,n,r,o,i,a){if(e==n)return a;var s,l,c=Zd(t[e],o),u=Zd(t[e+1],o);e+=r,i[a++]=c,i[a++]=u;do{if(s=Zd(t[e],o),l=Zd(t[e+1],o),(e+=r)==n)return i[a++]=s,i[a++]=l,a}while(s==c&&l==u);for(;e<n;){var h=Zd(t[e],o),p=Zd(t[e+1],o);if(e+=r,h!=s||p!=l){var f=s-c,d=l-u,g=h-c,v=p-u;f*v==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&v<d||d==v||d>0&&v>d)?(s=h,l=p):(i[a++]=s,i[a++]=l,c=s,u=l,s=h,l=p)}}return i[a++]=s,i[a++]=l,a}function Jd(t,e,n,r,o,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=$d(t,e,u,r,o,i,a),s.push(a),e=u}return a}var Qd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tg=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return Qd(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var o=this.state,i=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(Gd),this.hitDetectionInstructions.push(Gd);for(var l=0;l<s;++l){var c=n[l],u=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,r,!0,!a),p=[Wd.MOVE_TO_LINE_TO,u,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(Yd),this.hitDetectionInstructions.push(Yd)),e=c}return i&&(this.instructions.push(Nd),this.hitDetectionInstructions.push(Nd)),a&&(this.instructions.push(zd),this.hitDetectionInstructions.push(zd)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wd.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wd.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(i,0,i.length,a,!1,!1);var l=[Wd.CIRCLE,s];this.instructions.push(Gd,l),this.hitDetectionInstructions.push(Gd,l),void 0!==n.fillStyle&&(this.instructions.push(Nd),this.hitDetectionInstructions.push(Nd)),void 0!==n.strokeStyle&&(this.instructions.push(zd),this.hitDetectionInstructions.push(zd)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wd.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wd.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,i,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wd.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wd.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,c=0,u=i.length;c<u;++c)l=this.drawFlatCoordinatess_(a,l,i[c],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,o=n.length;r<o;++r)n[r]=Zd(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Hd);function eg(t,e,n,r,o){var i,a,s,l,c,u,h,p,f,d=n,g=n,v=0,y=0,m=n;for(i=n;i<r;i+=o){var _=e[i],b=e[i+1];void 0!==l&&(p=_-l,f=b-c,s=Math.sqrt(p*p+f*f),void 0!==u&&(y+=a,Math.acos((u*p+h*f)/(a*s))>t&&(y>v&&(v=y,d=m,g=i),y=0,m=i-o)),a=s,u=p,h=f),l=_,c=b}return(y+=s)>v?[m,i]:[d,g]}var ng=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rg={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},og={Circle:tg,Default:Hd,Image:Bd,LineString:Kd,Polygon:tg,Text:function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.declutterGroups_,i.labels_=null,i.text_="",i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_="",i.fillKey_="",i.strokeKey_="",uf.prune(),i}return ng(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||r)){var i,a,s=this.coordinates.length,l=t.getType(),c=null,u=2,h=2;if(o.placement===hd.LINE){if(!Bi(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(c=t.getFlatCoordinates(),h=t.getStride(),l==ba.LINE_STRING)p=[c.length];else if(l==ba.MULTI_LINE_STRING)p=t.getEnds();else if(l==ba.POLYGON)p=t.getEnds().slice(0,1);else if(l==ba.MULTI_POLYGON){var f=t.getEndss();for(p=[],i=0,a=f.length;i<a;++i)p.push(f[i][0])}this.beginGeometry(t,e);for(var d=o.textAlign,g=0,v=void 0,y=0,m=p.length;y<m;++y){if(void 0==d){var _=eg(o.maxAngle,c,g,p[y],h);g=_[0],v=_[1]}else v=p[y];for(i=g;i<v;i+=h)this.coordinates.push(c[i],c[i+1]);u=this.coordinates.length,g=p[y];var b=this.declutterGroups_?0===y?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(s,u,b),s=u}this.endGeometry(e)}else{var x=null;switch(o.overflow||(x=[]),l){case ba.POINT:case ba.MULTI_POINT:u=(c=t.getFlatCoordinates()).length;break;case ba.LINE_STRING:c=t.getFlatMidpoint();break;case ba.CIRCLE:c=t.getCenter();break;case ba.MULTI_LINE_STRING:u=(c=t.getFlatMidpoints()).length;break;case ba.POLYGON:c=t.getFlatInteriorPoint(),o.overflow||x.push(c[2]/this.resolution),h=3;break;case ba.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(c=[],i=0,a=w.length;i<a;i+=3)o.overflow||x.push(w[i+2]/this.resolution),c.push(w[i],w[i+1]);if(0==(u=c.length))return}u=this.appendFlatCoordinates(c,0,u,h,!1,!1),this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var E=this.pixelRatio;this.instructions.push([Wd.DRAW_IMAGE,s,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,o.padding==cf?cf:o.padding.map(function(t){return t*E}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.hitDetectionInstructions.push([Wd.DRAW_IMAGE,s,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,o.padding,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var i=this.fillKey_;n&&(i in this.fillStates||(this.fillStates[i]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,o=this.textState_,i=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=rg[o.textBaseline],u=this.textOffsetY_*l,h=this.text_,p=o.scale,f=r?r.lineWidth*p/2:0;this.instructions.push([Wd.DRAW_CHARS,t,e,c,n,o.overflow,s,o.maxAngle,l,u,i,f*l,h,a,1]),this.hitDetectionInstructions.push([Wd.DRAW_CHARS,t,e,c,n,o.overflow,s,o.maxAngle,1,u,i,f,h,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){this.declutterGroups_=e;var i=t.getFill();i?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=Qf(i.getColor()||"#000")):(r=null,this.textFillState_=r);var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var s=a.getLineDash(),l=a.getLineDashOffset(),c=a.getWidth(),u=a.getMiterLimit();o.lineCap=a.getLineCap()||"round",o.lineDash=s?s.slice():lf,o.lineDashOffset=void 0===l?0:l,o.lineJoin=a.getLineJoin()||"round",o.lineWidth=void 0===c?1:c,o.miterLimit=void 0===u?10:u,o.strokeStyle=Qf(a.getColor()||"#000")}else o=null,this.textStrokeState_=o;n=this.textState_;var h=t.getFont()||"10px sans-serif";df(h);var p=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||cf,n.scale=void 0===p?1:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===v?0:v,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Po(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Po(r.fillStyle):""}else this.text_=""},e}(Hd)},ig=function(){function t(t,e,n,r,o){this.declutter_=o,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[[1/0,1/0,-1/0,-1/0]],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var o=n[r].finish();t[e][r]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var o=r[e];void 0===o&&(o=new(0,og[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o);return o},t}();function ag(t,e,n,r,o,i){for(var a=i||[],s=0,l=e;l<n;l+=r){var c=t[l],u=t[l+1];a[s++]=o[0]*c+o[2]*u+o[4],a[s++]=o[1]*c+o[3]*u+o[5]}return i&&a.length!=s&&(a.length=s),a}var sg={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function lg(t,e,n,r){for(var o=t[e],i=t[e+1],a=0,s=e+r;s<n;s+=r){var l=t[s],c=t[s+1];a+=Math.sqrt((l-o)*(l-o)+(c-i)*(c-i)),o=l,i=c}return a}function cg(t,e,n,r,o,i,a,s,l,c,u){for(var h,p,f=[],d=t[e]>t[n-r],g=o.length,v=t[e],y=t[e+1],m=t[e+=r],_=t[e+1],b=0,x=Math.sqrt(Math.pow(m-v,2)+Math.pow(_-y,2)),w=!1,E=0;E<g;++E){for(var O=o[h=d?g-E-1:E],S=s*l(c,O,u),C=i+S/2;e<n-r&&b+x<C;)v=m,y=_,m=t[e+=r],_=t[e+1],b+=x,x=Math.sqrt(Math.pow(m-v,2)+Math.pow(_-y,2));var T=C-b,I=Math.atan2(_-y,m-v);if(d&&(I+=I>0?-Math.PI:Math.PI),void 0!==p){var P=I-p;if(w=w||0!==P,P+=P>Math.PI?-2*Math.PI:P<-Math.PI?2*Math.PI:0,Math.abs(P)>a)return null}p=I;var R=T/x,M=_a(v,m,R),F=_a(y,_,R);f[h]=[M,F,S/2,I,O],i+=S}return w?f:[[f[0][0],f[0][1],f[0][2],f[0][3],o]]}var ug=n("1c98b5ebc0a1076f8a67"),hg=n.n(ug),pg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fg=[1/0,1/0,-1/0,-1/0],dg=[1,0,0,1,0,0],gg=[],vg=[],yg=[],mg=[],_g=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.overlaps=r,i.pixelRatio=n,i.resolution=e,i.alignFill_,i.declutterItems=[],i.instructions=o.instructions,i.coordinates=o.coordinates,i.coordinateCache_={},i.renderedTransform_=[1,0,0,1,0,0],i.hitDetectionInstructions=o.hitDetectionInstructions,i.pixelCoordinates_=null,i.viewRotation_=0,i.fillStates=o.fillStates||{},i.strokeStates=o.strokeStates||{},i.textStates=o.textStates||{},i.widths_={},i}return pg(e,t),e.prototype.disposeInternal=function(){uf.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,r){var o,i=r+e+t+n+this.pixelRatio;if(!uf.containsKey(i)){var a=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,l=this.textStates[e],c=this.pixelRatio,u=l.scale*c,h=rg[l.textAlign||"center"],p=r&&a.lineWidth?a.lineWidth:0,f=t.split("\n"),d=f.length,g=[],v=function(t,e,n){for(var r=e.length,o=0,i=0;i<r;++i){var a=_f(t,e[i]);o=Math.max(o,a),n.push(a)}return o}(l.font,f,g),y=mf(l.font),m=y*d,_=v+p,b=ei(Math.ceil((_+2)*u),Math.ceil((m+p)*u));o=b.canvas,uf.set(i,o),1!=u&&b.scale(u,u),b.font=l.font,r&&(b.strokeStyle=a.strokeStyle,b.lineWidth=p,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.setLineDash&&a.lineDash.length&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset)),n&&(b.fillStyle=s.fillStyle),b.textBaseline="middle",b.textAlign="center";var x=.5-h,w=h*_+x*p,E=void 0;if(r)for(E=0;E<d;++E)b.strokeText(f[E],w+x*g[E],.5*(p+y)+E*y);if(n)for(E=0;E<d;++E)b.fillText(f[E],w+x*g[E],.5*(p+y)+E*y)}return uf.get(i,this)},e.prototype.replayTextBackground_=function(t,e,n,r,o,i,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),i&&(this.alignFill_=i[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,r,o,i,a,s,l,c,u,h,p,f,d,g,v,y){var m=v||y;e-=o*=p,n-=i*=p;var _=d+c>r.width?r.width-c:d,b=s+u>r.height?r.height-u:s,x=g[3]+_*p+g[1],w=g[0]+b*p+g[2],E=e-g[3],O=n-g[0];(m||0!==h)&&(gg[0]=E,mg[0]=E,gg[1]=O,vg[1]=O,vg[0]=E+x,yg[0]=vg[0],yg[1]=O+w,mg[1]=yg[1]);var S=null;if(0!==h){var C=e+o,T=n+i;S=ef(dg,C,T,1,1,h,-C,-T),tf(dg,gg),tf(dg,vg),tf(dg,yg),tf(dg,mg),Ti(Math.min(gg[0],vg[0],yg[0],mg[0]),Math.min(gg[1],vg[1],yg[1],mg[1]),Math.max(gg[0],vg[0],yg[0],mg[0]),Math.max(gg[1],vg[1],yg[1],mg[1]),fg)}else Ti(E,O,E+x,O+w,fg);var I=t.canvas,P=y?y[2]*p/2:0,R=fg[0]-P<=I.width&&fg[2]+P>=0&&fg[1]-P<=I.height&&fg[3]+P>=0;if(f&&(e=Math.round(e),n=Math.round(n)),a){if(!R&&1==a[4])return;Ri(a,fg);var M=R?[t,S?S.slice(0):null,l,r,c,u,_,b,e,n,p]:null;M&&(m&&M.push(v,y,gg,vg,yg,mg),a.push(M))}else R&&(m&&this.replayTextBackground_(t,gg,vg,yg,mg,v,y),Ef(t,S,l,r,c,u,_,b,e,n,p))},e.prototype.fill_=function(t){if(this.alignFill_){var e=tf(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,r){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(r||(r=new hg.a(9)),!r.collides(i)){r.insert(i);for(var a=5,s=t.length;a<s;++a){var l=t[a],c=l[0],u=c.globalAlpha;u!==n&&(c.globalAlpha=n),l.length>11&&this.replayTextBackground_(l[0],l[13],l[14],l[15],l[16],l[11],l[12]),Ef.apply(void 0,l),u!==n&&(c.globalAlpha=u)}}t.length=5,Ii(t)}}return r},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,r){var o=this.textStates[e],i=this.getTextImage(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,l=rg[o.textAlign||"center"],c=rg[o.textBaseline||"middle"],u=a&&a.lineWidth?a.lineWidth:0;return{label:i,anchorX:l*(i.width/s-2*o.scale)+2*(.5-l)*u,anchorY:c*i.height/s+2*(.5-c)*u}},e.prototype.execute_=function(t,e,n,r,o,i){var a,s,l;this.declutterItems.length=0,this.pixelCoordinates_&&Yo(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=ag(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),s=this.renderedTransform_,l=e,s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5]);for(var c,u,h,p,f,d,g,v,y,m,_,b,x,w,E,O,S,C=0,T=n.length,I=0,P=0,R=0,M=null,F=null,L=this.coordinateCache_,D=this.viewRotation_,k=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,A={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},j=this.instructions!=n||this.overlaps?0:200;C<T;){var N=n[C];switch(N[0]){case Wd.BEGIN_GEOMETRY:(E=N[1]).getGeometry()?void 0===i||Bi(i,N[3])?++C:C=N[2]+1:C=N[2];break;case Wd.BEGIN_PATH:P>j&&(this.fill_(t),P=0),R>j&&(t.stroke(),R=0),P||R||(t.beginPath(),p=NaN,f=NaN),++C;break;case Wd.CIRCLE:var z=a[I=N[1]],G=a[I+1],Y=a[I+2]-z,W=a[I+3]-G,U=Math.sqrt(Y*Y+W*W);t.moveTo(z+U,G),t.arc(z,G,U,0,2*Math.PI,!0),++C;break;case Wd.CLOSE_PATH:t.closePath(),++C;break;case Wd.CUSTOM:I=N[1],c=N[2];var H=N[3],q=N[4],B=6==N.length?N[5]:void 0;A.geometry=H,A.feature=E,C in L||(L[C]=[]);var X=L[C];B?B(a,I,c,2,X):(X[0]=a[I],X[1]=a[I+1],X.length=2),q(X,A),++C;break;case Wd.DRAW_IMAGE:I=N[1],c=N[2],m=N[3],u=N[4],h=N[5],y=o?null:N[6];var K=N[7],V=N[8],Z=N[9],$=N[10],J=N[11],Q=N[12],tt=N[13],et=N[14];if(!m&&N.length>=19){_=N[18],b=N[19],x=N[20],w=N[21];var nt=this.drawTextImageWithPointPlacement_(_,b,x,w);m=nt.label,N[3]=m;var rt=N[22];u=(nt.anchorX-rt)*this.pixelRatio,N[4]=u;var ot=N[23];h=(nt.anchorY-ot)*this.pixelRatio,N[5]=h,K=m.height,N[7]=K,et=m.width,N[14]=et}var it=void 0;N.length>24&&(it=N[24]);var at=void 0,st=void 0,lt=void 0;N.length>16?(at=N[15],st=N[16],lt=N[17]):(at=cf,st=!1,lt=!1),J&&k?Q+=D:J||k||(Q-=D);for(var ct=0,ut=0;I<c;I+=2)if(!(it&&it[ct++]<et/this.pixelRatio)){if(y){var ht=Math.floor(ut);y.length<ht+1&&((v=[1/0,1/0,-1/0,-1/0]).push(y[0][4]),y.push(v)),v=y[ht]}this.replayImage_(t,a[I],a[I+1],m,u,h,v,K,V,Z,$,Q,tt,r,et,at,st?M:null,lt?F:null),v&&(ut===Math.floor(ut)&&this.declutterItems.push(this,v,E),ut+=1/v[4])}++C;break;case Wd.DRAW_CHARS:var pt=N[1],ft=N[2],dt=N[3];v=o?null:N[4];var gt=N[5];w=N[6];var vt=N[7],yt=N[8],mt=N[9];x=N[10];var _t=N[11];_=N[12],b=N[13];var bt=N[14],xt=this.textStates[b],wt=xt.font,Et=xt.scale*yt,Ot=void 0;wt in this.widths_?Ot=this.widths_[wt]:(Ot={},this.widths_[wt]=Ot);var St=lg(a,pt,ft,2),Ct=Et*bf(wt,_,Ot);if(gt||Ct<=St){var Tt=this.textStates[b].textAlign,It=cg(a,pt,ft,2,_,(St-Ct)*rg[Tt],vt,Et,bf,wt,Ot);if(It){var Pt=void 0,Rt=void 0,Mt=void 0,Ft=void 0,Lt=void 0;if(x)for(Pt=0,Rt=It.length;Pt<Rt;++Pt)Mt=(Lt=It[Pt])[4],Ft=this.getTextImage(Mt,b,"",x),u=Lt[2]+_t,h=dt*Ft.height+2*(.5-dt)*_t-mt,this.replayImage_(t,Lt[0],Lt[1],Ft,u,h,v,Ft.height,1,0,0,Lt[3],bt,!1,Ft.width,cf,null,null);if(w)for(Pt=0,Rt=It.length;Pt<Rt;++Pt)Mt=(Lt=It[Pt])[4],Ft=this.getTextImage(Mt,b,w,""),u=Lt[2],h=dt*Ft.height-mt,this.replayImage_(t,Lt[0],Lt[1],Ft,u,h,v,Ft.height,1,0,0,Lt[3],bt,!1,Ft.width,cf,null,null)}}this.declutterItems.push(this,v,E),++C;break;case Wd.END_GEOMETRY:if(void 0!==o){var Dt=o(E=N[1]);if(Dt)return Dt}++C;break;case Wd.FILL:j?P++:this.fill_(t),++C;break;case Wd.MOVE_TO_LINE_TO:for(I=N[1],c=N[2],O=a[I],g=(S=a[I+1])+.5|0,(d=O+.5|0)===p&&g===f||(t.moveTo(O,S),p=d,f=g),I+=2;I<c;I+=2)d=(O=a[I])+.5|0,g=(S=a[I+1])+.5|0,I!=c-2&&d===p&&g===f||(t.lineTo(O,S),p=d,f=g);++C;break;case Wd.SET_FILL_STYLE:M=N,this.alignFill_=N[2],P&&(this.fill_(t),P=0,R&&(t.stroke(),R=0)),t.fillStyle=N[1],++C;break;case Wd.SET_STROKE_STYLE:F=N,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,N),++C;break;case Wd.STROKE:j?R++:t.stroke(),++C;break;default:++C}}P&&this.fill_(t),R&&t.stroke()},e.prototype.execute=function(t,e,n,r){this.viewRotation_=n,this.execute_(t,e,this.instructions,r,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,r,o){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,r,o)},e}(Ao),bg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xg=[sg.POLYGON,sg.CIRCLE,sg.LINE_STRING,sg.IMAGE,sg.TEXT,sg.DEFAULT],wg=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=o,s.pixelRatio_=r,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=[1,0,0,1,0,0],s.createExecutors_(i),s}return bg(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var o in r){var i=r[o];n[o]=new _g(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var r in n)n[r].disposeInternal()}if(this.hitDetectionContext_){var o=this.hitDetectionContext_.canvas;o.width=0,o.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,o=t.length;r<o;++r)if(t[r]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,i){var a=2*(r=Math.round(r))+1,s=ef(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=ei(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(Mi(l=[1/0,1/0,-1/0,-1/0],t),_i(l,e*(this.renderBuffer_+r),l));var u,h=function(t){if(void 0!==Eg[t])return Eg[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);var o=t,i=0,a=0;for(;o>=i;)Og(n,t+o,t+i),Og(n,t+i,t+o),Og(n,t-i,t+o),Og(n,t-o,t+i),Og(n,t-o,t-i),Og(n,t-i,t-o),Og(n,t+i,t-o),Og(n,t+o,t-i),2*((a+=1+2*++i)-o)+1>0&&(a+=1-2*(o-=1));return Eg[t]=n,n}(r);function p(t){for(var e=c.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var r=0;r<a;r++)if(h[n][r]&&e[4*(r*a+n)+3]>0){var s=void 0;return(!i||u!=sg.IMAGE&&u!=sg.TEXT||-1!==i.indexOf(t))&&(s=o(t)),s||void c.clearRect(0,0,a,a)}}var f,d,g,v,y,m=Object.keys(this.executorsByZIndex_).map(Number);for(m.sort(jo),f=m.length-1;f>=0;--f){var _=m[f].toString();for(g=this.executorsByZIndex_[_],d=xg.length-1;d>=0;--d)if(void 0!==(v=g[u=xg[d]])&&(y=v.executeHitDetection(c,s,n,p,l)))return y}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],o=e[2],i=e[3],a=[n,r,n,i,o,i,o,r];return ag(a,0,8,2,t,a),a},e.prototype.isEmpty=function(){return Vo(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,r,o,i){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(jo),this.maxExtent_&&(t.save(),this.clip(t,e));var s,l,c,u,h,p,f=o||xg;for(s=0,l=a.length;s<l;++s){var d=a[s].toString();for(h=this.executorsByZIndex_[d],c=0,u=f.length;c<u;++c){var g=f[c];if(void 0!==(p=h[g]))if(!i||g!=sg.IMAGE&&g!=sg.TEXT)p.execute(t,e,n,r);else{var v=i[d];v?v.push(p,e.slice(0)):i[d]=[p,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(Ao),Eg={0:[[!0]]};function Og(t,e,n){var r,o=Math.floor(t.length/2);if(e>=o)for(r=o;r<e;r++)t[r][n]=!0;else if(e<o)for(r=e+1;r<o;r++)t[r][n]=!0}var Sg=wg,Cg=.5,Tg={Point:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=ci.LOADED)return;var i=t.getBuilder(n.getZIndex(),sg.IMAGE);i.setImageStyle(o,t.addDeclutter(!1)),i.drawPoint(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sg.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,r)}},LineString:function(t,e,n,r){var o=n.getStroke();if(o){var i=t.getBuilder(n.getZIndex(),sg.LINE_STRING);i.setFillStrokeStyle(null,o),i.drawLineString(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sg.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},Polygon:function(t,e,n,r){var o=n.getFill(),i=n.getStroke();if(o||i){var a=t.getBuilder(n.getZIndex(),sg.POLYGON);a.setFillStrokeStyle(o,i),a.drawPolygon(e,r)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),sg.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},MultiPoint:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=ci.LOADED)return;var i=t.getBuilder(n.getZIndex(),sg.IMAGE);i.setImageStyle(o,t.addDeclutter(!1)),i.drawMultiPoint(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sg.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,r)}},MultiLineString:function(t,e,n,r){var o=n.getStroke();if(o){var i=t.getBuilder(n.getZIndex(),sg.LINE_STRING);i.setFillStrokeStyle(null,o),i.drawMultiLineString(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),sg.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},MultiPolygon:function(t,e,n,r){var o=n.getFill(),i=n.getStroke();if(i||o){var a=t.getBuilder(n.getZIndex(),sg.POLYGON);a.setFillStrokeStyle(o,i),a.drawMultiPolygon(e,r)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),sg.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r){var o,i,a=e.getGeometriesArray();for(o=0,i=a.length;o<i;++o){var s=Tg[a[o].getType()];s(t,a[o],n,r)}},Circle:function(t,e,n,r){var o=n.getFill(),i=n.getStroke();if(o||i){var a=t.getBuilder(n.getZIndex(),sg.CIRCLE);a.setFillStrokeStyle(o,i),a.drawCircle(e,r)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),sg.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}}};function Ig(t,e){return parseInt(Po(t),10)-parseInt(Po(e),10)}function Pg(t,e){var n=Rg(t,e);return n*n}function Rg(t,e){return Cg*t/e}function Mg(t,e,n,r,o,i){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==ci.LOADED||l==ci.ERROR?s.unlistenImageChange(o):(l==ci.IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(o),a=!0)}return function(t,e,n,r,o){var i=n.getGeometryFunction()(e);if(!i)return;var a=i.simplifyTransformed(r,o);if(n.getRenderer())!function t(e,n,r,o){if(n.getType()==ba.GEOMETRY_COLLECTION){for(var i=n.getGeometries(),a=0,s=i.length;a<s;++a)t(e,i[a],r,o);return}var l=e.getBuilder(r.getZIndex(),sg.DEFAULT);l.drawCustom(n,o,r.getRenderer())}(t,a,n,e);else{var s=Tg[a.getType()];s(t,a,n,e)}}(t,e,n,r,i),a}var Fg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lg=[1,0,0,1,0,0],Dg=function(t){function e(){var e,n,r,o,i,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},i=!1,function(){var t=Array.prototype.slice.call(arguments);return i&&this===o&&Yo(t,r)||(i=!0,o=this,r=t,n=e.apply(this,arguments)),n}),a}return Fg(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return To()},e.prototype.closestPointXY=function(t,e,n,r){return To()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return To()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){To()},e.prototype.scale=function(t,e,n){To()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return To()},e.prototype.getType=function(){return To()},e.prototype.applyTransform=function(t){To()},e.prototype.intersectsExtent=function(t){return To()},e.prototype.translate=function(t,e){To()},e.prototype.transform=function(t,e){var n=Xa(t),r=n.getUnits()==Sa.TILE_PIXELS?function(t,r,o){var i=n.getExtent(),a=n.getWorldExtent(),s=Yi(a)/Yi(i);return ef(Lg,a[0],a[3],s,-s,0,0,0),ag(t,0,t.length,o,Lg,r),ts(n,e)(t,r,o)}:ts(n,e);return this.applyTransform(r),this},e}(Rs),kg={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},Ag=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function jg(t){var e;return t==kg.XY?e=2:t==kg.XYZ||t==kg.XYM?e=3:t==kg.XYZM&&(e=4),e}var Ng=function(t){function e(){var e=t.call(this)||this;return e.layout=kg.XY,e.stride=2,e.flatCoordinates=null,e}return Ag(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=0,r=this.flatCoordinates.length,o=this.stride,Li(Ii(t),e,n,r,o);var e,n,r,o},e.prototype.getCoordinates=function(){return To()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=jg(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){To()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=jg(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=kg.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=kg.XY:3==t?e=kg.XYZ:4==t&&(e=kg.XYZM);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,o,i,a){for(var s=a||[],l=Math.cos(o),c=Math.sin(o),u=i[0],h=i[1],p=0,f=e;f<n;f+=r){var d=t[f]-u,g=t[f+1]-h;s[p++]=u+d*l-g*c,s[p++]=h+d*c+g*l;for(var v=f+2;v<f+r;++v)s[p++]=t[v]}a&&s.length!=p&&(s.length=p)}(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var o=n;o||(o=Ni(this.getExtent()));var i=this.getFlatCoordinates();if(i){var a=this.getStride();!function(t,e,n,r,o,i,a,s){for(var l=s||[],c=a[0],u=a[1],h=0,p=e;p<n;p+=r){var f=t[p]-c,d=t[p+1]-u;l[h++]=c+o*f,l[h++]=u+i*d;for(var g=p+2;g<p+r;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(i,0,i.length,a,t,r,o,i),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,o,i,a){for(var s=a||[],l=0,c=e;c<n;c+=r){s[l++]=t[c]+o,s[l++]=t[c+1]+i;for(var u=c+2;u<c+r;++u)s[l++]=t[u]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,r,t,e,n),this.changed()}},e}(Dg),zg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gg=function(t){function e(e,n,r,o,i,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=r,l.transform_=o,l.viewRotation_=i,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return zg(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var o=ag(t,e,n,2,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,s=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=o.length;c<u;c+=2){var h=o[c]-this.imageAnchorX_,p=o[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;ef(a,f,d,this.imageScale_,this.imageScale_,l,-f,-d),i.setTransform.apply(i,a)}i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||i.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(i.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=ag(t,e,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=ef(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);i.setTransform.apply(i,c)}this.textStrokeState_&&i.strokeText(this.text_,s,l),this.textFillState_&&i.fillText(this.text_,s,l)}0===a&&1==this.textScale_||i.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,r,o){var i=this.context_,a=ag(t,e,n,r,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)i.lineTo(a[l],a[l+1]);return o&&i.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var o=0,i=n.length;o<i;++o)e=this.moveToLineTo_(t,e,n[o],r,!0);return e},e.prototype.drawCircle=function(t){if(Bi(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var o=t.getStride();return ag(r,0,r.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(n*n+r*r),i=this.context_;i.beginPath(),i.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case ba.POINT:this.drawPoint(t);break;case ba.LINE_STRING:this.drawLineString(t);break;case ba.POLYGON:this.drawPolygon(t);break;case ba.MULTI_POINT:this.drawMultiPoint(t);break;case ba.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case ba.MULTI_POLYGON:this.drawMultiPolygon(t);break;case ba.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case ba.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Bi(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Bi(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),o=0,i=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=i.length;s<l;++s)o=this.moveToLineTo_(r,o,i[s],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),i=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];r=this.drawRings_(n,r,l,i)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Yo(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Qf(n||"#000")}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),i=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:i||lf,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==c?c:10,strokeStyle:Qf(r||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Qf(n||"#000")}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),i=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),c=r.getWidth(),u=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:"round",lineDash:a||lf,lineDashOffset:s||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==u?u:10,strokeStyle:Qf(o||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),y=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==m?m:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(Ad);function Yg(t,e,n){var r=[];if(n){var o=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),i=n.data[o],a=n.data[o+1],s=n.data[o+2]+256*(a+256*i),l=Math.ceil(16777216/e.length);s%l===0&&r.push(e[s/l])}return r}var Wg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ug=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return Wg(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){Qp(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),nf(this.inversePixelTransform,this.pixelTransform);var o=rf(this.pixelTransform);this.useContainer(e,o,r.opacity);var i=this.context,a=i.canvas,s=this.replayGroup_;if(!s||s.isEmpty())return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||i.clearRect(0,0,l,c),this.preRender(i,t);var u=t.extent,h=t.viewState,p=h.center,f=h.resolution,d=h.projection,g=h.rotation,v=d.getExtent(),y=this.getLayer().getSource(),m=!1;if(r.extent){var _=hs(r.extent,d);(m=!Ei(_,t.extent)&&Bi(_,t.extent))&&this.clip(i,t,_)}var b=t.viewHints,x=!(b[Md]||b[Fd]),w=this.getRenderTransform(p,f,g,n,l,c,0),E=this.getLayer().getDeclutter()?{}:null;if(s.execute(i,w,g,x,void 0,E),y.getWrapX()&&d.canWrapX()&&!Ei(v,u)){for(var O=u[0],S=qi(v),C=0,T=void 0;O<v[0];){T=S*--C;var I=this.getRenderTransform(p,f,g,n,l,c,T);s.execute(i,I,g,x,void 0,E),O+=S}for(C=0,O=u[2];O>v[2];){T=S*++C;var P=this.getRenderTransform(p,f,g,n,l,c,T);s.execute(i,P,g,x,void 0,E),O-=S}}if(E){var R=t.viewHints;!function(t,e,n,r,o,i){for(var a=Object.keys(t).map(Number).sort(jo),s=0,l=a.length;s<l;++s)for(var c=t[a[s].toString()],u=void 0,h=0,p=c.length;h<p;){var f=c[h++];f!==u&&(u=f,i.push({items:f.declutterItems,opacity:r}));var d=c[h++];f.execute(e,d,n,o)}}(E,i,g,1,!(R[Md]||R[Fd]),t.declutterItems)}m&&i.restore(),this.postRender(i,t);var M=r.opacity,F=this.container;return M!==parseFloat(F.style.opacity)&&(F.style.opacity=1===M?"":M),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){this.hitDetectionImageData_||this.animatingOrInteracting_?e(Yg(t,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];tf(this.pixelTransform,n);var r=this.renderedCenter_,o=this.renderedResolution_,i=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,l=this.getLayer(),c=[],u=n[0]/2,h=n[1]/2;c.push(this.getRenderTransform(r,o,i,.5,u,h,0).slice());var p=l.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!Ei(f,s)){for(var d=s[0],g=qi(f),v=0,y=void 0;d<f[0];)y=g*--v,c.push(this.getRenderTransform(r,o,i,.5,u,h,y).slice()),d+=g;for(v=0,d=s[2];d>f[2];)y=g*++v,c.push(this.getRenderTransform(r,o,i,.5,u,h,y).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,r,o,i,a){var s=ei(t[0]/2,t[1]/2);s.imageSmoothingEnabled=!1;for(var l=s.canvas,c=new Gg(s,.5,o,null,a),u=n.length,h=Math.ceil(16777216/u),p={},f=0;f<u;++f){var d=n[f],g=d.getStyleFunction()||r;if(r){var v=g(d,i);Array.isArray(v)||(v=[v]);for(var y="#"+("000000"+(f*h).toString(16)).slice(-6),m=0,_=v.length;m<_;++m){var b=v[m],x=b.clone(),w=x.getFill();w&&w.setColor(y);var E=x.getStroke();E&&E.setColor(y),x.setText(void 0);var O=b.getImage();if(O){var S=O.getImageSize(),C=document.createElement("canvas");C.width=S[0],C.height=S[1];var T=C.getContext("2d",{alpha:!1});T.fillStyle=y;var I=T.canvas;T.fillRect(0,0,I.width,I.height),ei(S?S[0]:I.width,S?S[1]:I.height).drawImage(I,0,0),x.setImage(new Jf({img:I,imgSize:S,anchor:O.getAnchor(),anchorXUnits:Uf.PIXELS,anchorYUnits:Uf.PIXELS,offset:O.getOrigin(),size:O.getSize(),opacity:O.getOpacity(),scale:O.getScale(),rotation:O.getRotation(),rotateWithView:O.getRotateWithView()}))}var P=Number(x.getZIndex());(L=p[P])||(L={},p[P]=L,L[ba.POLYGON]=[],L[ba.CIRCLE]=[],L[ba.LINE_STRING]=[],L[ba.POINT]=[]);var R=x.getGeometryFunction()(d);R&&Bi(o,R.getExtent())&&L[R.getType().replace("Multi","")].push(R,x)}}}for(var M=Object.keys(p).map(Number).sort(jo),F=(f=0,M.length);f<F;++f){var L=p[M[f]];for(var D in L){var k=L[D];for(m=0,_=k.length;m<_;m+=2){c.setStyle(k[m+1]);for(var A=0,j=e.length;A<j;++A)c.setTransform(e[A]),c.drawGeometry(k[m])}}}return s.getImageData(0,0,l.width,l.height)}(n,c,this.renderedFeatures_,l.getStyleFunction(),s,o,i),e(Yg(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_){var i=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,i,a,n,function(t){var e=Po(t);if(!(e in l))return l[e]=!0,r(t,s)},s.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),r=t.viewHints[Md],o=t.viewHints[Fd],i=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!i&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,c=l.projection,u=l.resolution,h=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Ig);var g=l.center.slice(),v=_i(s,f*u),y=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!Ei(y,t.extent)){var m=qi(y),_=Math.max(qi(v)/2,m);v[0]=y[0]-_,v[2]=y[2]+_;var b=Math.floor((g[0]-y[0])/m);g[0]-=b*m}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&Ei(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var x,w=new ig(Rg(u,h),v,u,h,e.getDeclutter()),E=ss();E?(n.loadFeatures(us(v,c),u,E),x=Qa(E,c)):n.loadFeatures(v,u,c);var O=Pg(u,h),S=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,u)),n){var o=this.renderFeature(t,O,n,w,x);this.dirty_=this.dirty_||o}}.bind(this),C=us(v,c),T=n.getFeaturesInExtent(C);d&&T.sort(d);for(var I=0,P=T.length;I<P;++I)S(T[I]);this.renderedFeatures_=T;var R=w.finish(),M=new Sg(v,u,h,n.getOverlaps(),R,e.getRenderBuffer());return this.renderedResolution_=u,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=v,this.renderedRotation_=l.rotation,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=M,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,o){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)i=Mg(r,t,n[a],e,this.boundHandleStyleImageChange_,o)||i;else i=Mg(r,t,n,e,this.boundHandleStyleImageChange_,o);return i},e}(Tf),Hg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qg=function(t){function e(e){return t.call(this,e)||this}return Hg(e,t),e.prototype.createRenderer=function(){return new Ug(this)},e}(Rd),Bg={ADD:"add",REMOVE:"remove"},Xg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kg="length",Vg=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.element=n,o.index=r,o}return Xg(e,t),e}(qo),Zg=function(t){function e(e,n){var r=t.call(this)||this,o=n||{};if(r.unique_=!!o.unique,r.array_=e||[],r.unique_)for(var i=0,a=r.array_.length;i<a;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return Xg(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Kg)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Vg(Bg.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Vg(Bg.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Vg(Bg.REMOVE,r,t)),this.dispatchEvent(new Vg(Bg.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Kg,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new di(58)},e}(Rs),$g={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Jg=!1;function Qg(t,e){return function(t,e,n,r){return function(o,i,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(o,i,a):t,!0),e.getType()==$g.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=Jg,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i=e.getType(),l=void 0;i==$g.JSON||i==$g.TEXT?l=s.responseText:i==$g.XML?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):i==$g.ARRAY_BUFFER&&(l=s.response),l?n.call(this,e.readFeatures(l,{extent:o,featureProjection:a}),e.readProjection(l)):r.call(this)}else r.call(this)}.bind(this),s.onerror=function(){r.call(this)}.bind(this),s.send()}}(t,e,function(t,e){"function"===typeof this.addFeatures&&this.addFeatures(t)},Ho)}function tv(t,e){return[[-1/0,-1/0,1/0,1/0]]}var ev,nv="addfeature",rv="changefeature",ov="clear",iv="removefeature",av=function(){function t(t){this.rbush_=new hg.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Po(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var i=t[r],a=e[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:a};n[r]=s,this.items_[Po(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Po(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Po(e)];Pi([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,o=t.length;r<o;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return Vo(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Ti(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),sv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lv=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return sv(e,t),e}(qo),cv=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:Ms.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=Ho,n.format_=r.format,n.overlaps_=void 0==r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(gi(n.format_,7),n.loader_=Qg(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:tv;var o,i,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new av:null,n.loadedExtentsRtree_=new av,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(i=(o=r.features).getArray()),a||void 0!==o||(o=new Zg(i)),void 0!==i&&n.addFeaturesInternal(i),void 0!==o&&n.bindFeaturesCollection_(o),n}return sv(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Po(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new lv(nv,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[ui(e,Jo.CHANGE,this.handleFeatureChange_,this),ui(e,ws,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(gi(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,i=t.length;o<i;o++){var a=Po(l=t[o]);this.addToIndex_(a,l)&&n.push(l)}o=0;for(var s=n.length;o<s;o++){var l;a=Po(l=n[o]);this.setupChangeEvents_(a,l);var c=l.getGeometry();if(c){var u=c.getExtent();e.push(u),r.push(l)}else this.nullGeometryFeatures_[a]=l}this.featuresRtree_&&this.featuresRtree_.load(e,r);o=0;for(var h=n.length;o<h;o++)this.dispatchEvent(new lv(nv,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(nv,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(iv,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Bg.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Bg.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(pi)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new lv(ov);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Vo(this.nullGeometryFeatures_)||Go(t,Ko(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],o=null,i=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||Wo;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,r,i,a))<c){o=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=r-u,s[2]=n+u,s[3]=r+u}}}),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Po(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var i=e.getId();if(void 0!==i){var a=i.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new lv(rv,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Po(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Vo(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var i=function(t,i){var s=o[t];r.forEachInExtent(s,function(t){return Ei(t.extent,s)})||(a.loader_.call(a,s,e,n),r.insert(s,{extent:s.slice()}),a.loading=a.loader_!==Ho)},a=this,s=0,l=o.length;s<l;++s)i(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Pi(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Po(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Po(t);this.featureChangeKeys_[e].forEach(pi),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new lv(iv,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){gi(this.format_,7),this.setLoader(Qg(t,this.format_))},e}(Ds);function uv(t){return(uv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return(pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fv(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=dv(t);if(e){var o=dv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===uv(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function dv(t){return(dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gv=Object(o.createContext)(),vv=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pv(t,e)}(a,i.a.PureComponent);var e,n,r,o=fv(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).features=[],e.vectorSource=null,e.layer=null,e}return e=a,(n=[{key:"componentDidMount",value:function(){this.vectorSource=new cv({features:this.features}),this.layer=new qg({source:this.vectorSource}),this.context.layers.push(this.layer)}},{key:"componentWillUnmount",value:function(){console.log("Vector layer is unmount!")}},{key:"render",value:function(){return function(t,e,n,r){ev||(ev="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:ev,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(gv.Provider,{value:this},void 0,this.props.children)}}])&&hv(e.prototype,n),r&&hv(e,r),a}();vv.contextType=kf;var yv={Tile:Td,Vector:vv},mv=Tp;function _v(t,e,n){return function(r,o,i,a){if(r){var s=e?0:i[0]*o,l=e?0:i[1]*o,c=t[0]+s/2,u=t[2]-s/2,h=t[1]+l/2,p=t[3]-l/2;c>u&&(u=c=(u+c)/2),h>p&&(p=h=(p+h)/2);var f=fa(r[0],c,u),d=fa(r[1],h,p),g=30*o;return a&&n&&(f+=-g*Math.log(1+Math.max(0,c-r[0])/g)+g*Math.log(1+Math.max(0,r[0]-u)/g),d+=-g*Math.log(1+Math.max(0,h-r[1])/g)+g*Math.log(1+Math.max(0,r[1]-p)/g)),[f,d]}}}function bv(t){return t}function xv(t,e,n){var r=qi(e)/n[0],o=Yi(e)/n[1];return Math.min(t,Math.min(r,o))}function wv(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),fa(r,n/2,2*e)}function Ev(t,e,n,r){return function(o,i,a,s){if(void 0!==o){var l=r?xv(t,r,a):t;return(void 0===n||n)&&s?wv(o,l,e):fa(o,e,l)}}}function Ov(t){return void 0!==t?0:void 0}function Sv(t){return void 0!==t?t:void 0}var Cv="center",Tv="resolution",Iv="rotation";function Pv(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Rv(t,e){var n=Math.cos(e),r=Math.sin(e),o=t[0]*n-t[1]*r,i=t[1]*n+t[0]*r;return t[0]=o,t[1]=i,t}function Mv(t,e,n,r){for(var o=0,i=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];o+=a*s-i*l,i=s,a=l}return o/2}function Fv(t,e,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=Mv(t,e,s,r),e=s}return o}function Lv(t,e,n,r,o,i,a){var s,l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;if(0===u&&0===h)s=e;else{var p=((o-l)*u+(i-c)*h)/(u*u+h*h);if(p>1)s=n;else{if(p>0){for(var f=0;f<r;++f)a[f]=_a(t[e+f],t[n+f],p);return void(a.length=r)}s=e}}for(f=0;f<r;++f)a[f]=t[s+f];a.length=r}function Dv(t,e,n,r,o){var i=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],l=t[e+1],c=va(i,a,s,l);c>o&&(o=c),i=s,a=l}return o}function kv(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=Dv(t,e,s,r,o),e=s}return o}function Av(t,e,n,r,o,i,a,s,l,c,u){if(e==n)return c;var h,p;if(0===o){if((p=va(a,s,t[e],t[e+1]))<c){for(h=0;h<r;++h)l[h]=t[e+h];return l.length=r,p}return c}for(var f=u||[NaN,NaN],d=e+r;d<n;)if(Lv(t,d-r,d,r,a,s,f),(p=va(a,s,f[0],f[1]))<c){for(c=p,h=0;h<r;++h)l[h]=f[h];l.length=r,d+=r}else d+=r*Math.max((Math.sqrt(p)-Math.sqrt(c))/o|0,1);if(i&&(Lv(t,n-r,e,r,a,s,f),(p=va(a,s,f[0],f[1]))<c)){for(c=p,h=0;h<r;++h)l[h]=f[h];l.length=r}return c}function jv(t,e,n,r,o,i,a,s,l,c,u){for(var h=u||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];c=Av(t,e,d,r,o,i,a,s,l,c,h),e=d}return c}function Nv(t,e,n,r){for(var o=0,i=n.length;o<i;++o)for(var a=n[o],s=0;s<r;++s)t[e++]=a[s];return e}function zv(t,e,n,r,o){for(var i=o||[],a=0,s=0,l=n.length;s<l;++s){var c=Nv(t,e,n[s],r);i[a++]=c,e=c}return i.length=a,i}var Gv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yv=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return Gv(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<xi(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Av(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Ld(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,kg.XY)},e.prototype.getType=function(){return ba.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Nv(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Ng),Wv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uv=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return Wv(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var o=this.flatCoordinates,i=va(t,e,o[0],o[1]);if(i<r){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,i}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=t,r=e[0],o=e[1],Ti(r,o,r,o,n);var e,n,r,o},e.prototype.getType=function(){return ba.POINT},e.prototype.intersectsExtent=function(t){return Oi(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var o=0,i=n.length;o<i;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Ng);function Hv(t,e,n,r,o){return!function(t,e){var n;return(n=e(Ai(t)))?n:(n=e(ji(t)))?n:(n=e(Hi(t)))?n:(n=e(Ui(t)))||!1}(o,function(o){return!qv(t,e,n,r,o[0],o[1])})}function qv(t,e,n,r,o,i){for(var a=0,s=t[n-r],l=t[n-r+1];e<n;e+=r){var c=t[e],u=t[e+1];l<=i?u>i&&(c-s)*(i-l)-(o-s)*(u-l)>0&&a++:u<=i&&(c-s)*(i-l)-(o-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function Bv(t,e,n,r,o,i){if(0===n.length)return!1;if(!qv(t,e,n[0],r,o,i))return!1;for(var a=1,s=n.length;a<s;++a)if(qv(t,n[a-1],n[a],r,o,i))return!1;return!0}function Xv(t,e,n,r,o,i,a){for(var s,l,c,u,h,p,f,d=o[i+1],g=[],v=0,y=n.length;v<y;++v){var m=n[v];for(u=t[m-r],p=t[m-r+1],s=e;s<m;s+=r)h=t[s],f=t[s+1],(d<=p&&f<=d||p<=d&&d<=f)&&(c=(d-p)/(f-p)*(h-u)+u,g.push(c)),u=h,p=f}var _=NaN,b=-1/0;for(g.sort(jo),u=g[0],s=1,l=g.length;s<l;++s){h=g[s];var x=Math.abs(h-u);x>b&&Bv(t,e,n,r,c=(u+h)/2,d)&&(_=c,b=x),u=h}return isNaN(_)&&(_=o[i]),a?(a.push(_,d,b),a):[_,d,b]}function Kv(t,e,n,r,o){for(var i,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],i=o(a,s))return i;a[0]=s[0],a[1]=s[1]}return!1}function Vv(t,e,n,r,o){var i=Li([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!Bi(o,i)&&(!!Ei(o,i)||(i[0]>=o[0]&&i[2]<=o[2]||(i[1]>=o[1]&&i[3]<=o[3]||Kv(t,e,n,r,function(t,e){return function(t,e,n){var r=!1,o=Si(t,e),i=Si(t,n);if(o===yi.INTERSECTING||i===yi.INTERSECTING)r=!0;else{var a=t[0],s=t[1],l=t[2],c=t[3],u=e[0],h=e[1],p=n[0],f=n[1],d=(f-h)/(p-u),g=void 0,v=void 0;i&yi.ABOVE&&!(o&yi.ABOVE)&&(r=(g=p-(f-c)/d)>=a&&g<=l),r||!(i&yi.RIGHT)||o&yi.RIGHT||(r=(v=f-(p-l)*d)>=s&&v<=c),r||!(i&yi.BELOW)||o&yi.BELOW||(r=(g=p-(f-s)/d)>=a&&g<=l),r||!(i&yi.LEFT)||o&yi.LEFT||(r=(v=f-(p-a)*d)>=s&&v<=c)}return r}(o,t,e)}))))}function Zv(t,e,n,r,o){if(!function(t,e,n,r,o){return!!Vv(t,e,n,r,o)||!!qv(t,e,n,r,o[0],o[1])||!!qv(t,e,n,r,o[0],o[3])||!!qv(t,e,n,r,o[2],o[1])||!!qv(t,e,n,r,o[2],o[3])}(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var i=1,a=n.length;i<a;++i)if(Hv(t,n[i-1],n[i],r,o)&&!Vv(t,n[i-1],n[i],r,o))return!1;return!0}function $v(t,e,n,r){for(;e<n-r;){for(var o=0;o<r;++o){var i=t[e+o];t[e+o]=t[n-r+o],t[n-r+o]=i}e+=r,n-=r}}function Jv(t,e,n,r){for(var o=0,i=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];o+=(s-i)*(l+a),i=s,a=l}return o>0}function Qv(t,e,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],c=Jv(t,e,l,r);if(0===a){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function ty(t,e,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],c=Jv(t,e,l,r);(0===a?i&&c||!i&&!c:i&&!c||!i&&c)&&$v(t,e,l,r),e=l}return e}var ey=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ny=function(t){function e(e,n,r){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&r?(o.setFlatCoordinates(n,e),o.ends_=r):o.setCoordinates(e,n),o}return ey(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Go(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<xi(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Bv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Fv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ty(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Dd(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Ni(this.getExtent());this.flatInteriorPoint_=Xv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Uv(this.getFlatInteriorPoint(),kg.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Yv(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i],l=new Yv(e.slice(o,s),t);r.push(l),o=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Qv(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ty(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Jd(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,kg.XY,r)},e.prototype.getType=function(){return ba.POLYGON},e.prototype.intersectsExtent=function(t){return Zv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=zv(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Ng),ry=ny;function oy(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=[e,n,e,o,r,o,r,n,e,n];return new ny(i,kg.XY,[i.length])}var iy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ay=0;function sy(t,e){setTimeout(function(){t(e)},0)}function ly(t){return!(t.sourceCenter&&t.targetCenter&&!Pv(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var cy=function(t){function e(e){var n=t.call(this)||this,r=Bo({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Za(r.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,r.center&&(r.center=cs(r.center,n.projection_)),r.extent&&(r.extent=hs(r.extent,n.projection_)),n.applyOptions_(r),n}return iy(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,r,o=void 0!==t.minZoom?t.minZoom:ay,i=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=Za(t.projection,"EPSG:3857"),u=c.getExtent(),h=t.constrainOnlyCenter,p=t.extent;s||p||!c.isGlobal()||(h=!1,p=u);if(void 0!==t.resolutions){var f=t.resolutions;n=f[o],r=void 0!==f[i]?f[i]:f[f.length-1],e=t.constrainResolution?function(t,e,n){return function(r,o,i,a){if(void 0!==r){var s=t[0],l=t[t.length-1],c=n?xv(s,n,i):s;if(a)return void 0===e||e?wv(r,c,l):fa(r,l,c);var u=Math.min(c,r),h=Math.floor(No(t,u,o));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(f,l,!h&&p):Ev(n,r,l,!h&&p)}else{var d=u?Math.max(qi(u),Yi(u)):360*Oa[Sa.DEGREES]/c.getMetersPerUnit(),g=d/As/Math.pow(2,ay),v=g/Math.pow(2,28-ay);void 0!==(n=t.maxResolution)?o=0:n=g/Math.pow(a,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,i):g/Math.pow(a,i):v),i=o+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,i-o),e=t.constrainResolution?function(t,e,n,r,o){return function(i,a,s,l){if(void 0!==i){var c=o?xv(e,o,s):e,u=void 0!==n?n:0;if(l)return void 0===r||r?wv(i,c,u):fa(i,u,c);var h=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),p=-a*(.5-1e-9)+.5,f=Math.min(c,i),d=Math.floor(Math.log(e/f)/Math.log(t)+p),g=Math.max(h,d);return fa(e/Math.pow(t,g),u,c)}}}(a,n,r,l,!h&&p):Ev(n,r,l,!h&&p)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return _v(t.extent,t.constrainOnlyCenter,e)}var n=Za(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,_v(r,!1,!1)}return bv}(t),r=e.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=o||ya(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}):!1===e?Sv:"number"===typeof e?(n=e,r=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/r+.5)*r:void 0}):Sv}return Ov;var n,r;var o,i}(t);this.constraints_={center:n,resolution:r,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Bo({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Bo({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=Bo({},r)).center=cs(r.center,this.getProjection())),r.anchor&&((r=Bo({},r)).anchor=cs(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&sy(e,!0))}for(var o=Date.now(),i=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],c=0;c<n;++c){var u=arguments[c],h={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||Do,callback:e};if(u.center&&(h.sourceCenter=i,h.targetCenter=u.center.slice(),i=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),void 0!==u.rotation){h.sourceRotation=s;var p=ma(u.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}ly(h)?h.complete=!0:o+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(Md,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Md]>0},e.prototype.getInteracting=function(){return this.hints_[Fd]>0},e.prototype.cancelAnimations=function(){this.setHint(Md,-this.hints_[Md]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&sy(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],o=!0,i=0,a=r.length;i<a;++i){var s=r[i];if(!s.complete){var l=t-s.start,c=s.duration>0?l/s.duration:1;c>=1?(s.complete=!0,c=1):o=!1;var u=s.easing(c);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],f=h+u*(s.targetCenter[0]-h),d=p+u*(s.targetCenter[1]-p);this.targetCenter_=[f,d]}if(s.sourceResolution&&s.targetResolution){var g=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getSizeFromViewport_(this.getRotation()),y=this.constraints_.resolution(g,0,v,!0);this.targetCenter_=this.calculateCenterZoom(y,s.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var m=1===u?ma(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var _=this.constraints_.rotation(m,!0);this.targetCenter_=this.calculateCenterRotate(_,s.anchor)}this.targetRotation_=m}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(Md,-1);var b=r[0].callback;b&&sy(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,o,i=this.getCenterInternal();return void 0!==i&&(Rv(n=[i[0]-e[0],i[1]-e[1]],t-this.getRotation()),o=e,(r=n)[0]+=+o[0],r[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),o=this.getResolution();void 0!==r&&void 0!==o&&(n=[e[0]-t*(e[0]-r[0])/o,e[1]-t*(e[1]-r[1])/o]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+Po(this)+'"]',r=document.querySelector(n);if(r){var o=getComputedStyle(r);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var i=e[0],a=e[1];e[0]=Math.abs(i*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(i*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?ls(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Cv)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return us(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();gi(n,1);var r=this.getResolution();gi(void 0!==r,2);var o=this.getRotation();return gi(void 0!==o,3),Gi(n,r,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Tv)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(hs(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),r=qi(t)/n[0],o=Yi(t)/n[1];return Math.max(r,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,o=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(Iv)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,o=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/o}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var o=No(this.resolutions_,t,1);r=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=fa(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,fa(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,r=Bo({size:this.getSizeFromViewport_()},e||{});if(gi(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t))gi(!Xi(t),25),n=oy(o=hs(t,this.getProjection()));else if(t.getType()===ba.CIRCLE){var o;(n=oy(o=hs(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Ni(o))}else{var i=ss();n=i?n.clone().transform(i,this.getProjection()):t}this.fitInternal(n,r)},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getSizeFromViewport_());var o,i=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),l=this.getRotation(),c=Math.cos(-l),u=Math.sin(-l),h=1/0,p=1/0,f=-1/0,d=-1/0,g=t.getStride(),v=0,y=s.length;v<y;v+=g){var m=s[v]*c-s[v+1]*u,_=s[v]*u+s[v+1]*c;h=Math.min(h,m),p=Math.min(p,_),f=Math.max(f,m),d=Math.max(d,_)}var b=this.getResolutionForExtentInternal([h,p,f,d],[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);b=isNaN(b)?o:Math.max(b,o),b=this.getConstrainedResolution(b,a?0:1),u=-u;var x=(h+f)/2,w=(p+d)/2,E=[(x+=(i[1]-i[3])/2*b)*c-(w+=(i[0]-i[2])/2*b)*u,w*c+x*u],O=n.callback?n.callback:Ho;void 0!==n.duration?this.animateInternal({resolution:b,center:this.getConstrainedCenter(E,b),duration:n.duration,easing:n.easing},O):(this.targetResolution_=b,this.targetCenter_=E,this.applyTargetState_(!1,!0),sy(O,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(cs(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var r=this.getRotation(),o=Math.cos(-r),i=Math.sin(-r),a=t[0]*o-t[1]*i,s=t[1]*o+t[0]*i,l=this.getResolution(),c=(a+=(e[0]/2-n[0])*l)*o-(s+=(n[1]-e[1]/2)*l)*(i=-i),u=s*o+a*i;this.setCenterInternal([c,u])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=ls(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&cs(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getSizeFromViewport_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=cs(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(cs(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),o=this.getSizeFromViewport_(r),i=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,i,o,n);this.get(Iv)!==r&&this.set(Iv,r),this.get(Tv)!==i&&this.set(Tv,i),this.get(Cv)&&Pv(this.get(Cv),a)||this.set(Cv,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,o=e||0,i=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(i),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===r)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&Pv(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:l,resolution:s,duration:r,easing:Lo,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Fd,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&cs(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(Fd,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(Rs),uy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hy=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==r?r:null,o}return uy(e,t),e}(qo),py=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fy=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,i)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return py(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(hy),dy=(n("04ff8c05da014e6eacb1"),{SINGLECLICK:"singleclick",CLICK:Jo.CLICK,DBLCLICK:Jo.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}),gy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vy=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r,o,i)||this;return a.pointerEvent=r,a}return gy(e,t),e}(fy),yy={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},my=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_y=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=n?n*Qi:Qi,r.down_=null;var o=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=o,r.pointerdownListenerKey_=ui(o,yy.POINTERDOWN,r.handlePointerDown_,r),r.relayedListenerKey_=ui(o,yy.POINTERMOVE,r.relayEvent_,r),r}return my(e,t),e.prototype.emulateClick_=function(t){var e=new vy(dy.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new vy(dy.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new vy(dy.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==dy.POINTERUP||e.type==dy.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==dy.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new vy(dy.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(pi),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new vy(dy.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(ui(document,dy.POINTERMOVE,this.handlePointerMove_,this),ui(document,dy.POINTERUP,this.handlePointerUp_,this),ui(this.element_,dy.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new vy(dy.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new vy(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(pi(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(pi(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(pi),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}($o),by="postrender",xy="movestart",wy="moveend",Ey={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Oy=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Xo(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){gi(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,o=e[t],i=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<r&&n[l]<n[s]?l:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=o,n[t]=i,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,o=n[e],i=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>i))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=o,r[e]=i},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,o=this.elements_,i=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=r(t=o[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(i[a]=n,o[a++]=t);o.length=a,i.length=a,this.heapify_()},t}(),Sy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cy=function(t){function e(e,n){var r=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return Sy(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(Jo.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===Mo.LOADED||n===Mo.ERROR||n===Mo.EMPTY||n===Mo.ABORT){e.removeEventListener(Jo.CHANGE,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,o,i=0,a=!1;this.tilesLoading_<t&&i<e&&this.getCount()>0;)o=(r=this.dequeue()[0]).getKey(),(n=r.getState())===Mo.ABORT?a=!0:n!==Mo.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load());0===i&&a&&this.tileChangeCallback_()},e}(Oy),Ty=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iy={LAYERS:"layers"},Py=function(t){function e(e){var n=this,r=e||{},o=Bo({},r);delete o.layers;var i=r.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Ps(Iy.LAYERS),n.handleLayersChanged_),i?Array.isArray(i)?i=new Zg(i.slice(),{unique:!0}):gi("function"===typeof i.getArray,43):i=new Zg(void 0,{unique:!0}),n.setLayers(i),n}return Ty(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(pi),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(ui(t,Bg.ADD,this.handleLayersAdd_,this),ui(t,Bg.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(pi);Xo(this.listenerKeys_);for(var n=t.getArray(),r=0,o=n.length;r<o;r++){var i=n[r];this.listenerKeys_[Po(i)]=[ui(i,ws,this.handleLayerChange_,this),ui(i,Jo.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Po(e)]=[ui(e,ws,this.handleLayerChange_,this),ui(e,Jo.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=Po(t.element);this.listenerKeys_[e].forEach(pi),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(Iy.LAYERS)},e.prototype.setLayers=function(t){this.set(Iy.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var r=this.getLayerState(),o=n,i=e.length;o<i;o++){var a=e[o];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==a.extent?a.extent=Wi(a.extent,r.extent):a.extent=r.extent)}return e},e.prototype.getSourceState=function(){return Ms.READY},e}(Rp),Ry=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function My(t,e){t.style.msTouchAction=e,t.style.touchAction=e,t.setAttribute("touch-action",e)}var Fy=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,o,i={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Py({layers:t.layers});i[Ey.LAYERGROUP]=a,i[Ey.TARGET]=t.target,i[Ey.VIEW]=void 0!==t.view?t.view:new cy,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Zg(t.controls.slice()):(gi("function"===typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new Zg(t.interactions.slice()):(gi("function"===typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new Zg(t.overlays.slice()):(gi("function"===typeof t.overlays.getArray,49),o=t.overlays):o=new Zg;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:o,values:i}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Qi,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new _y(n,e.moveTolerance);var o=n.handleMapBrowserEvent.bind(n);for(var i in dy)n.mapBrowserEventHandler_.addEventListener(dy[i],o);n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var a=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(Jo.CONTEXTMENU,a,!1),n.viewport_.addEventListener(Jo.WHEEL,a,!1),n.controls=r.controls||new Zg,n.interactions=r.interactions||new Zg,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new Cy(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Ps(Ey.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener(Ps(Ey.VIEW),n.handleViewChanged_),n.addEventListener(Ps(Ey.SIZE),n.handleSizeChanged_),n.addEventListener(Ps(Ey.TARGET),n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(Bg.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(Bg.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(Bg.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Bg.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(Bg.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(Bg.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return Ry(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(Jo.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Jo.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(Jo.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,i=void 0!==n.layerFilter?n.layerFilter:Wo,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,e,null,i,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},o=void 0!==r.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,i=r.layerFilter||Wo;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,i)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Wo,o=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,i=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,i,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Ey.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return ls(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?tf(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ey.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=cs(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?tf(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ey.SIZE)},e.prototype.getView=function(){return this.get(Ey.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,r){var o=this.frameState_;if(!o||!(e in o.wantedTiles))return 1/0;if(!o.wantedTiles[e][t.getKey()])return 1/0;var i=o.viewState.center,a=n[0]-i[0],s=n[1]-i[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new fy(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=n.length-1;r>=0;r--){var o=n[r];if(o.getActive())if(!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var o=t.viewHints;if(o[Md]||o[Fd]){var i=!ta&&Date.now()-t.time>8;n=i?0:8,r=i?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener(kp)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(kp,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.focusHandlerKeys_){for(var e=0,n=this.focusHandlerKeys_.length;e<n;++e)pi(this.focusHandlerKeys_[e]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(e=0,n=this.keyHandlerKeys_.length;e<n;++e)pi(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var r=!0;t.hasAttribute("tabindex")&&(r=document.activeElement===t,this.focusHandlerKeys_=[ui(t,Jo.FOCUS,My.bind(this,this.viewport_,"none")),ui(t,Jo.BLUR,My.bind(this,this.viewport_,"auto"))]),My(this.viewport_,r?"none":"auto");var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[ui(o,Jo.KEYDOWN,this.handleBrowserEvent,this),ui(o,Jo.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(Jo.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),ii(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(Jo.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(pi(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(pi(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Po(t)),this.viewPropertyListenerKey_=ui(t,ws,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ui(t,Jo.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(pi),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[ui(t,ws,this.render,this),ui(t,Jo.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),r=this.frameState_,o=null;if(void 0!==e&&function(t){return t[0]>0&&t[1]>0}(e)&&n&&n.isDef()){var i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:Gi(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:i,wantedTiles:{}}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r)(!this.previousExtent_||!Xi(this.previousExtent_)&&!Pi(o.extent,this.previousExtent_))&&(this.dispatchEvent(new hy(xy,this,r)),this.previousExtent_=Ii(this.previousExtent_));this.previousExtent_&&!o.viewHints[Md]&&!o.viewHints[Fd]&&!Pi(o.extent,this.previousExtent_)&&(this.dispatchEvent(new hy(wy,this,o)),bi(o.extent,this.previousExtent_))}this.dispatchEvent(new hy(by,this,o)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Ey.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ey.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ey.TARGET,t)},e.prototype.setView=function(t){this.set(Ey.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(Rs),Ly=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dy=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:Ho,e.target&&n.setTarget(e.target),n}return Ly(e,t),e.prototype.disposeInternal=function(){ii(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&ii(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)pi(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ho&&this.listenerKeys.push(ui(t,by,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(Rs),ky=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ay(t){this.updateElement_(t.frameState)}var jy=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||Ay,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==r.className?r.className:"ol-attribution",i=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.collapseLabel?r.collapseLabel:"\xbb";"string"===typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"i";"string"===typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var l=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=i,c.appendChild(l),c.addEventListener(Jo.CLICK,n.handleClick_.bind(n),!1);var u=o+" "+Vp+" "+Zp+(n.collapsed_&&n.collapsible_?" "+$p:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=u,h.appendChild(n.ulElement_),h.appendChild(c),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return ky(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,o=0,i=r.length;o<i;++o){var a=r[o];if(jp(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var u=0,h=c.length;u<h;++u)c[u]in e||(n.push(c[u]),e[c[u]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Yo(e,this.renderedAttributions_)){ai(this.ulElement_);for(var r=0,o=e.length;r<o;++r){var i=document.createElement("li");i.innerHTML=e[r],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle($p),this.collapsed_?oi(this.collapseLabel_,this.label_):oi(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Dy),Ny=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function zy(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(Xp);o||0!==n?o&&0!==n&&this.element.classList.remove(Xp):this.element.classList.add(Xp)}this.label_.style.transform=r}this.rotation_=n}}var Gy=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render||zy,target:r.target})||this;var o=void 0!==r.className?r.className:"ol-rotate",i=void 0!==r.label?r.label:"\u21e7";n.label_=null,"string"===typeof i?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=i):(n.label_=i,n.label_.classList.add("ol-compass"));var a=r.tipLabel?r.tipLabel:"Reset rotation",s=document.createElement("button");s.className=o+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener(Jo.CLICK,n.handleClick_.bind(n),!1);var l=o+" "+Vp+" "+Zp,c=n.element;return c.className=l,c.appendChild(s),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Xp),n}return Ny(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:Lo}):t.setRotation(0))},e}(Dy),Yy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wy=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var o=void 0!==r.className?r.className:"ol-zoom",i=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInLabel?r.zoomInLabel:"+",s=void 0!==r.zoomOutLabel?r.zoomOutLabel:"\u2212",l=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",c=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=o+"-in",u.setAttribute("type","button"),u.title=l,u.appendChild("string"===typeof a?document.createTextNode(a):a),u.addEventListener(Jo.CLICK,n.handleClick_.bind(n,i),!1);var h=document.createElement("button");h.className=o+"-out",h.setAttribute("type","button"),h.title=c,h.appendChild("string"===typeof s?document.createTextNode(s):s),h.addEventListener(Jo.CLICK,n.handleClick_.bind(n,-i),!1);var p=o+" "+Vp+" "+Zp,f=n.element;return f.className=p,f.appendChild(u),f.appendChild(h),n.duration_=void 0!==r.duration?r.duration:250,n}return Yy(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:Lo})):e.setZoom(r)}}},e}(Dy);function Uy(t){var e=t||{},n=new Zg;return(void 0===e.zoom||e.zoom)&&n.push(new Wy(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Gy(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new jy(e.attributionOptions)),n}var Hy=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var o=this.points_[e]-this.points_[n],i=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(i,o),this.initialVelocity_=Math.sqrt(o*o+i*i)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),qy="active",By=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Xy(t,e,n,r){var o=t.getZoom();if(void 0!==o){var i=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(i);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:Lo})}}var Ky=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return By(e,t),e.prototype.getActive=function(){return this.get(qy)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(qy,t)},e.prototype.setMap=function(t){this.map_=t},e}(Rs),Vy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Zy(t){var e=!1;if(t.type==dy.DBLCLICK){var n=t.originalEvent,r=t.map,o=t.coordinate,i=n.shiftKey?-this.delta_:this.delta_;Xy(r.getView(),i,o,this.duration_),t.preventDefault(),e=!0}return!e}var $y=function(t){function e(e){var n=t.call(this,{handleEvent:Zy})||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return Vy(e,t),e}(Ky),Jy=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Qy=function(t){return t.target.getTargetElement()===document.activeElement},tm=Wo,em=function(t){var e=t.originalEvent;return 0==e.button&&!($i&&Ji&&e.ctrlKey)},nm=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},rm=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},om=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},im=function(t){var e=t.pointerEvent;return gi(void 0!==e,56),"mouse"==e.pointerType},am=function(t){var e=t.pointerEvent;return gi(void 0!==e,56),e.isPrimary&&0===e.button},sm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function lm(t){for(var e=t.length,n=0,r=0,o=0;o<e;o++)n+=t[o].clientX,r+=t[o].clientY;return[n/e,r/e]}var cm=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return sm(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==dy.POINTERDRAG)this.handleDragEvent(t);else if(t.type==dy.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==dy.POINTERDOWN){var r=this.handleDownEvent(t);r&&t.preventDefault(),this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==dy.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===dy.POINTERDOWN||e===dy.POINTERDRAG||e===dy.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==dy.POINTERUP?delete this.trackedPointers_[n]:t.type==dy.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Ko(this.trackedPointers_)}},e}(Ky),um=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function hm(t){return nm(t)&&am(t)}var pm=function(t){function e(e){var n=t.call(this,{stopDown:Uo})||this,r=e||{};return n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=r.condition?r.condition:hm,n.noKinetic_=!1,n}return um(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,r=this.targetPointers,o=lm(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var i=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=t.map.getView();e=i,n=a.getResolution(),e[0]*=n,e[1]*=n,Rv(i,a.getRotation()),a.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=r.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),i=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(i),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Lo})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(cm),fm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dm=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:Uo})||this).condition_=r.condition?r.condition:Jy,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return fm(e,t),e.prototype.handleDragEvent=function(t){if(im(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Ov){var r=e.getSize(),o=t.pixel,i=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=i-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=i}}},e.prototype.handleUpEvent=function(t){return!im(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!im(t)&&(!(!em(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(cm),gm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vm=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return gm(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new ry([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Ao),ym=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mm="boxstart",_m="boxdrag",bm="boxend",xm=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=r,o}return ym(e,t),e}(qo),wm=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new vm(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,n.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:Ho,n.startPixel_=null,n.condition_=r.condition?r.condition:tm,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return ym(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],o=n[1]-e[1];return r*r+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){im(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new xm(_m,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!im(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new xm(bm,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!im(t)&&(!(!em(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new xm(mm,t.coordinate,t)),!0))},e}(cm),Em=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Om(){var t,e,n=this.getMap(),r=n.getView(),o=n.getSize(),i=this.getGeometry().getExtent();if(this.out_){var a=r.calculateExtentInternal(o),s=(t=[n.getPixelFromCoordinateInternal(Ai(i)),n.getPixelFromCoordinateInternal(Hi(i))],Fi(Ii(e),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}(a,1/r.getResolutionForExtentInternal(s,o)),i=a}var l=r.getConstrainedResolution(r.getResolutionForExtentInternal(i,o)),c=r.getConstrainedCenter(Ni(i),l);r.animateInternal({resolution:l,center:c,duration:this.duration_,easing:Lo})}var Sm=function(t){function e(e){var n=this,r=e||{},o=r.condition?r.condition:rm;return(n=t.call(this,{condition:o,className:r.className||"ol-dragzoom",minArea:r.minArea,onBoxEnd:Om})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return Em(e,t),e}(wm),Cm={LEFT:37,UP:38,RIGHT:39,DOWN:40},Tm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Im(t){var e=!1;if(t.type==Jo.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Cm.DOWN||n==Cm.LEFT||n==Cm.RIGHT||n==Cm.UP)){var r=t.map.getView(),o=r.getResolution()*this.pixelDelta_,i=0,a=0;n==Cm.DOWN?a=-o:n==Cm.LEFT?i=-o:n==Cm.RIGHT?i=o:a=o;var s=[i,a];Rv(s,r.getRotation()),function(t,e,n){var r=t.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:ko,center:t.getConstrainedCenter(o)})}}(r,s,this.duration_),t.preventDefault(),e=!0}}return!e}var Pm=function(t){function e(e){var n=t.call(this,{handleEvent:Im})||this,r=e||{};return n.defaultCondition_=function(t){return nm(t)&&om(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return Tm(e,t),e}(Ky),Rm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Mm(t){var e=!1;if(t.type==Jo.KEYDOWN||t.type==Jo.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Xy(r.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Fm=function(t){function e(e){var n=t.call(this,{handleEvent:Mm})||this,r=e||{};return n.condition_=r.condition?r.condition:om,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return Rm(e,t),e}(Ky),Lm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dm="trackpad",km="wheel",Am=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.condition_=r.condition?r.condition:tm,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return Lm(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==Jo.WHEEL)return!0;t.preventDefault();var e,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Jo.WHEEL&&(e=r.deltaY,Zi&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=Qi),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Dm:km),this.mode_===Dm){var i=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):i.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),i.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1}this.totalDelta_+=e;var a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),Xy(e,-fa(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ky),jm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nm=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=Uo),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return jm(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var i=o-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=i}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Ov){var l=a.getViewport().getBoundingClientRect(),c=lm(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(cm),zm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gm=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=Uo),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return zm(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,i=n.clientY-r.clientY,a=Math.sqrt(o*o+i*i);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var c=s.getViewport().getBoundingClientRect(),u=lm(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(cm);function Ym(t){var e=t||{},n=new Zg,r=new Hy(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new dm),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new $y({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new pm({condition:e.onFocusOnly?Qy:void 0,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Nm),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Gm({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Pm),n.push(new Fm({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Am({condition:e.onFocusOnly?Qy:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Sm({duration:e.zoomDuration})),n}var Wm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Um(t,e){Bf.expire()}var Hm,qm=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return Wm(e,t),e.prototype.dispatchRenderEvent=function(t,e){To()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;ef(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),nf(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,i,a,s){var l,c=e.viewState;function u(t,e,n){return o.call(i,e,t?n:null)}var h=c.projection,p=t,f=[[0,0]];if(h.canWrapX()){var d=h.getExtent(),g=qi(d),v=t[0];if(v<d[0]||v>d[2])p=[v+g*Math.ceil((d[0]-v)/g),t[1]];r&&f.push([-g,0],[g,0])}var y,m=e.layerStatesArray,_=m.length;this.declutterTree_&&(y=this.declutterTree_.all().map(function(t){return t.value}));for(var b=[],x=0;x<f.length;x++)for(var w=_-1;w>=0;--w){var E=m[w],O=E.layer;if(O.hasRenderer()&&jp(E,c)&&a.call(s,O)){var S=O.getRenderer(),C=O.getSource();if(S&&C){var T=C.getWrapX()?p:t,I=u.bind(null,E.managed);b[0]=T[0]+f[x][0],b[1]=T[1]+f[x][1],l=S.forEachFeatureAtCoordinate(b,e,n,I,y)}if(l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){return To()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,o,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,Wo,this,o,i)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,r=n.length-1;r>=0;--r)for(var o=n[r],i=o.items,a=0,s=i.length;a<s;a+=3)e=i[a].renderDeclutter(i[a+1],i[a+2],o.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){Bf.canExpireCache()&&t.postRenderFunctions.push(Um)},e}(Ao),Bm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xm=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=ui(uf,Jo.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className=Vp+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Bm(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new Bp(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){pi(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(Lp,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),r=e.viewState;this.children_.length=0;for(var o=null,i=0,a=n.length;i<a;++i){var s=n[i];if(e.layerIndex=i,jp(s,r)&&(s.sourceState==Ms.READY||s.sourceState==Ms.UNDEFINED)){var l=s.layer.render(e,o);l&&l!==o&&(this.children_.push(l),o=l)}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,r=0;;++r){var o=n[r],i=e[r];if(!o&&!i)break;o!==i&&(o?i?t.insertBefore(i,o):(t.removeChild(o),--r):t.appendChild(i))}}(this.element_,this.children_),this.dispatchRenderEvent(Dp,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){for(var i=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],c=l.layer;if(c.hasRenderer()&&jp(l,i)&&o(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var h=r(c,u);if(h)return h}}}},e}(qm),Km=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vm=function(t){function e(e){return(e=Bo({},e)).controls||(e.controls=Uy()),e.interactions||(e.interactions=Ym()),t.call(this,e)||this}return Km(e,t),e.prototype.createRenderer=function(){return new Xm(this)},e}(Fy);n("403df48ddaa9afb322f2");function Zm(t){return(Zm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jm(t,e){return(Jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qm(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=e_(t);if(e){var o=e_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Zm(e)||"function"===typeof e))return e;return t_(t)}(this,n)}}function t_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e_(t){return(e_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n_={openlayersMap:{height:"100%",width:"100%",minWidth:399}},r_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jm(t,e)}(a,i.a.PureComponent);var e,n,r,o=Qm(a);function a(t){var e,n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=o.call(this,t),n=t_(e),i=function(t){var n=e.map.getEventPixel(t.originalEvent),r=e.map.hasFeatureAtPixel(n);e.map.getTarget().style.cursor=r?"pointer":"inherit"},(r="changeMarkersPointer")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e.map=null,e.mapDiv=null,e.layers=[],e.interactions=[],e.controls=[],e.overlays=[],e.options={pixelRation:void 0,keyboardEventTarget:void 0,loadTilesWhileAnimation:void 0,loadTilesWhileInteractiong:void 0,logo:void 0,renderer:void 0,setCenter:void 0,setZoom:void 0,setResolution:void 0,view:new cy({center:$a([32.4279,53.688]),zoom:3}),controls:void 0,interactions:void 0,layers:void 0,overlays:void 0},e.events={change:[],"change:layerGroup":[],"change:size":[],"change:target":[],"change:view":[],click:[],dblclick:[],moveend:[],pointerdrag:[],pointermove:[],postcompose:[],postrender:[],precompose:[],propertychange:[],singleclick:[]},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t,e,n,r,o=_d(Object.assign(this.options,this.props)),a=function(t,e){for(var n,r=i.a.Children.toArray(t),o=0;o<r.length;o+=1){var a=r[o];if(a.type.name===e){n=a;break}}return n}(this.props.children,"Controls")||{},s=this.props.interactions||{};o.controls=Uy(a.props).extend(this.controls),o.interactions=Ym(s).extend(this.interactions),o.layers=this.layers,o.overlays=this.overlays,o.view instanceof cy||(o.view=new cy(o.view)),this.map=new Vm(o),this.map.setTarget(o.target||this.mapDiv),this.map.on("pointermove",this.changeMarkersPointer),t=this.map,e=this.events,n=this.props,r=md(e,n),ge()(r,function(e,n){e.forEach(function(e){return t.on(n,function(n){return e(t,n)})})})}},{key:"render",value:function(){var t=this;return function(t,e,n,r){Hm||(Hm="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Hm,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}(Df,{value:this},void 0,i.a.createElement("div",{style:n_.openlayersMap,ref:function(e){t.mapDiv=e}},this.props.children))}}])&&$m(e.prototype,n),r&&$m(e,r),a}(),o_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i_=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Ps(n.geometryName_),n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var o=e;n.setProperties(o)}return n}return o_(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(pi(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=ui(t,Jo.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{gi("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Ps(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Ps(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(Rs);function a_(t){return(a_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l_(t,e){return(l_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c_(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u_(t);if(e){var o=u_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a_(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function u_(t){return(u_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l_(t,e)}(a,i.a.PureComponent);var e,n,r,o=c_(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"setViewCenter",value:function(t,e,n){if(n)this.context.context.map.getView().setCenter(t.getCoordinates());else if(e){if(!wi(this.context.context.map.getView().calculateExtent(this.context.context.map.getSize()),t.getCoordinates()))this.context.context.map.getView().setCenter(t.getCoordinates())}}},{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.course,r=t.height,o=t.id,i=t.icon,a=t.isPinned,s=t.isSelected,l=t.label,c=t.latitude,u=t.longitude,h=t.type,p=t.width,f=t.style,d=t.ratio,g=new Uv($a([u,c]));this.feature=new i_({id:o,type:h,geometry:g});var v=bd(e,n,r,i,s,p,f,d);v.getText().setText(decodeURI(l)),this.feature.setStyle(v),this.context.vectorSource&&this.context.vectorSource.addFeature(this.feature),this.setViewCenter(g,s,a)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.color,r=e.course,o=e.height,i=e.icon,a=e.isPinned,s=e.isSelected,l=e.label,c=e.latitude,u=e.longitude,h=e.style,p=e.width,f=e.ratio;if(n!==t.color||c!==t.latitude||u!==t.longitude||s!==t.isSelected||a!==t.isPinned||l!==t.label||i!==t.icon||f!==t.ratio){var d=new Uv($a([u,c]));this.setViewCenter(d,s,a),this.feature.setGeometry(d);var g=bd(n,r,o,i,s,p,h,f);g.getText().setText(decodeURI(l)),this.feature.setStyle(g)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Icon")}},{key:"render",value:function(){return null}}])&&s_(e.prototype,n),r&&s_(e,r),a}();h_.contextType=gv;var p_=h_;function f_(t,e,n,r,o,i){var a=NaN,s=NaN,l=(n-e)/r;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-o)*t[e]+o*t[e+r],s=(1-o)*t[e+1]+o*t[e+r+1];else if(0!==l){for(var c=t[e],u=t[e+1],h=0,p=[0],f=e+r;f<n;f+=r){var d=t[f],g=t[f+1];h+=Math.sqrt((d-c)*(d-c)+(g-u)*(g-u)),p.push(h),c=d,u=g}var v=o*h,y=function(t,e,n){for(var r,o,i=n||jo,a=0,s=t.length,l=!1;a<s;)(o=+i(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,l=!o);return l?a:~a}(p,v);if(y<0){var m=(v-p[-y-2])/(p[-y-1]-p[-y-2]),_=e+(-y-2)*r;a=_a(t[_],t[_+r],m),s=_a(t[_+1],t[_+r+1],m)}else a=t[e+y*r],s=t[e+y*r+1]}return i?(i[0]=a,i[1]=s,i):[a,s]}function d_(t,e,n,r,o,i){if(n==e)return null;var a;if(o<t[e+r-1])return i?((a=t.slice(e,e+r))[r-1]=o,a):null;if(t[n-1]<o)return i?((a=t.slice(n-r,n))[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,l=n/r;s<l;){var c=s+l>>1;o<t[(c+1)*r-1]?l=c:s=c+1}var u=t[s*r-1];if(o==u)return t.slice((s-1)*r,(s-1)*r+r);var h=(o-u)/(t[(s+1)*r-1]-u);a=[];for(var p=0;p<r-1;++p)a.push(_a(t[(s-1)*r+p],t[s*r+p],h));return a.push(o),a}var g_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v_=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return g_(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Go(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<xi(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Av(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return Kv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=kg.XYM&&this.layout!=kg.XYZM)return null;var n=void 0!==e&&e;return d_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Ld(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return f_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return lg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,kg.XY)},e.prototype.getType=function(){return ba.LINE_STRING},e.prototype.intersectsExtent=function(t){return Vv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Nv(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Ng);function y_(t){return(y_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function __(t,e){return(__=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b_(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=x_(t);if(e){var o=x_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===y_(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function x_(t){return(x_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&__(t,e)}(a,i.a.PureComponent);var e,n,r,o=b_(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this.props,e=t.color,n=t.id,r=t.positions,o=t.width,i=r?r.map(function(t){return $a([t.longitude,t.latitude])}):[];this.feature=new i_({geometry:new v_(i)}),this.feature.setStyle(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return new ud({stroke:new id({color:t||"rgba(50, 50, 50, 1.0)",width:e})})}(e,o)),this.feature.setId("LINE-".concat(n)),this.context.vectorSource&&this.context.vectorSource.addFeature(this.feature)}},{key:"componentDidUpdate",value:function(t){var e=this.props.positions.slice(-1)[0],n=t.positions.slice(-1)[0];if(e.longitude!==n.longitude||e.latitude!==n.latitude){var r=this.feature.getGeometry().getCoordinates();this.props.length&&r.length>=this.props.length&&r.shift(),r.push($a([e.longitude,e.latitude])),this.feature.getGeometry().setCoordinates(r)}}},{key:"componentWillUnmount",value:function(){this.context.vectorSource.removeFeature(this.feature),console.log("Unmount Line")}},{key:"render",value:function(){return null}}])&&m_(e.prototype,n),r&&m_(e,r),a}();w_.contextType=gv;var E_={Icon:p_,Line:w_},O_=n("63f14ac74ce296f77f4d"),S_=n.n(O_),C_={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},T_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I_={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},P_=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Kp,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(Ps(I_.ELEMENT),n.handleElementChanged),n.addEventListener(Ps(I_.MAP),n.handleMapChanged),n.addEventListener(Ps(I_.OFFSET),n.handleOffsetChanged),n.addEventListener(Ps(I_.POSITION),n.handlePositionChanged),n.addEventListener(Ps(I_.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:C_.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return T_(e,t),e.prototype.getElement=function(){return this.get(I_.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(I_.MAP)},e.prototype.getOffset=function(){return this.get(I_.OFFSET)},e.prototype.getPosition=function(){return this.get(I_.POSITION)},e.prototype.getPositioning=function(){return this.get(I_.POSITIONING)},e.prototype.handleElementChanged=function(){ai(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(ii(this.element),pi(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=ui(t,by,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(I_.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(I_.ELEMENT,t)},e.prototype.setMap=function(t){this.set(I_.MAP,t)},e.prototype.setOffset=function(t){this.set(I_.OFFSET,t)},e.prototype.setPosition=function(t){this.set(I_.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),r=this.getRect(n,[ni(n),ri(n)]),o=this.autoPanMargin;if(!Ei(e,r)){var i=r[0]-e[0],a=e[2]-r[2],s=r[1]-e[1],l=e[3]-r[3],c=[0,0];if(i<0?c[0]=i-o:a<0&&(c[0]=Math.abs(a)+o),s<0?c[1]=s-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){var u=t.getView().getCenterInternal(),h=t.getPixelFromCoordinateInternal(u),p=[h[0]+c[0],h[1]+c[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[r,o,r+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(I_.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var i=r[0],a=r[1];if(o==C_.BOTTOM_RIGHT||o==C_.CENTER_RIGHT||o==C_.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_="",n.left="");var s=Math.round(e[0]-t[0]-i)+"px";this.rendered.right_!=s&&(this.rendered.right_=s,n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_="",n.right=""),o!=C_.BOTTOM_CENTER&&o!=C_.CENTER_CENTER&&o!=C_.TOP_CENTER||(i-=this.element.offsetWidth/2);var l=Math.round(t[0]+i)+"px";this.rendered.left_!=l&&(this.rendered.left_=l,n.left=l)}if(o==C_.BOTTOM_LEFT||o==C_.BOTTOM_CENTER||o==C_.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_="",n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=c,n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",n.bottom=""),o!=C_.CENTER_LEFT&&o!=C_.CENTER_CENTER&&o!=C_.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var u=Math.round(t[1]+a)+"px";this.rendered.top_!=u&&(this.rendered.top_="top",n.top=u)}},e.prototype.getOptions=function(){return this.options},e}(Rs);function R_(t){return(R_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function F_(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function L_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D_(t,e){return(D_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k_(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=j_(t);if(e){var o=j_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===R_(e)||"function"===typeof e))return e;return A_(t)}(this,n)}}function A_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j_(t){return(j_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D_(t,e)}(a,i.a.PureComponent);var e,n,r,o=k_(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);t.children;var n=t.onClose,r=t.onOpen,i=F_(t,["children","onClose","onOpen"]);N_(A_(e=o.call(this,t)),"renderOverlay",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.feature.getGeometry().getCoordinates();e.overlay.setPosition(n),e.onOpen(e.options.element),t&&e.forceUpdate()}),N_(A_(e),"handleOverly",function(t,n){if("ol-overlaycontainer-stopevent"===n.originalEvent.target.className){var r=e.context.map.forEachFeatureAtPixel(n.pixel,function(t){return t});r!==e.feature&&(e.feature=r,e.feature?e.renderOverlay(!0):(e.overlay.setPosition(void 0),e.onClose(),e.isVisible=!1))}else n.stopPropagation()}),e.feature=null,e.onClose=n||e.defaultHandler,e.onOpen=r||e.defaultHandler,e.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(e){N_(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},i);var s=document.createElement("div");return s.style.minWidth="300px",e.options.element=s,e}return e=a,(n=[{key:"componentDidMount",value:function(){this.overlay=new P_(this.options),this.context.overlays.push(this.overlay),this.context.events.click.push(this.handleOverly)}},{key:"componentDidUpdate",value:function(){this.feature&&this.props.children&&this.feature.get("id")===this.props.children.key?this.renderOverlay():this.overlay.setPosition(void 0)}},{key:"componentWillUnmount",value:function(){ce()(this.context.overlayers,this.overlay)}},{key:"defaultHandler",value:function(){return null}},{key:"render",value:function(){return S_.a.createPortal(this.feature?this.props.children:null,this.options.element)}}])&&L_(e.prototype,n),r&&L_(e,r),a}();z_.contextType=kf;var G_,Y_=z_;function W_(t,e,n,r){G_||(G_="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:G_,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var U_,H_=Object(et.b)({isLiveRouteEnabled:Object(et.a)(zl,function(t){return t.isLiveRouteEnabled}),latestPositionsInViewport:Object(et.a)(jl(),Gl(),Wl(),Yl(),function(t,e,n,r){return t&&e&&function(t,e,n,r){var o=Rn(e,n),i=Rn(e,r),a=Tn(e,o,i),s=Fn(a,t);return Ln(a,s,o,i)}(t,e,n,r)})}),q_=Object(u.c)(H_),B_=Object(h.d)(q_)(function(t){var e=t.isLiveRouteEnabled,n=t.latestPositionsInViewport;return W_(yv.Vector,{},void 0,n.map(function(t){return W_("div",{},t.uniqueId,W_(E_.Icon,{id:t.uniqueId,isPinned:t.isPinned,isSelected:t.isSelected,label:t.name,latitude:t.latitude,longitude:t.longitude,course:t.course,category:t.category,color:t.color,icon:t.icon,width:t.width,height:t.height,type:t.type?t.type:"device",ratio:t.ratio}),e&&W_(E_.Line,{color:"#".concat(t.uniqueId.slice(-6)),id:t.uniqueId,length:10,positions:[t]}))}))}),X_=n("a5212af3d6b7e4a810a0"),K_=n("0da2b258a142f2074b40");function V_(t,e,n,r){U_||(U_="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:U_,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Z_=Object(s.a)({card:{},content:{padding:5}}),$_=Object(et.b)({user:Object(So.d)(),selectedDevice:Ul(),pinnedDevice:Yl()});var J_,Q_=Object(u.c)($_,function(t){return{onPin:function(e){return t(cl(e))}}}),tb=Object(h.d)(Q_)(i.a.memo(function(t){var e=t.user,n=t.onPin,r=t.pinnedDevice,o=t.selectedDevice,i=Z_();return V_(Y_,{autoPan:!0,offset:[0,-50],positioning:"bottom-center"},void 0,o&&V_(X_.a,{className:i.card},o.uniqueId,V_(K_.a,{className:i.content},void 0,V_(kc,{user:e,fleet:o,isPinned:o.uniqueId===r,onPin:n}))))}));function eb(t,e,n,r){J_||(J_="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:J_,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var nb,rb=Object(et.b)({positions:uh(),selectedPosition:hh(),showMarkers:ch(),showSpeedLabels:ph(),units:Object(So.c)(),clusteredPositionsInViewport:Object(et.a)(Object(et.a)(Nl,lh,Ul(),function(t,e,n){return e.showMarkers&&ih(e.routeHistory,t.scale,n?n.attributes.speedLimit:null)}),jl(),function(t,e){return Fn(t,e)})}),ob=Object(u.c)(rb),ib=Object(h.d)(ob)(function(t){var e=t.positions,n=t.selectedPosition,r=t.showMarkers,o=t.showSpeedLabels,i=t.units,a=t.clusteredPositionsInViewport,s=!r,l=a&&r&&!ee()(a,n),c=n&&n.icon&&(s||l);return eb(yv.Vector,{},void 0,r&&a&&a.map(function(t){var e=n&&n.id===t.id;return eb("div",{},t.id,eb(E_.Icon,{id:t.id,isSelected:e,label:o||e?mn(t.speed,"speed",i):"",latitude:t.latitude,longitude:t.longitude,course:t.course,icon:t.icon.source,width:t.icon.width,height:t.icon.height,type:"position"}))}),c&&eb(E_.Icon,{id:n.id,isSelected:!0,label:mn(n.speed,"speed",i),latitude:n.latitude,longitude:n.longitude,course:n.course,icon:n.icon.source,width:n.icon.width,height:n.icon.height}),e&&e.length>0&&eb(E_.Line,{id:e[0].deviceId,color:"#00ff00",positions:e}))});function ab(t,e,n,r){nb||(nb="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:nb,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var sb=Object(s.a)(function(){return{map:{margin:0,top:0,right:0,bottom:0,left:0,minHeight:"100%",position:"absolute"}}}),lb=0,cb=ab(ib,{}),ub=ab(B_,{}),hb=ab(tb,{});var pb=Object(et.b)({server:Object(So.b)(),mapSource:Object(et.a)(Object(So.d)(),Object(So.b)(),function(t,e){return function(t,e){switch(t.map){case"bingRoad":return new ol({url:e.mapUrl.replace(/lyrs=m/g,"lyrs=y"),attributions:"Google Satellite"});default:return new sl}}(t,e)})});var fb,db=Object(u.c)(pb,function(t){return{onClick:function(e,n){return Fl(t,e,n)()},onZoomChange:function(e){return t(dh(e))},onViewChange:function(e){return t(vh(e))}}}),gb=Object(h.d)(db)(function(t){var e=t.mapSource,n=t.onClick,r=t.server,o=t.onZoomChange,i=t.onViewChange,a=sb(),s=$a([r.longitude,r.latitude]);return Object(Vt.a)({key:"map",reducer:kl}),ab("div",{className:a.map},void 0,ab(r_,{onClick:n,onMoveend:function(t){var e=Ll(t);i(e);var n=Math.floor(t.getView().getZoom());n!==lb&&(lb=n,o(n))},view:{center:s,zoom:r.zoom},interactions:{altShiftDragRotate:!1,pinchRotate:!1}},void 0,ab(mv,{},void 0,ab(yv.Tile,{source:e}),cb,ub,hb)))}),vb=n("a72b40110d9c31c9b5c5"),yb=n("2f761e1ddb491333d12e"),mb=n("0632976be3f6b2e67ae2"),_b=n("16db539c7d0db86c9d7a"),bb={open:!1,success:null,error:null,info:null,warning:null,mode:null},xb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bb,e=arguments.length>1?arguments[1]:void 0;return Object(to.a)(t,function(t){var n=e.payload;switch(e.type){case"app/AlertContainer/SET_MESSAGES":t.success=n.success,t.error=n.error,t.info=n.info,t.warning=n.warning;break;case"app/AlertContainer/OPEN_ALERT":t.open=!0,t.mode=n;break;case"app/AlertContainer/CLOSE_ALERT":t.open=!1}})},wb=function(t){return t.alert||bb};function Eb(t,e,n,r){fb||(fb="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:fb,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Ob(){return(Ob=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Sb,Cb=function(t){return i.a.createElement(yb.a,Ob({},t,{direction:"up",variant:"filled"}))},Tb=Object(et.b)({open:Object(et.a)(wb,function(t){return t.open}),message:Object(et.a)(wb,function(t){return function(t){switch(t.mode){case Kl.success:return t.success;case Kl.error:return t.error;case Kl.info:return t.info;case Kl.warning:return t.warning;default:return null}}(t)}),mode:Object(et.a)(wb,function(t){return t.mode})}),Ib=Object(u.c)(Tb,function(t){return{closeSnackbar:function(){return t({type:"app/AlertContainer/CLOSE_ALERT"})}}}),Pb=Object(h.d)(Ib)(function(t){var e=t.open,n=t.message,r=t.mode,o=t.closeSnackbar;Object(Vt.a)({key:"alert",reducer:xb});var i=window.innerWidth>680?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"center"};return Eb(mb.a,{open:e,onClose:o,autoHideDuration:6e3,anchorOrigin:i,TransitionComponent:Cb},void 0,Eb(_b.a,{onClose:o,severity:r},void 0,n))});function Rb(t,e,n,r){Sb||(Sb="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];e.children=a}if(e&&o)for(var l in o)void 0===e[l]&&(e[l]=o[l]);else e||(e=o||{});return{$$typeof:Sb,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Mb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fb(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"HomePage",function(){return Nb});var Lb=Object(s.a)(function(){return{root:{minHeight:"100%"}}}),Db=Rb(a.a,{}),kb=Rb(Sp,{}),Ab=Rb(gb,{}),jb=Rb(Pb,{});function Nb(t){var e=t.onLiveRoute,n=t.onSearch,r=t.logout,o=Lb(),a=Mb(i.a.useState(!1),2),s=a[0],l=a[1],c=Mb(i.a.useState(null),2),u=c[0],h=c[1];return Rb("div",{id:"home_page",className:o.root},void 0,Db,Rb(U,{onSearch:n,onLiveRoute:e,logout:r,openAddFleetModal:function(t){h(t),l(!0)}}),kb,Ab,s&&u&&Rb(hc,{open:s,onClose:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h(t),l(!s)},task:u}),jb)}var zb=Object(u.c)(null,function(t){return{onLiveRoute:function(){return t({type:mo})},onSearch:function(e){return t({type:yo,payload:e})},logout:function(){return t(Object(vb.c)())}}});e.default=Object(h.d)(zb)(Nb)},"0cd3c73b0976507cb4f5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88712' d='m14.606 13.91v1.7742h6.2098v0.88712c-2.6614 0-3.5165 1.7281-3.5485 1.7742h-3.5485v0.88712 0.88712l3.5485 0.88712c0 1.3236 1.3378 2.6614 2.6614 2.6614h2.6614c2.6614 0 4.4356-0.76026 4.4356-2.6614 0-1.6225-2.2284-3.988-5.3227-4.3802v-0.94256h6.2098v-1.7742l-6.2098 0.88712v-0.44356c0-0.24485-0.19872-0.44356-0.44356-0.44356s-0.44356 0.19871-0.44356 0.44356v0.44356l-6.2098-0.88712zm-0.88712 5.3227c0-0.97989-0.79436-1.7742-1.7742-1.7742-0.97988 0-1.7742 0.79435-1.7742 1.7742 0 0.97988 0.79436 1.7742 1.7742 1.7742 0.97989 0 1.7742-0.79436 1.7742-1.7742zm7.9841-0.88712c0.2821-0.03992 2.8831 0.79042 3.5485 2.6614h-3.5485v-2.6614zm4.4356 5.3227v0.88712h-8.8712v1.7742h8.8712c0.98027 0 1.7742-0.79397 1.7742-1.7742v-0.88712h-1.7742z'/%3E %3C/g%3E %3C/svg%3E"},"0efece4c8cb91e128a85":function(t,e,n){"use strict";t.exports=n("82c3e6e6e3fe41af700d")},"1c98b5ebc0a1076f8a67":function(t,e,n){t.exports=function(){"use strict";function t(t,r,o,i,a){!function t(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),p=Math.max(o,Math.floor(r-l*u/s+h)),f=Math.min(i,Math.floor(r+(s-l)*u/s+h));t(n,r,p,f,a)}var d=n[r],g=o,v=i;for(e(n,o,r),a(n[i],d)>0&&e(n,o,i);g<v;){for(e(n,g,v),g++,v--;a(n[g],d)<0;)g++;for(;a(n[v],d)>0;)v--}0===a(n[o],d)?e(n,o,v):e(n,++v,i),v<=r&&(o=v+1),r<=v&&(i=v-1)}}(t,r,o||0,i||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<n;i++){var a=t.children[i];s(o,t.leaf?r(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;t(e,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var r=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?r(a):a;f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],i=e.leaf?this.toBBox(o):o;if(f(t,i)){if(e.leaf||p(t,i))return!0;n.push(o)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,i,a=this.data,s=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!p(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return i(o=d(t.slice(e,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=d([])).leaf=!1,o.height=r;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));g(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);g(t,u,h,l,this.compareMinY);for(var p=u;p<=h;p+=l){var f=Math.min(p+l-1,h);o.children.push(this._build(t,p,f,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=u(l),h=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-c);h<i?(i=h,o=c<o?c:o,a=l):h===i&&c<o&&(o=c,a=l)}e=a||e.children[0]}var p,f;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),o=[],i=this._chooseSubtree(r,this.data,e,o);for(i.children.push(t),s(i,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,o,i,s,l,c,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),v=a(t,d,n,this.toBBox),y=(o=g,i=v,s=void 0,l=void 0,c=void 0,h=void 0,s=Math.max(o.minX,i.minX),l=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),h=Math.min(o.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,h-l)),m=u(g)+u(v);y<p?(p=y,r=d,f=m<f?m:f):y===p&&m<f&&(f=m,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var o=this.toBBox,i=a(t,0,e,o),l=a(t,n-e,n,o),c=h(i)+h(l),u=e;u<n-e;u++){var p=t.children[u];s(i,t.leaf?o(p):p),c+=h(i)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];s(l,t.leaf?o(d):d),c+=h(l)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},r}()},"34d538758fadc195d9b0":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m19.525 15.802q0 0.5865-0.17372 1.1144-0.17372 0.51808-0.57602 0.8993t-0.96004 0.38122q-0.69489 0-1.2618-0.55718-0.56688-0.56695-0.84118-1.3294t-0.2743-1.476q0-0.5865 0.17372-1.1046 0.17372-0.52785 0.57602-0.90908 0.4023-0.38122 0.96004-0.38122 0.70403 0 1.2618 0.56695 0.56688 0.55718 0.84118 1.3196 0.2743 0.75268 0.2743 1.476zm-3.127 4.7213q0 0.782-0.38402 1.3587-0.38402 0.57672-1.088 0.57672-0.69489 0-1.2983-0.53763-0.59431-0.5474-0.91432-1.3099-0.32001-0.76245-0.32001-1.4858 0-0.782 0.38402-1.3587 0.38402-0.5865 1.088-0.5865 0.69488 0 1.2892 0.5474 0.60345 0.53763 0.92347 1.3099 0.32001 0.76245 0.32001 1.4858zm3.602-0.264q1.0789 0 2.3315 0.95795 1.2526 0.94818 2.0938 2.3167 0.84118 1.3587 0.84118 2.4829 0 0.44965-0.15544 0.7429-0.15544 0.30302-0.44802 0.43988-0.28344 0.14662-0.58517 0.1955-0.30173 0.05865-0.69489 0.05865-0.62174 0-1.7189-0.43988-1.088-0.44-1.664-0.44-0.60345 0-1.7646 0.4301-1.152 0.43988-1.8286 0.43988-1.6732 0-1.6732-1.4272 0-0.84065 0.51202-1.867 0.51202-1.0362 1.2709-1.8866 0.76803-0.85043 1.7189-1.4272 0.951-0.577 1.765-0.577zm2.1852-2.0625q-0.55774 0-0.96004-0.38122t-0.57602-0.8993q-0.17372-0.52785-0.17372-1.1144 0-0.72335 0.2743-1.476 0.2743-0.76245 0.83204-1.3196 0.56688-0.56695 1.2709-0.56695 0.55774 0 0.96004 0.38122t0.57602 0.90908q0.17372 0.51808 0.17372 1.1046 0 0.71358-0.2743 1.476-0.2743 0.76245-0.84118 1.3294-0.56688 0.55718-1.2618 0.55718zm3.9499-1.0166q0.70403 0 1.088 0.5865 0.38402 0.57673 0.38402 1.3587 0 0.72335-0.32001 1.4858t-0.92347 1.3099q-0.59431 0.53763-1.2892 0.53763-0.70403 0-1.088-0.57672-0.38402-0.57673-0.38402-1.3587 0-0.72335 0.32001-1.4858 0.32001-0.77222 0.91432-1.3099 0.60345-0.5474 1.2983-0.5474z'/%3E %3C/g%3E %3C/svg%3E"},"37b9a59b1709fe27f5f8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='block-progression:tb;text-transform:none;text-indent:0' stroke-width='.80151' overflow='visible' d='m12.987 13.989c-0.51858 0-0.78749 0.10941-1.052 0.55104-0.2645 0.44164-1.5529 4.3925-1.5529 5.0345v2.7803c0 0.65003 0.60274 1.2524 1.2023 1.2524h0.40076c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045h7.2136c0 1.3281 1.0764 2.4045 2.4045 2.4045s2.4045-1.0764 2.4045-2.4045c0-0.07005-0.01918-0.13186-0.02505-0.20038 0.37553-0.28539 0.82656-0.80321 0.82656-1.052v-2.2292c0-0.86884-1.5457-1.1858-4.258-1.8535 0 0-2.4963-2.9345-3.156-3.732-0.42881-0.51858-0.98827-0.55104-1.4026-0.55104h-7.8148zm2.655 1.2774h1.9537v3.5317h-2.8303c-0.36549 0-0.64622-0.1066-0.52599-0.70132 0.12504-0.62037 0.51638-2.1555 0.62618-2.4296 0.12504-0.31099 0.38132-0.40076 0.77647-0.40076zm3.5567 0h1.7283c0.30858 0 0.65684 0.09879 0.85161 0.32562l2.2793 2.7051c0.25408 0.33664 0.14287 0.50095-0.17533 0.50095h-4.6838v-3.5317zm-4.8091 7.1385c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023zm12.023 0c0.66285 0 1.2023 0.53942 1.2023 1.2023 0 0.66285-0.53942 1.2023-1.2023 1.2023-0.66285 0-1.2023-0.53942-1.2023-1.2023 0-0.66285 0.53942-1.2023 1.2023-1.2023z'/%3E %3C/g%3E %3C/svg%3E"},"38a5cf7bd4a34adb836d":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg3369' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='26' viewBox='0 0 26 26' width='26' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E %3Cpolygon id='arrow' stroke='%23000' points='19 22 13 19 7 22 13 4' stroke-width='1px' fill='%23008000'/%3E %3C/svg%3E"},"3d16292fc1c5dac51b2b":function(t,e,n){"use strict";function r(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}n.d(e,"a",function(){return r})},"403df48ddaa9afb322f2":function(t,e,n){var r=n("ad3d8a7a012d80fe28e9");"string"===typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,o);r.locals&&(t.exports=r.locals)},"4061d78159b3c8762e5a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' style='text-decoration-color:%23000000;block-progression:tb;isolation:auto;mix-blend-mode:normal;text-indent:0;text-decoration-line:none;white-space:normal;text-transform:none;text-decoration-style:solid' stroke-width='.60887' d='m20.609 12.298a0.60893 0.60893 0 1 0 0 1.2177h1.3795l2.0228 6.443-2.5163 3.9077h-5.871c-0.25412-0.70466-0.92507-1.2177-1.7124-1.2177-1.0016 0-1.8266 0.82501-1.8266 1.8266s0.82501 1.8266 1.8266 1.8266c0.78736 0 1.4583-0.51307 1.7124-1.2177h6.2028a0.60893 0.60893 0 0 0 0.51135 -0.27946l2.1477-3.3345 0.49232 1.5697c-0.43114 0.33547-0.71589 0.85238-0.71589 1.4354 0 1.0016 0.82501 1.8266 1.8266 1.8266s1.8266-0.82501 1.8266-1.8266c0-0.98654-0.80143-1.7976-1.7826-1.8218l-3.1157-9.9286a0.60893 0.60893 0 0 0 -0.58151 -0.42692h-1.8266zm-6.6975 11.568c0.33112 0 0.58355 0.24891 0.60173 0.57438a0.60893 0.60893 0 0 0 0 0.07017c-0.01874 0.32487-0.27102 0.57319-0.60173 0.57319-0.34348 0-0.60887-0.26539-0.60887-0.60887s0.26539-0.60887 0.60887-0.60887zm12.177 0c0.34348 0 0.60887 0.26539 0.60887 0.60886 0 0.34348-0.26539 0.60887-0.60887 0.60887s-0.60886-0.26539-0.60886-0.60887 0.26539-0.60886 0.60886-0.60886z' white-space='normal' overflow='visible' font-weight='400'/%3E %3C/g%3E %3C/svg%3E"},"49f4067ee71e74f7bfe5":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.094 25.102q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.64265 0.64265-0.64265zm-12.188-0.294q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.99107-0.99107 0.69685-0.69685 0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.49554-0.49554v-2.2686l-1.626-2.4312q-0.13163-0.20131-0.0542-0.43359 0.07743-0.24003 0.30971-0.31745l1.3705-0.44908v-2.3151h0.99107v-0.99107h1.9821v-0.99107h1.9821v0.99107h1.9821v0.99107h0.99107v2.3151l1.3705 0.44908q0.23228 0.07742 0.30971 0.31745 0.07743 0.23228-0.0542 0.43359l-1.626 2.4312v2.2686l0.14711-0.13937q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.64265 0.6349 0.64265-0.6349q0.14711-0.14711 0.34842-0.14711t0.34842 0.14711l0.99107 0.99107-0.69685 0.69685-0.64265-0.64265-0.64265 0.64265q-0.13937 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64264-0.64265-0.64265 0.64265q-0.14711 0.14711-0.34842 0.14711t-0.34842-0.14711l-0.64265-0.64265-0.64265 0.64265zm3.1203-8.7725v0.99107l2.974-0.991 2.9732 0.99107v-0.99107h-0.99107v-0.99107h-3.9643v0.99107h-0.99107z'/%3E %3C/g%3E %3C/svg%3E"},"774b962f7f8ee233d0d8":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.793 22.105h-2.5821q-0.32893 0-0.47695-0.28781-0.1398-0.28782 0.05757-0.55096l1.546-2.064q-0.53451-0.25492-1.1266-0.25492-1.0855 0-1.8585 0.77299-0.77299 0.77299-0.77299 1.8585t0.77299 1.8585q0.77299 0.77299 1.8585 0.77299 0.94568 0 1.6693-0.59208 0.72365-0.6003 0.91278-1.5131zm-1.5295-1.0526h1.5295q-0.14802-0.69898-0.61674-1.217l-0.91278 1.217zm3.9472 0 2.3683-3.1577h-3.9472l-0.8141 1.0855q0.86344 0.847 1.0361 2.0723h1.3568zm8.4371 2.3848q0.77299-0.77299 0.77299-1.8585t-0.77299-1.8585q-0.77299-0.77299-1.8585-0.77299-0.4934 0-0.99502 0.19736l1.4308 2.1381q0.12335 0.18914 0.08224 0.40294-0.04112 0.2138-0.22203 0.32893-0.12335 0.09046-0.29604 0.09046-0.28781 0-0.43583-0.23847l-1.4308-2.1381q-0.76476 0.78121-0.76476 1.8502 0 1.0855 0.77299 1.8585 0.77299 0.77299 1.8585 0.77299t1.8585-0.77299zm0.74009-4.457q1.0855 1.0772 1.0855 2.5986 0 1.5213-1.0855 2.6068-1.0772 1.0772-2.5986 1.0772-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068 0-0.79766 0.32071-1.5049 0.32893-0.71542 0.90456-1.2335l-0.53451-0.80588-2.9028 3.8567q-0.14802 0.2138-0.41939 0.2138h-1.62q-0.18914 1.3486-1.2253 2.2532-1.0361 0.90456-2.4176 0.90456-1.5213 0-2.6068-1.0772-1.0772-1.0855-1.0772-2.6068t1.0772-2.5986q1.0855-1.0855 2.6068-1.0855 0.93745 0 1.768 0.45228l1.1266-1.5049h-1.842q-0.21381 0-0.37005-0.15624t-0.15624-0.37005q0-0.2138 0.15624-0.37005 0.15624-0.15624 0.37005-0.15624h3.1577v1.0526h3.5771l-0.69898-1.0526h-1.8256q-0.21381 0-0.37005-0.15624t-0.15624-0.37005 0.15624-0.37005 0.37005-0.15624h2.1052q0.27137 0 0.43583 0.23025l2.1956 3.2893q0.74832-0.36182 1.5789-0.36182 1.5213 0 2.5986 1.0855z'/%3E %3C/g%3E %3C/svg%3E"},"82c3e6e6e3fe41af700d":function(t,e,n){"use strict";var r=60103,o=60106,i=60107,a=60108,s=60114,l=60109,c=60110,u=60112,h=60113,p=60120,f=60115,d=60116,g=60121,v=60122,y=60117,m=60129,_=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),o=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),l=b("react.provider"),c=b("react.context"),u=b("react.forward_ref"),h=b("react.suspense"),p=b("react.suspense_list"),f=b("react.memo"),d=b("react.lazy"),g=b("react.block"),v=b("react.server.block"),y=b("react.fundamental"),m=b("react.debug_trace_mode"),_=b("react.legacy_hidden")}function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case i:case s:case a:case h:case p:return t;default:switch(t=t&&t.$$typeof){case c:case u:case d:case f:case l:return t;default:return e}}case o:return e}}}var w=l,E=r,O=u,S=i,C=d,T=f,I=o,P=s,R=a,M=h;e.ContextConsumer=c,e.ContextProvider=w,e.Element=E,e.ForwardRef=O,e.Fragment=S,e.Lazy=C,e.Memo=T,e.Portal=I,e.Profiler=P,e.StrictMode=R,e.Suspense=M,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return x(t)===u},e.isFragment=function(t){return x(t)===i},e.isLazy=function(t){return x(t)===d},e.isMemo=function(t){return x(t)===f},e.isPortal=function(t){return x(t)===o},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===a},e.isSuspense=function(t){return x(t)===h},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===s||t===m||t===a||t===h||t===p||t===_||"object"===typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===f||t.$$typeof===l||t.$$typeof===c||t.$$typeof===u||t.$$typeof===y||t.$$typeof===g||t[0]===v)},e.typeOf=x},"8e5ff0d18795eecbe193":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.78953' d='m20 11.146c-2.1317 5.5267-6.3162 6.785-6.3162 6.785l6.316 1.9v-8.685zm0 8.6848h-6.711v0.64149c0 0.93043 0.77808 1.7633 1.8011 2.3686-0.36215 0.12387-0.72989 0.14804-1.0116 0.14804-0.55267 0-1.4212-0.15791-1.9738-0.78953v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.15791 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.39586 0-0.94322-0.09201-1.431-0.37009 1.0794-0.59227 2.1544-1.4653 2.9361-2.788h-2.6893-4.7372zm4.7372 0s0.0099-4.0167-3.3062-7.2538c0.63162 4.3424-0.64149 5.9215-0.64149 5.9215l3.9476 1.3323zm-12.632 4.7372v1.5791c0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953 0.55267 0.63162 1.4212 0.78953 1.9738 0.78953 0.55267 0 1.4212-0.1579 1.9738-0.78953v-1.5791c-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953-0.55267 0.63162-1.4212 0.78953-1.9738 0.78953-0.55267 0-1.4212-0.1579-1.9738-0.78953z'/%3E %3C/g%3E %3C/svg%3E"},"911f6b041ac8efd77294":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.238 13.763q0.4325 0.51114 0.11796 1.4548-0.31455 0.94364-1.0616 1.6907l-1.5826 1.5826 1.5727 6.8414q0.04915 0.18676-0.11796 0.32438l-1.2582 0.94364q-0.06881 0.05897-0.18676 0.05897-0.03931 0-0.06881-0.0099-0.14744-0.0295-0.20642-0.15727l-2.7425-4.9934-2.5459 2.5459 0.52097 1.9069q0.04915 0.1671-0.07864 0.30472l-0.94364 0.94364q-0.08847 0.08847-0.22608 0.08847h-0.01966q-0.14744-0.01966-0.23591-0.12778l-1.8578-2.477-2.4771-1.8578q-0.10813-0.06881-0.12778-0.22608-0.0099-0.12778 0.08847-0.24574l0.94364-0.95343q0.08847-0.08847 0.22608-0.08847 0.05898 0 0.07864 0.0099l1.9069 0.52097 2.5459-2.5459-4.9934-2.7425q-0.13762-0.07863-0.1671-0.23591-0.01966-0.15728 0.08847-0.2654l1.2582-1.2582q0.13762-0.12778 0.29489-0.07864l6.5367 1.5629 1.5727-1.5727q0.74705-0.74705 1.6907-1.0616 0.94364-0.31455 1.4548 0.11796z'/%3E %3C/g%3E %3C/svg%3E"},"9f8408bc240279d0b00a":function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Ccircle id='icon' cx='20' cy='20' r='5.8251'/%3E %3C/g%3E %3C/svg%3E"},a7e9ffa2c081a2fb5ea5:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1' stroke='%23333'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m15.029 22.296q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm0.69818-3.6423h8.5463l-0.74865-3.003q-0.01682-0.06729-0.11777-0.143-0.10094-0.08412-0.17665-0.08412h-6.4602q-0.07572 0-0.17665 0.08412-0.10095 0.07571-0.11777 0.143l-0.74865 3.003zm11.146 3.6423q0.39535-0.39535 0.39535-0.95053t-0.39535-0.95053q-0.396-0.395-0.951-0.395-0.55518 0-0.95053 0.39535t-0.39535 0.95053 0.39535 0.95053 0.95053 0.39535 0.95053-0.39535zm1.7412-1.7581v3.2301q0 0.11777-0.07571 0.19347-0.07572 0.07571-0.19347 0.07571h-0.80753v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-8.6136v1.0767q0 0.67294-0.47106 1.144t-1.144 0.47106-1.144-0.47106-0.47106-1.144v-1.0767h-0.80753q-0.11777 0-0.19347-0.07571-0.07571-0.07572-0.07571-0.19347v-3.2301q0-0.78229 0.54676-1.3291 0.55518-0.55518 1.3375-0.55518h0.23553l0.88324-3.5245q0.19347-0.7907 0.87482-1.3206 0.68135-0.53835 1.5057-0.53835h6.4602q0.82435 0 1.5057 0.53835 0.68135 0.52994 0.87482 1.3206l0.88323 3.5245h0.23553q0.78229 0 1.3291 0.55518 0.55518 0.54676 0.55518 1.3291z' stroke-width='.1'/%3E %3C/g%3E %3C/svg%3E"},ab0f7027a5d5d72ab9da:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m20 11.299c-2.5762 0-3.8283 0.45542-3.8283 1.3921 0 0.19168 0.15634 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.17129 0.34666-0.45134 1.4247-0.59817l0.294 1.719c-2.8141 0.3154-4.5026 1.5512-4.5026 2.7081v8.1024c0 1.0726 0.7545 1.978 1.7836 2.2513l-1.4574 1.2181c-0.14546 0.12235-0.16586 0.33307-0.0435 0.47853 0.06797 0.08157 0.16314 0.13051 0.26102 0.13051 0.07749 0 0.16314-0.03264 0.22839-0.087l1.9794-1.6531h6.3297l1.9794 1.6531c0.06525 0.05438 0.1509 0.087 0.22839 0.087 0.09788 0 0.19304-0.04894 0.26102-0.13051 0.12235-0.14546 0.10196-0.35618-0.0435-0.47853l-1.4574-1.2181c1.0291-0.27325 1.7836-1.1787 1.7836-2.2513v-8.1024c0-1.1569-1.6885-2.3927-4.5026-2.7081l0.29364-1.7184c1.0781 0.14682 1.4247 0.42687 1.4247 0.59817 0 0.19168 0.15498 0.34802 0.34802 0.34802s0.34802-0.15634 0.34802-0.34802c0-0.93667-1.2521-1.3921-3.8283-1.3921zm0 0.69605c0.37793 0 0.70285 0.01359 1.0006 0.03264l-0.29365 1.7292c-0.23111-0.01223-0.46358-0.02175-0.70692-0.02175-0.24335 0-0.47581 0.0095-0.70692 0.02175l-0.294-1.729c0.29772-0.01903 0.62264-0.03264 1.0006-0.03264zm-2.0881 3.8283h4.1763c0.19304 0 0.34802 0.15634 0.34802 0.34802v0.69605h-4.8723v-0.69605c0-0.19168 0.15634-0.34802 0.34803-0.34802zm-1.3921 1.7401h6.9605c0.38473 0 0.69605 0.28957 0.69605 0.64167v2.5449c0 0.3521-0.31132 0.64167-0.69605 0.64167h-6.9605c-0.38473 0-0.69605-0.28957-0.69605-0.64167v-2.5449c0-0.3521 0.31132-0.64167 0.69605-0.64167zm0.34802 5.5684c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441zm6.2644 0c0.57641 0 1.0441 0.46766 1.0441 1.0441 0 0.57642-0.46766 1.0441-1.0441 1.0441-0.57642 0-1.0441-0.46766-1.0441-1.0441 0-0.57642 0.46766-1.0441 1.0441-1.0441z'/%3E %3C/g%3E %3C/svg%3E"},ad3d8a7a012d80fe28e9:function(t,e,n){(t.exports=n("0e326f80368fd0b1333e")(!1)).push([t.i,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},bc52778aa4babd5538cf:function(t,e,n){"use strict";function r(t){var e,n,o="";if("string"===typeof t||"number"===typeof t)o+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(o&&(o+=" "),o+=n);else for(e in t)t[e]&&(o&&(o+=" "),o+=e);return o}e.a=function(){for(var t,e,n=0,o="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(o&&(o+=" "),o+=e);return o}},ca58d6a6a484c1aaa883:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m18.127 11.484c-0.59864 0-1.0869 0.44565-1.1707 1.0217h-0.362c-1.3143 0-2.3839 1.027-2.3839 2.2881v9.7272c0 0.878 0.51749 1.6389 1.2771 2.0221l-1.6389 1.3622c-0.14633 0.12106-0.16895 0.3379-0.04789 0.48423s0.3379 0.16895 0.48423 0.04789l1.9688-1.6496c0.11175 0.01596 0.22482 0.02128 0.34056 0.02128h6.8111c0.11574 0 0.22881-0.0054 0.34056-0.02128l1.9688 1.6496c0.14633 0.12106 0.36317 0.09844 0.48423-0.04789s0.09844-0.36317-0.04789-0.48423l-1.6389-1.3622c0.7596-0.38313 1.2771-1.1441 1.2771-2.0221v-9.727c0-1.2611-1.0696-2.2881-2.3839-2.2881h-0.36183c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217-0.59864 0-1.0869 0.44565-1.1707 1.0217h-1.4048c-0.08381-0.57602-0.57203-1.0217-1.1707-1.0217zm0 0.68111c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm3.7461 0c0.28202 0 0.51084 0.22881 0.51084 0.51084 0 0.28202-0.22881 0.51084-0.51084 0.51084-0.28202 0-0.51084-0.22881-0.51084-0.51084 0-0.28202 0.22881-0.51084 0.51084-0.51084zm-3.9164 2.7245h4.0867c0.1889 0 0.34056 0.15298 0.34056 0.34056v0.68111h-4.7678v-0.68111c0-0.18757 0.15298-0.34056 0.34056-0.34056zm-1.3622 1.7028h6.8111c0.37648 0 0.68111 0.28336 0.68111 0.6279v2.4903c0 0.34455-0.30464 0.6279-0.68111 0.6279h-6.8111c-0.37648 0-0.68111-0.28335-0.68111-0.6279v-2.4903c0-0.34455 0.30464-0.6279 0.68111-0.6279zm0.34056 6.13c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217zm6.13 0c0.56405 0 1.0217 0.45762 1.0217 1.0217 0 0.56405-0.45762 1.0217-1.0217 1.0217-0.56405 0-1.0217-0.45762-1.0217-1.0217 0-0.56405 0.45762-1.0217 1.0217-1.0217z'/%3E %3C/g%3E %3C/svg%3E"},cc9cb34247c192a15852:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.144 23.756q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm9.3571 0q0.34724-0.34724 0.34724-0.83154t-0.34724-0.8224q-0.3381-0.34724-0.8224-0.34724-0.48431 0-0.83154 0.34724-0.3381 0.3381-0.3381 0.8224 0 0.48431 0.3381 0.83154 0.34724 0.3381 0.83154 0.3381t0.8224-0.3381zm-0.0731-4.4501-0.65793-3.5089q-0.04569-0.21017-0.21017-0.3381-0.15534-0.13707-0.36551-0.13707h-8.3885q-0.21017 0-0.37465 0.13707-0.15534 0.12793-0.20103 0.3381l-0.65792 3.5089q-0.046 0.274 0.128 0.484t0.448 0.21h9.7044q0.27414 0 0.44775-0.21017 0.17362-0.21017 0.12794-0.48431zm-2.193-5.282q0.12794-0.12794 0.12794-0.31069 0-0.18276-0.12794-0.31069-0.12793-0.12794-0.31069-0.12794h-5.8482q-0.18276 0-0.31069 0.12794-0.12793 0.12793-0.12793 0.31069t0.12793 0.31069q0.12794 0.12794 0.31069 0.12794h5.8482q0.18276 0 0.31069-0.12794zm3.7831 6.3142v5.5101h-1.1696v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-7.0179v1.1696q0 0.48431-0.34724 0.8224-0.3381 0.34724-0.8224 0.34724-0.48431 0-0.83154-0.34724-0.3381-0.3381-0.3381-0.8224v-1.1696h-1.1696v-5.5101q0-1.0234 0.22844-2.0377l0.9412-4.1486q0.08224-0.71275 0.88637-1.2519 0.81327-0.53913 2.1017-0.81327 1.2976-0.27414 2.8601-0.27414 1.5626 0 2.851 0.27414 1.2976 0.27413 2.1017 0.81327 0.81327 0.53913 0.89551 1.2519l0.95948 4.1486q0.21017 0.93206 0.21017 2.0377z'/%3E %3C/g%3E %3C/svg%3E"},d00ca599655a685685b3:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.88152' d='m17.19 14.711a0.8816 0.8816 0 0 0 -0.68868 0.66114l-0.71623 2.8649h-3.2781c-0.96967 0-1.763 0.79336-1.763 1.763v2.1211c0 0.35261 0.17079 0.62257 0.5234 0.79887l1.2672 0.4683c0.14704 1.0824 1.0477 1.9008 2.1762 1.9008 1.0799 0 1.9462-0.75066 2.1487-1.763h7.1623c0.20247 1.0124 1.0688 1.763 2.1487 1.763 1.157 0 2.0652-0.85999 2.1762-1.9834l0.4683-0.30302c0.26446-0.1763 0.44076-0.52891 0.44076-0.88152v-1.5151c0-0.35261-0.25344-0.68318-0.60604-0.77133l-3.9668-1.3498-2.1762-2.7272-0.0551-0.08264-0.02755 0.02755c-0.44623-0.66103-1.2059-0.99171-1.9008-0.99171h-3.1679a0.8816 0.8816 0 0 0 -0.08265 0 0.8816 0.8816 0 0 0 -0.08264 0zm0.85397 1.763h2.4793c0.33302 0 0.40036 0.03368 0.49585 0.19283a0.8816 0.8816 0 0 0 0.0551 0.08264l1.1845 1.4876h-4.6555l0.44076-1.763zm-3.3332 5.8125c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887zm11.46 0c0.44076 0 0.79887 0.35812 0.79887 0.79887 0 0.44076-0.35812 0.79887-0.79887 0.79887-0.44076 0-0.79887-0.35812-0.79887-0.79887 0-0.44076 0.35812-0.79887 0.79887-0.79887z'/%3E %3C/g%3E %3C/svg%3E"},d2538cc52c3c9ed4b50a:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4126' width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E %3Ccircle id='circle' cx='20' cy='19' r='12' stroke='%23333333' stroke-width='2'/%3E %3C/svg%3E"},dd1a86c57d873df39098:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("238fef99c154a7dfd239"),o=n("8af190b70a6bc55c6f1b"),i=function(t){function e(e){var n;return(n=t.call(this,e)||this)._state=null,n._del=!1,n._handleChange=function(t){var e=n.state.value,r=t.target.value,o=t.target,i=r.length>e.length,a=n._del,s=e===n.props.format(r);n.setState({value:r,local:!0},function(){var t=o.selectionStart,l=n.props.refuse||/[^\d]+/g,c=r.substr(0,t).replace(l,"");if(n._state={input:o,before:c,op:i,di:a&&s,del:a},n.props.replace&&n.props.replace(e)&&i&&!s){for(var u=-1,h=0;h!==c.length;++h)u=Math.max(u,r.toLowerCase().indexOf(c[h].toLowerCase(),u+1));var p=r.substr(u+1).replace(l,"")[0];u=r.indexOf(p,u+1),r=""+r.substr(0,u)+r.substr(u+1)}var f=n.props.format(r);e===f?n.setState({value:r}):n.props.onChange(f)})},n._hKD=function(t){"Delete"===t.code&&(n._del=!0)},n._hKU=function(t){"Delete"===t.code&&(n._del=!1)},n.state={value:e.value,local:!0},n}Object(r.a)(e,t),e.getDerivedStateFromProps=function(t,e){return{value:e.local?e.value:t.value,local:!1}};var n=e.prototype;return n.render=function(){var t=this._handleChange,e=this.state.value;return(0,this.props.children)({value:e,onChange:t})},n.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},n.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},n.componentDidUpdate=function(){var t=this._state;if(t){for(var e=this.state.value,n=-1,r=0;r!==t.before.length;++r)n=Math.max(n,e.toLowerCase().indexOf(t.before[r].toLowerCase(),n+1));if(this.props.replace&&(t.op||t.del&&!t.di))for(;e[n+1]&&(this.props.refuse||/[^\d]+/).test(e[n+1]);)n+=1;t.input.selectionStart=t.input.selectionEnd=n+1+(t.di?1:0)}this._state=null},e}(o.Component)},dd8173cc67fa36d7ff4a:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='0.87' d='m12.17 13.91c-0.48024 0-0.87 0.38976-0.87 0.87v3.48 4.35c0 0.96135 0.77865 1.74 1.74 1.74h0.05438c0.20276 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h5.3287c0.20277 0.99123 1.0693 1.74 2.1206 1.74s1.9179-0.74877 2.1206-1.74h0.05438c0.96135 0 1.74-0.77865 1.74-1.74v-3.2081-0.27188s-1.1719-3.5328-3.2625-5.0841c-0.13137-0.09831-0.29863-0.13594-0.46219-0.13594h-12.805zm10.44 1.74h2.0119c0.74211 0.65859 1.3787 1.7078 1.8216 2.61h-3.8334v-2.61zm-7.395 7.395c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87zm9.57 0c0.47937 0 0.87 0.39063 0.87 0.87s-0.39063 0.87-0.87 0.87-0.87-0.39063-0.87-0.87 0.39063-0.87 0.87-0.87z'/%3E %3C/g%3E %3C/svg%3E"},dfd42df999446333fe96:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m17.031 24.899q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm-3.1507-5.4819h3.4968v-2.3312h-1.4388q-0.11838 0-0.20034 0.08196l-1.7757 1.7757q-0.08196 0.08196-0.08196 0.20033v0.27318zm11.31 5.4819q0.34603-0.34603 0.34603-0.81955t-0.34603-0.81955-0.81955-0.34603-0.81955 0.34603-0.34603 0.81955 0.34603 0.81955 0.81955 0.34603 0.81955-0.34603zm2.6772-10.727v9.3247q0 0.13659-0.03642 0.24587-0.03642 0.10017-0.12749 0.16391-0.08196 0.06375-0.1457 0.10927-0.06374 0.03642-0.21855 0.05463-0.1457 0.0091-0.20034 0.01821-0.05463 0-0.23676 0-0.17302-0.0091-0.20034-0.0091 0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68292-0.68296-1.6482h-3.4968q0 0.96525-0.68296 1.6482-0.68296 0.68296-1.6482 0.68296-0.96525 0-1.6482-0.68296-0.68296-0.68296-0.68296-1.6482h-0.58279q-0.02732 0-0.20944 0.0091-0.17302 0-0.22765 0-0.05463-0.0091-0.20944-0.01821-0.1457-0.01821-0.20944-0.05463-0.06375-0.04553-0.1548-0.10927-0.08196-0.06375-0.11838-0.16391-0.03642-0.10927-0.03642-0.24586 0-0.23676 0.17302-0.40978t0.40978-0.17302v-2.914q0-0.07285-0.0091-0.31871 0-0.24587 0-0.34603 0.0091-0.10017 0.02732-0.30961 0.01821-0.21855 0.05463-0.33693 0.04554-0.12749 0.12749-0.28229 0.09106-0.1548 0.20944-0.27318l1.803-1.803q0.17302-0.17302 0.45531-0.2914 0.2914-0.11838 0.53726-0.11838h1.457v-1.7484q0-0.23676 0.17302-0.40978t0.40978-0.17302h9.3247q0.23676 0 0.40978 0.17302t0.17302 0.40978z'/%3E %3C/g%3E %3C/svg%3E"},e0e8ac40fdfb7ae1c907:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m26.287 24.941q0 1.0708-0.6189 1.837-0.60907 0.76625-1.4736 0.76625h-8.3895q-0.86449 0-1.4834-0.76625-0.60907-0.76625-0.60907-1.837 0-0.83502 0.07859-1.5718 0.08841-0.7466 0.31436-1.4932 0.22595-0.75643 0.56978-1.2869 0.35366-0.54031 0.92343-0.87432 0.5796-0.34383 1.3262-0.34383 1.2869 1.2574 3.0748 1.2574t3.0748-1.2574q0.7466 0 1.3164 0.34383 0.5796 0.33401 0.92343 0.87432 0.35366 0.53048 0.5796 1.2869 0.22595 0.7466 0.30454 1.4932 0.08842 0.73678 0.08842 1.5718zm-3.625-11.376q1.1101 1.1003 1.1101 2.6622 0 1.562-1.1101 2.6721-1.1 1.101-2.662 1.101t-2.6721-1.1003q-1.1003-1.1101-1.1003-2.6721t1.1003-2.6622q1.11-1.11 2.672-1.11t2.6622 1.1101z'/%3E %3C/g%3E %3C/svg%3E"},e35698e68d1df72089c6:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816-1.1309 3.3906a12.374 12.374 0 0 1 1.1309 -0.0625 12.374 12.374 0 0 1 1.1289 0.056641l-1.129-3.3847zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' stroke-width='.75357' d='m24.334 12.464-4.2153 3.0143c0.10399 0.11605 0.20347 0.23888 0.28259 0.37679l0.51808 0.91842 2.0252-1.4601-1.5778 2.2372 0.49453 0.87132c0.14017 0.18613 0.25282 0.39374 0.32969 0.61228l4.5921-6.5702h-2.4491zm2.4491 1.3188-1.5071 2.143v4.074c0 0.41597 0.3376 0.75357 0.75358 0.75357 0.41522 0 0.75357 0.33836 0.75357 0.75358s-0.33836 0.75357-0.75357 0.75357c-0.41522 0-0.75358-0.33835-0.75358-0.75357h-1.5071c0 1.3858 1.2521 2.4766 2.6846 2.2136 0.88771-0.16277 1.6164-0.87999 1.7897-1.7662 0.22909-1.1718-0.45328-2.2074-1.4601-2.5669v-5.6047zm-12.057 1.6955c-0.8327 0-1.5071 0.67445-1.5071 1.5071v3.7679c0 0.41597 0.3376 0.75358 0.75358 0.75358h0.75357v0.75357h5.275v-0.75357h0.75358c0.41597 0 0.75358-0.3376 0.75358-0.75358v-1.5071l-1.8368-3.0143c-0.269-0.468-0.756-0.753-1.296-0.753h-3.6501zm1.5071 1.5071h2.143l1.2952 2.2607h-3.4382v-2.2607zm-2.2607 6.0286c-1.2487 0-2.2607 1.0121-2.2607 2.2607 0 1.2487 1.012 2.2607 2.2607 2.2607h6.7822c1.2487 0 2.2607-1.0121 2.2607-2.2607 0-1.2487-1.0121-2.2607-2.2607-2.2607h-6.7822zm0 1.5071c0.41597 0 0.75357 0.3376 0.75357 0.75357s-0.3376 0.75358-0.75357 0.75358-0.75358-0.3376-0.75358-0.75358c0-0.41597 0.3376-0.75357 0.75358-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75357-0.3376-0.75357-0.75358 0-0.41597 0.3376-0.75357 0.75357-0.75357zm2.2607 0c0.41597 0 0.75358 0.3376 0.75358 0.75357s-0.3376 0.75358-0.75358 0.75358c-0.41597 0-0.75358-0.3376-0.75358-0.75358 0-0.41597 0.3376-0.75357 0.75358-0.75357z'/%3E %3C/g%3E %3C/svg%3E"},f1d2accb1cb5589a1510:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m16.909 11.561c-0.10947 0.01846-0.20311 0.091-0.24927 0.19256-0.04615 0.10024-0.03956 0.21894 0.01715 0.31389l0.70692 1.1817h-1.7726c-1.3031 0-2.3634 1.0604-2.3634 2.3634v10.467c0 0.29807 0.13189 0.56316 0.33763 0.74912v0.60141c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.33763h6.0774v0.33763c0 0.55788 0.45501 1.0129 1.0129 1.0129h1.3505c0.55789 0 1.0129-0.45502 1.0129-1.0129v-0.601c0.204-0.186 0.336-0.451 0.336-0.749v-10.467c0-1.3031-1.0604-2.3634-2.3634-2.3634h-1.7726l0.70692-1.1817c0.06594-0.1121 0.062-0.25191-0.0092-0.35874-0.07254-0.10815-0.20047-0.16618-0.3284-0.14771-0.09892 0.01846-0.18332 0.08045-0.23212 0.16882l-0.90739 1.5193h-3.693l-0.908-1.518c-0.06726-0.12002-0.20179-0.18596-0.33763-0.16882zm-0.96014 3.3763h8.1032c0.57371 0 1.0129 0.43919 1.0129 1.0129v4.7269c0 0.57371-0.43919 1.0129-1.0129 1.0129h-8.1032c-0.57371 0-1.0129-0.43919-1.0129-1.0129v-4.7269c0-0.57371 0.43919-1.0129 1.0129-1.0129zm-3.0387 2.0258c-0.39171 0-0.67527 0.28356-0.67527 0.67526v2.0258c0 0.39171 0.28356 0.67527 0.67527 0.67527zm14.181 0v3.3763c0.39171 0 0.67527-0.28356 0.67527-0.67527v-2.0258c0-0.39171-0.28356-0.67526-0.67527-0.67526zm-11.142 6.415c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129zm8.1032 0c0.5592 0 1.0129 0.4537 1.0129 1.0129s-0.4537 1.0129-1.0129 1.0129c-0.55921 0-1.0129-0.45369-1.0129-1.0129 0-0.5592 0.45369-1.0129 1.0129-1.0129z'/%3E %3C/g%3E %3C/svg%3E"},fb27460172bd4593ba8b:function(t,e){t.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg id='svg4145' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns='http://www.w3.org/2000/svg' height='40' width='40' version='1.1' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' viewBox='0 0 40 40'%3E %3Cg id='layer1'%3E %3Cpath id='background' d='m20.002 3.6816l-1.131 3.3907a12.374 12.374 0 0 1 1.131 -0.0625 12.374 12.374 0 0 1 1.129 0.0566l-1.129-3.3848zm-0.002 3.9434a12.374 12.374 0 0 0 -12.375 12.375 12.374 12.374 0 0 0 12.375 12.375 12.374 12.374 0 0 0 12.375 -12.375 12.374 12.374 0 0 0 -12.375 -12.375z' stroke='%23333' stroke-width='1.9' fill='%23008000'/%3E %3Cpath id='icon' d='m29.386 21.143q0.09803 0.8414-0.17972 1.6256-0.27774 0.77605-0.80873 1.3315-0.53098 0.55549-1.2989 0.86591-0.75971 0.31042-1.6011 0.25324-1.3152-0.08986-2.2873-1.0211-0.96394-0.93126-1.0946-2.2383-0.09803-0.90675 0.22056-1.7155 0.32676-0.8169 0.9721-1.3969l-0.58-0.87408q-0.78422 0.65352-1.2335 1.5848-0.44929 0.93126-0.44929 1.9932 0 0.22056-0.15521 0.38394-0.14704 0.15521-0.3676 0.15521h-2.0913-0.56366q-0.18789 1.3397-1.2172 2.2383-1.0293 0.89858-2.4017 0.89858-1.5113 0-2.5896-1.0701-1.0701-1.0783-1.0701-2.5896t1.0701-2.5814q1.0783-1.0783 2.5896-1.0783 0.62084 0 1.2417 0.22056l0.19606-0.3676q-1.0048-0.89858-2.4834-0.89858h-0.52281q-0.21239 0-0.3676-0.15521t-0.15521-0.3676 0.15521-0.3676 0.3676-0.15521h1.0456q0.63718 0 1.1845 0.11437 0.54732 0.1062 0.9476 0.31042 0.40845 0.20422 0.58816 0.32676 0.17972 0.11437 0.41662 0.29408h4.1825 0.93943l-0.69436-1.0456h-1.8135q-0.24507 0-0.40028-0.17972-0.15521-0.18789-0.11437-0.43296 0.03267-0.18789 0.18788-0.31042t0.35126-0.12253h2.0667q0.26958 0 0.43296 0.22873l0.57183 0.85774 0.93126-0.93126q0.15521-0.15521 0.37577-0.15521h0.82506q0.21239 0 0.3676 0.15521t0.15521 0.3676v1.0456q0 0.21239-0.15521 0.3676t-0.3676 0.15521h-1.4622l0.93943 1.4051q1.0701-0.51465 2.2465-0.29408 1.1682 0.21239 1.9932 1.1028 0.82506 0.88225 0.96394 2.0667zm-15.137 3.039q0.93943 0 1.6583-0.58816 0.71887-0.59634 0.90675-1.5031h-2.5651q-0.28591 0-0.44929-0.25324-0.14704-0.26141-0.0082-0.51464l1.2008-2.2628q-0.38394-0.1062-0.74338-0.1062-1.0783 0-1.8462 0.76788-0.76788 0.76788-0.76788 1.8462t0.76788 1.8462q0.76788 0.76788 1.8462 0.76788zm9.6557-0.76788q0.76788 0.76788 1.8462 0.76788t1.8462-0.76788q0.76788-0.76788 0.76788-1.8462t-0.76788-1.8462q-0.76788-0.76788-1.8462-0.76788-0.49014 0-0.98844 0.19606l1.4214 2.1239q0.12254 0.18789 0.0817 0.40028-0.04085 0.21239-0.22056 0.32676-0.12253 0.08986-0.29408 0.08986-0.28591 0-0.43296-0.2369l-1.4214-2.1239q-0.75971 0.77605-0.75971 1.838 0 1.0783 0.76788 1.8462z'/%3E %3C/g%3E %3C/svg%3E"},fc6e320ad802f37372f2:function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function o(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}n.d(e,"a",function(){return o})}}]);