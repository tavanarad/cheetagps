(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1e8b66a715a28bcd56f8":function(e,r,t){"use strict";t.r(r);var n,a=t("8af190b70a6bc55c6f1b"),o=t.n(a),c=(t("8a2d1b95e05b6a321e74"),t("0a81c721557e72a0975d")),i=t("103be25b8913a0141218"),s=t("a28fc3c963a1d4d1a2e5"),u=t("1f7eb4558e149d7a2535"),l=t("6542cd13fd5dd1bcffd4"),f=t("95304742f100121de3ed"),d=t("a11eacdcf2a3861858dc"),b=t("b5b7bafeb7add2b1fc09"),p=t("d7f9c90bb9eec3ae4c76"),g=t("fc43733ec9d3f066c334"),m=t("ab039aecd4a1d4fedc0e"),v=t("1b4947d16bbaf85cb8db"),y=t("043737a9f76d0e1c02ad"),h=t("9d316ebc33f5187e30d0"),w=t("7f1e5b8b7e153fb9be55"),O="app.components.LoginForm",j=Object(m.defineMessages)({header:{id:"".concat(O,".header"),defaultMessage:"This is the LoginForm component!"},username:{id:"".concat(O,".username"),defaultMessage:"Username"},password:{id:"".concat(O,".password"),defaultMessage:"Password"},server:{id:"".concat(O,".server"),defaultMessage:"Server"},server_1:{id:"".concat(O,".server_1"),defaultMessage:"Server 1"},server_2:{id:"".concat(O,".server_2"),defaultMessage:"Server 2"},signin:{id:"".concat(O,".signin"),defaultMessage:"SIGN IN"}});function S(e,r,t,a){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,c=arguments.length-3;if(r||0===c||(r={children:void 0}),1===c)r.children=a;else if(c>1){for(var i=new Array(c),s=0;s<c;s++)i[s]=arguments[s+3];r.children=i}if(r&&o)for(var u in o)void 0===r[u]&&(r[u]=o[u]);else r||(r=o||{});return{$$typeof:n,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach(function(r){x(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function x(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return t}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return I(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var M=Object(g.a)(function(e){return{button:{width:"100%",marginTop:24,marginBottom:16},container:{paddingTop:64},form:{width:"100%",margin:e.spacing(5)},paper:{display:"flex",flexWrap:"wrap",minWidth:"300px",maxWidth:"50%",right:0,left:0,top:0,bottom:0,margin:"auto"},textField:{width:"100%"},formControl:{width:"100%",marginTop:16,marginBottom:8}}}),F=S(f.a,{});var _=function(e){var r=e.fetchServer,t=e.onLogin,n=e.showLoader,c=void 0!==n&&n,i=M(),s=E(Object(a.useState)(localStorage.getItem("server")||"app.cheetagps.com"),2),u=s[0],l=s[1],f=E(Object(a.useState)({username:"",password:""}),2),g=f[0],O=f[1];return S("div",{className:i.container},void 0,S(b.a,{className:i.paper},void 0,S("form",{className:i.form,onSubmit:function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),t(P({},g))},noValidate:!0},void 0,S(p.a,{id:"username-input",label:o.a.createElement(m.FormattedMessage,j.username),className:i.textField,margin:"normal",name:"username",onChange:function(e){O(P(P({},g),{},{username:e.target.value}))},type:"text",variant:"outlined",value:g.username}),S(p.a,{id:"password-input",label:o.a.createElement(m.FormattedMessage,j.password),className:i.textField,margin:"normal",name:"password",onChange:function(e){O(P(P({},g),{},{password:e.target.value}))},type:"password",variant:"outlined",value:g.password}),S(v.a,{variant:"outlined",className:i.formControl},void 0,S(y.a,{id:"server_label"},void 0,o.a.createElement(m.FormattedMessage,j.server)),S(h.a,{labelId:"server_label",label:o.a.createElement(m.FormattedMessage,j.server),className:i.textField,onChange:function(e){localStorage.setItem("server",e.target.value),l(e.target.value),r()},value:u},void 0,S(w.a,{value:"app.cheetagps.com"},void 0,o.a.createElement(m.FormattedMessage,j.server_1)),S(w.a,{value:"app2.cheetagps.com"},void 0,o.a.createElement(m.FormattedMessage,j.server_2)))),S(d.a,{id:"signin-button",className:i.button,color:"primary",name:"signin",type:"submit",variant:"contained",disabled:c},void 0,c?F:o.a.createElement(m.FormattedMessage,j.signin)))))},k=t("d95b0cf107403b178365"),A=t("adc20f99e57c573c589c"),N="app/LoginPage/LOGIN_REQUEST",R="app/LoginPage/LOGIN_FAILED",D="app/LoginPage/SESSION_REQUEST";function T(e){return{type:R,payload:e}}var C,U=t("7edf83707012a871cdfb"),$={isLoggingIn:!1,username:null,password:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,r=arguments.length>1?arguments[1]:void 0;return Object(U.a)(e,function(e){switch(r.type){case N:e.isLoggingIn=!0,e.username=r.payload.username,e.password=r.payload.password;break;case R:e.isLoggingIn=!1,e.username=null,e.password=null,e.error=r.payload}})},W=function(e){return e.loginPage||$},B=function(){return Object(s.a)(W,function(e){return e})},J=t("124b48bac274890c1fae"),Q=t("2cb3248ea08cdbff4a37"),V=t("a72b40110d9c31c9b5c5"),q=t("f363639bc5c3c97af546"),z=regeneratorRuntime.mark(X),H=regeneratorRuntime.mark(Y),K=regeneratorRuntime.mark(Z);function X(e){var r,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.payload,n.prev=1,r.email=e.payload.username,delete r.username,n.next=6,Object(J.b)(q.c,"".concat(Q.a.API_URL,"/session"),r,!0);case 6:return t=n.sent,n.next=9,Object(J.c)(Object(V.a)(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(J.c)(T(n.t0));case 15:case"end":return n.stop()}},z,null,[[1,11]])}function Y(){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(J.b)(q.b,"".concat(Q.a.API_URL,"/session"));case 3:return e=r.sent,r.next=6,Object(J.c)(Object(V.a)(e));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(J.c)(T(r.t0));case 12:case"end":return r.stop()}},H,null,[[0,8]])}function Z(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([Object(J.g)(N,X),Object(J.g)(D,Y)]);case 2:case"end":return e.stop()}},K)}function ee(e,r,t,n){C||(C="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(r||0===o||(r={children:void 0}),1===o)r.children=n;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];r.children=c}if(r&&a)for(var s in a)void 0===r[s]&&(r[s]=a[s]);else r||(r=a||{});return{$$typeof:C,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}t.d(r,"LoginPage",function(){return te});var re=ee(i.a,{to:"/"});function te(e){var r=e.fetchServer,t=e.isLogin,n=e.loginPage,c=e.getSession,i=e.onLogin;return Object(k.a)({key:"loginPage",reducer:G}),Object(A.a)({key:"loginPage",saga:Z}),Object(a.useEffect)(function(){c()},[]),t?re:o.a.createElement(o.a.Fragment,null,ee(_,{onLogin:i,showLoader:n.isLoggingIn,fetchServer:r}))}var ne=Object(s.b)({isLogin:Object(l.a)(),loginPage:B()});var ae=Object(c.c)(ne,function(e){return{onLogin:function(r){e({type:N,payload:r})},getSession:function(){e({type:D})},fetchServer:function(){return e(Object(V.f)())}}});r.default=Object(u.d)(ae)(te)},bc52778aa4babd5538cf:function(e,r,t){"use strict";function n(e){var r,t,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(t=n(e[r]))&&(a&&(a+=" "),a+=t);else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}r.a=function(){for(var e,r,t=0,a="";t<arguments.length;)(e=arguments[t++])&&(r=n(e))&&(a&&(a+=" "),a+=r);return a}}}]);